##
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
#
# Authors::   Jordi Blasco <jordi.blasco@nesi.org.nz>
#
##

name = 'DMTCP'
version = '2.3.1'

homepage = 'http://dmtcp.sourceforge.net//index.html'
description = """DMTCP (Distributed MultiThreaded Checkpointing) is a tool to transparently checkpoint the state of multiple simultaneous applications, including multi-threaded and distributed applications. It operates directly on the user binary executable, without any Linux kernel modules or other kernel modifications."""

toolchain = {'name': 'gmpolf', 'version': '1.4.8'}

sources = [SOURCELOWER_TAR_GZ]
source_urls = ["http://downloads.sourceforge.net/project/dmtcp/dmtcp-2.x/%s/" % (version)]

configopts = "--enable-timing --enable-infiniband-support " 

sanity_check_paths = {
                      'files': ['bin/dmtcp_checkpoint', 'bin/dmtcp_command', 'bin/dmtcp_coordinator' , 'bin/dmtcp_discover_rm' , 'bin/dmtcp_launch' , 'bin/dmtcp_restart' ],
                      'dirs': []
                     }

moduleclass = 'tools'
