# #
# This is a contribution from SIB Swiss Institute of Bioinformatics
# Homepage:     https://www.sib.swiss/research-infrastructure/competence-centers/vital-it
#
# Authors::     Sebastien Moretti <sebastien.moretti@sib.swiss>
#
# Updated and extended for 3.59.1 by Adam Huffman <adam.huffman@ndm.ox.ac.uk>

easyblock = 'PythonBundle'

name = 'dvc'
version = '3.59.1'

homepage = 'https://dvc.org/'
description = "(Not Just) Data Version Control"

# software_license = 'LicenseApachev2'

toolchain = {'name': 'gfbf', 'version': '2023a'}

builddependencies = [
    ('poetry', '1.7.1'),
]

dependencies = [
    ('Python', '3.11.3'),
    ('git', '2.41.0', '-nodocs'),
    ('GitPython', '3.1.40'),
    ('networkx', '3.1'),
    ('PyYAML', '6.0'),
    ('ruamel.yaml', '0.17.32'),
    ('SciPy-bundle', '2023.07'),
    ('tqdm', '4.66.1'),
    ('pydantic', '2.5.3'),
]

sanity_pip_check = False

exts_list = [
    ('setuptools', '70.1.1', {
        'source_tmpl': 'setuptools-%(version)s.tar.gz',
        'checksums': ['937a48c7cdb7a21eb53cd7f9b59e525503aa8abaf3584c730dc5f7a5bec3a650'],
    }),
    ('setuptools-scm', '8.2.0', {
        'source_tmpl': 'setuptools_scm-%(version)s.tar.gz',
        'checksums': ['a18396a1bc0219c974d1a74612b11f9dce0d5bd8b1dc55c65f6ac7fd609e8c28'],
    }),
    ('trove-classifiers', '2023.8.7', {
        'checksums': ['c9f2a0a85d545e5362e967e4f069f56fddfd91215e22ffa48c66fb283521319a'],
    }),
    ('dvc-azure', '3.1.0', {
        'modulename': 'dvc_azure',
        'checksums': ['52cbc70d5414b50219b3db0a16f68ad25daba76e3f220aebe4e49b3c6498ae20'],
    }),
    ('argcomplete', '3.1.2', {
        'checksums': ['d5d1e5efd41435260b8f85673b74ea2e883affcbec9f4230c582689e8e78251b'],
    }),
    ('knack', '0.11.0', {
        'checksums': ['eb6568001e9110b1b320941431c51033d104cc98cda2254a5c2b09ba569fd494'],
    }),
    ('msal', '1.24.1', {
        'checksums': ['aa0972884b3c6fdec53d9a0bd15c12e5bd7b71ac1b66d746f54d128709f3f8f8'],
    }),
    ('azure-datalake-store', '0.0.53', {
        'modulename': 'azure.datalake',
        'source_tmpl': 'azure_datalake_store-%(version)s-py2.py3-none-any.whl',
        'checksums': ['a30c902a6e360aa47d7f69f086b426729784e71c536f330b691647a51dc42b2b'],
    }),
    ('isodate', '0.6.1', {
        'checksums': ['48c5881de7e8b0a0d648cb024c8062dc84e7b840ed81e864c7614fd3c127bde9'],
    }),
    ('requests-oauthlib', '1.3.1', {
        'modulename': 'requests_oauthlib',
        'checksums': ['75beac4a47881eeb94d5ea5d6ad31ef88856affe2332b9aafb52c6452ccf0d7a'],
    }),
    ('oauthlib', '3.2.2', {
        'checksums': ['9859c40929662bec5d64f34d01c99e093149682a3f38915dc0655d5a633dd918'],
    }),
    ('msrest', '0.7.1', {
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'checksums': ['21120a810e1233e5e6cc7fe40b474eeb4ec6f757a15d7cf86702c369f9567c32'],
    }),
    ('azure-storage-blob', '12.18.3', {
        'modulename': 'azure.storage',
        'source_tmpl': 'azure_storage_blob-%(version)s-py3-none-any.whl',
        'checksums': ['c278dde2ac41857a68d615c9f2b36d894ba877a7e84d62795603c7e79d0bb5e9'],
    }),
    ('azure-core', '1.29.4', {
        'modulename': 'azure.core',
        'source_tmpl': 'azure_core-%(version)s-py3-none-any.whl',
        'checksums': ['b03261bcba22c0b9290faf9999cedd23e849ed2577feee90515694cea6bc74bf'],
    }),
    ('azure-identity', '1.14.1', {
        'modulename': 'azure',
        'source_tmpl': 'azure_identity-%(version)s-py3-none-any.whl',
        'checksums': ['3a5bef8e9c3281e864e869739be8d67424bff616cddae96b546ca2a5168d863d'],
    }),
    ('adlfs', '2023.10.0', {
        'checksums': ['f5cf06c5b0074d17d43838d4c434791a98420d9e768b36a1a02c7b3930686543'],
    }),
    ('dvc-s3', '3.2.0', {
        'modulename': 'dvc_s3',
        'source_tmpl': 'dvc_s3-%(version)s.tar.gz',
        'checksums': ['1d012ac1dce47659986f918123b48931cf9b3429ab0b4a22fd4b02448185ceb6'],
    }),
    ('typing-extensions', '4.4.0', {
        'modulename': 'typing_extensions',
        'source_tmpl': 'typing_extensions-%(version)s.tar.gz',
        'checksums': ['1511434bb92bf8dd198c12b1cc812e800d4181cfcb867674e0f8279cc93087aa'],
    }),
    ('aioitertools', '0.11.0', {
        'checksums': ['42c68b8dd3a69c2bf7f2233bf7df4bb58b557bca5252ac02ed5187bbc67d6831'],
    }),
    ('wrapt', '1.15.0', {
        'checksums': ['d06730c6aed78cee4126234cf2d071e01b44b915e725a6cb439a879ec9754a3a'],
    }),
    ('aiobotocore', '2.7.0', {
        'checksums': ['506591374cc0aee1bdf0ebe290560424a24af176dfe2ea7057fe1df97c4f0467'],
    }),
    ('s3fs', '2023.9.2', {
        'checksums': ['64cccead32a816422dd9ae1d693c5d6354d99f64ae26c56388f1d8e1c7858321'],
    }),
    ('jmespath', '1.0.1', {
        'checksums': ['90261b206d6defd58fdd5e85f478bf633a2901798906be2ad389150c5c60edbe'],
    }),
    ('kombu', '5.4.2', {
        'checksums': ['eef572dd2fd9fc614b37580e3caeafdd5af46c1eff31e7fba89138cdb406f2cf'],
    }),
    ('botocore', '1.31.66', {
        'checksums': ['70e94a5f9bd46b26b63a41fb441ad35f2ae8862ad9d90765b6fa31ccc02c0a19'],
    }),
    ('boto3', '1.28.66', {
        'checksums': ['38658585791f47cca3fc6aad03838de0136778b533e8c71c6a9590aedc60fbde'],
    }),
    ('nanotime', '0.5.2', {
        'checksums': ['c7cc231fc5f6db401b448d7ab51c96d0a4733f4b69fabe569a576f89ffdf966b'],
    }),
    ('aiohttp_retry', '2.8.3', {
        'checksums': ['9a8e637e31682ad36e1ff9f8bcba912fcfc7d7041722bc901a4b948da4d71ea9'],
    }),
    ('frozenlist', '1.4.0', {
        'checksums': ['09163bdf0b2907454042edb19f887c6d33806adc71fbd54afc14908bfdc22251'],
    }),
    ('aiosignal', '1.3.1', {
        'checksums': ['54cd96e15e1649b75d6c87526a6ff0b6c1b0dd3459f43d9ca11d48c339b68cfc'],
    }),
    ('charset-normalizer', '3.3.0', {
        'modulename': 'charset_normalizer',
        'checksums': ['63563193aec44bce707e0c5ca64ff69fa72ed7cf34ce6e11d5127555756fd2f6'],
    }),
    ('async-timeout', '4.0.3', {
        'modulename': 'async_timeout',
        'checksums': ['4640d96be84d82d02ed59ea2b7105a0f7b33abe8703703cd0ab0bf87c427522f'],
    }),
    ('zc.lockfile', '3.0.post1', {
        'checksums': ['adb2ee6d9e6a2333c91178dcb2c9b96a5744c78edb7712dc784a7d75648e81ec'],
    }),
    ('yarl', '1.9.2', {
        'checksums': ['04ab9d4b9f587c06d801c2abfe9317b77cdf996c65a90d5e84ecc45010823571'],
    }),
    ('multidict', '6.0.4', {
        'checksums': ['3666906492efb76453c0e7b97f2cf459b0682e7402c0489a95484965dbc1da49'],
    }),
    ('atpublic', '4.0', {
        'modulename': 'public',
        'source_tmpl': 'atpublic-%(version)s-py3-none-any.whl',
        'checksums': ['80057c55641253b86dcb68b524f82328172371b6547d4c7462a9127fbfbbabfc'],
    }),
    ('flufl.lock', '8.1.0', {
        'source_tmpl': 'flufl_lock-%(version)s-py3-none-any.whl',
        'checksums': ['a01b2153d1b0cc170a26b1413037debbe94af6a1cd23164b3b2b229f766b164f'],
    }),
    ('aiohttp', '3.8.6', {
        'checksums': ['b0cf2a4501bff9330a8a5248b4ce951851e415bdcce9dc158e76cfd55e15085c'],
    }),
    ('celery', '5.5.1', {
        'checksums': ['2af9109a10fe28155044f4c387ce0e5e7f1fc89f9584cfb4b0df94f99a5fedc7'],
    }),
    ('shortuuid', '1.0.11', {
        'checksums': ['fc75f2615914815a8e4cb1501b3a513745cb66ef0fd5fc6fb9f8c3fa3481f789'],
    }),
    ('flatten-dict', '0.4.2', {
        'modulename': 'flatten_dict',
        'checksums': ['506a96b6e6f805b81ae46a0f9f31290beb5fa79ded9d80dbe1b7fa236ab43076'],
    }),
    ('dvc-render', '1.0.2', {
        'modulename': 'dvc_render',
        'checksums': ['40d1cd81760daf34b48fa8362b5002fcbe415e3cdbcf42369b6347d01497ffc0'],
    }),
    ('fsspec', '2024.2.0', {
        'checksums': ['b6ad1a679f760dda52b1168c859d01b7b80648ea6f7f7c7f5a8a91dc3f3ecb84'],
    }),
    ('dvc-objects', '5.1.0', {
        'modulename': 'dvc_objects',
        'checksums': ['22e919620f9ecf428a0d295efca8073d1c0e87206dd8e1f52b1d9520fa25b814'],
    }),
    ('dvc-http', '2.30.2', {
        'modulename': 'dvc_http',
        'checksums': ['d7cf66e8f8359cc9f5ca137de24d259beebdec444516fc7d085ad26fa7d3b34b'],
    }),
    ('pathspec', '0.11.2', {
        'checksums': ['e0d8d0ac2f12da61956eb2306b69f9469b42f4deb0f3cb6ed47b9cce9996ced3'],
    }),
    ('platformdirs', '3.11.0', {
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'checksums': ['e9d171d00af68be50e9202731309c4e658fd8bc76f55c11c7dd760d023bda68e'],
    }),
    ('dulwich', '0.21.7', {
        'source_tmpl': 'dulwich-%(version)s-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl',
        'checksums': ['7bca4b86e96d6ef18c5bc39828ea349efb5be2f9b1f6ac9863f90589bac1084d'],
    }),
    ('scmrepo', '3.3.8', {
        'checksums': ['e0d71cef4725dbee2cefab0cfff0a3a65d8cc213a53b468d4e3fa61ba2ec66f4'],
    }),
    ('dpath', '2.1.6', {
        'checksums': ['f1e07c72e8605c6a9e80b64bc8f42714de08a789c7de417e49c3f87a19692e47'],
    }),
    ('diskcache', '5.6.3', {
        'checksums': ['2c3a3fa2743d8535d832ec61c2054a1641f41775aa7c556758a109941e33e4fc'],
    }),
    ('orjson', '3.10.16', {
        'source_tmpl': 'orjson-%(version)s-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl',
        'checksums': ['31b98bc9b40610fec971d9a4d67bb2ed02eec0a8ae35f8ccd2086320c28526ca'],
    }),
    ('sqltrie', '0.11.1', {
        'checksums': ['56963921dec494881b048e968d5556a90ed273b5dba1ea0aaac462f3b9815d21'],
    }),
    ('attrs', '24.3.0', {
        'source_tmpl': 'attrs-%(version)s-py3-none-any.whl',
        'checksums': ['ac96cd038792094f438ad1f6ff80837353805ac950cd2aa0e0625ef19850c308'],
    }),
    ('dvc-data', '3.16.8', {
        'modulename': 'dvc_data',
        'source_tmpl': 'dvc_data-%(version)s.tar.gz',
        'checksums': ['3e280ff610adfae1f032a0ada2ba86962dd7ec015fce5f8daf21d9bea4ad4cda'],
    }),
    ('pygtrie', '2.5.0', {
        'checksums': ['203514ad826eb403dab1d2e2ddd034e0d1534bbe4dbe0213bb0593f66beba4e2'],
    }),
    ('voluptuous', '0.15.2', {
        'checksums': ['6ffcab32c4d3230b4d2af3a577c87e1908a714a11f6f95570456b1849b0279aa'],
    }),
    ('shtab', '1.7.1', {
        'source_tmpl': 'shtab-%(version)s-py3-none-any.whl',
        'checksums': ['32d3d2ff9022d4c77a62492b6ec875527883891e33c6b479ba4d41a51e259983'],
    }),
    ('funcy', '2.0', {
        'checksums': ['3963315d59d41c6f30c04bc910e10ab50a3ac4a225868bfa96feed133df075cb'],
    }),
    ('dvc-task', '0.3.0', {
        'modulename': 'dvc_task',
        'checksums': ['6ab288bfbbc4a2df8ef145c543bb979d6cb8fb49037fec821a59ad6e1dfdddce'],
    }),
    ('dvc-studio-client', '0.21.0', {
        'source_tmpl': 'dvc_studio_client-%(version)s.tar.gz',
        'checksums': ['db212ff5cf73dce886d0713a5d2bf4bc0bbfb499f3ca8548705ca98aab5addd1'],
    }),
    ('iterative-telemetry', '0.0.7', {
        'checksums': ['738448b35c82570e8eca8b463c81e2cc3e5aaeabb65632625888df42151e494d'],
    }),
    ('grandalf', '0.8', {
        'checksums': ['2813f7aab87f0d20f334a3162ccfbcbf085977134a17a5b516940a93a77ea974'],
    }),
    ('entrypoints', '0.4', {
        'checksums': ['b706eddaa9218a19ebcd67b56818f05bb27589b1ca9e8d797b74affad4ccacd4'],
    }),
    ('semver', '3.0.2', {
        'checksums': ['6253adb39c70f6e51afed2fa7152bcd414c411286088fb4b9effb133885ab4cc'],
    }),
    ('gto', '1.6.0', {
        'checksums': ['a45b80b31f57b1a14f7f0ff506aaa865882169324c7055e252d84e36d64270fd'],
    }),
    ('hydra-core', '1.3.2', {
        'modulename': 'hydra',
        'checksums': ['8a878ed67216997c3e9d88a8e72e7b4767e81af37afb4ea3334b269a4390a824'],
    }),
    ('antlr4-python3-runtime', '4.9.3', {
        'modulename': 'antlr4',
        'checksums': ['f224469b4168294902bb1efa80a8bf7855f24c99aef99cbefc1bcd3cce77881b'],
    }),
    ('omegaconf', '2.3.0', {
        'checksums': ['d5d4b6d29955cc50ad50c46dc269bcd92c6e00f5f90d23ab5fee7bfca4ba4cc7'],
    }),
    (name, version, {
        'source_tmpl': 'dvc-%(version)s-py3-none-any.whl',
        'use_pip_extras': 'all',
        'checksums': ['445c66f5d8304cf868ecff7b6d9428bff7879cff9545f0ac5a896572e14e14dd'],
    }),
]

sanity_check_paths = {
    'files': ['bin/%(name)s'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ['%(name)s --version && %(name)s doctor']

moduleclass = 'tools'
