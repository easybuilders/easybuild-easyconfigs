easyblock = 'PythonBundle'

name = 'dedalus'
version = '3.0.2'

homepage = 'https://dedalus-project.readthedocs.io/en/latest/index.html'
description = """
Dedalus is a flexible framework for solving partial differential equations using spectral methods. 
The code is open-source and developed by a team of researchers studying astrophysical, geophysical,
and biological fluid dynamics.
"""

toolchain = {'name': 'foss', 'version': '2023b'}

dependencies = [
    ('Python', '3.11.5'),
    ('mpi4py', '3.1.5'),
    ('FFTW.MPI', '3.3.10'),
    ('HDF5', '1.14.3'),
    ('SciPy-bundle', '2023.11') ,
    ('h5py', '3.11.0', '', ('foss', '2023b')),
    ('xarray', '2023.9.0', '', ('gfbf', '2023b')), 
]

use_pip = True

exts_list = [
    (name, version, {
        'preinstallopts': 'export FFTW_PATH="$EBROOTFFTWMPI" && '
			  'export MPI_PATH="$EBROOTMPI4PY" && '
                          'CC=mpicc',
        'checksums': ['fb8db776d2bf0c9112082d0d6d88b841fffb8b3e979067ba9f708042da1437f3'],
    }),
]

moduleclass = 'math'
