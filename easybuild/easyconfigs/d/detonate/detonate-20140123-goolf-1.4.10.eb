# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = 'detonate'
version = '20140123' 

homepage = 'http://deweylab.biostat.wisc.edu/detonate/'
description = """ DETONATE (DE novo TranscriptOme rNa-seq Assembly with or without 
 the Truth Evaluation) consists of two component packages, RSEM-EVAL and REF-EVAL. 
 Both packages are mainly intended to be used to evaluate de novo transcriptome assemblies, 
 although REF-EVAL can be used to compare sets of any kinds of genomic sequences. """

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = ['http://deweylab.biostat.wisc.edu/detonate/']
sources = [SOURCE_TAR_GZ]

files_to_copy = [(["rsem-eval/rsem-*", "rsem-eval/extract-transcript-to-gene-map-from-trinity",
                "rsem-eval/estimateParams", "rsem-eval/calcScore", "rsem-eval/convert-sam-for-rsem"],
                "rsem-eval/bin"),
                (["ref-eval/ref-eval-build-true-assembly", "ref-eval/ref-eval"], "ref-eval/bin"),
                "README"]
        
sanity_check_paths = {
    'files': ["rsem-eval/bin/estimateParams", "rsem-eval/bin/calcScore", "rsem-eval/bin/rsem-bam2wig",
             "ref-eval/bin/ref-eval-build-true-assembly", "ref-eval/bin/ref-eval"],
    'dirs': [""],
}

modextrapaths = { 
        'PATH': "rsem-eval/bin:$root/ref-eval/bin",
}

moduleclass = 'bio'

