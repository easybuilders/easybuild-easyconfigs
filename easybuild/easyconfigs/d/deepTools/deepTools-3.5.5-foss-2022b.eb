easyblock = 'PythonBundle'

name = 'deepTools'
version = '3.5.5'

homepage = 'https://deeptools.readthedocs.io/'
description = """deepTools is a suite of python tools particularly developed for the efficient analysis of
 high-throughput sequencing data, such as ChIP-seq, RNA-seq or MNase-seq."""

toolchain = {'name': 'foss', 'version': '2022b'}

dependencies = [
    ('Python', '3.10.8'),
    ('SciPy-bundle', '2023.02'),
    ('matplotlib', '3.7.0'),
    ('plotly.py', '5.13.1'),
    ('Pysam', '0.21.0'),
    ('pyBigWig', '0.3.22'),
]

use_pip = True

exts_list = [
    ('py2bit', '0.3.0', {
        'checksums': ['450555c40cba66957ac8c9a4b6afb625fb34c4bb41638de78c87661ff8b682ef'],
    }),
    ('deeptoolsintervals', '0.1.9', {
        'checksums': ['7d94c36fd2b6f10d8b99e536d2672e8228971f1fc810497d33527bba2c40d4f6'],
    }),
    ('numpydoc', '1.6.0', {
        'checksums': ['ae7a5380f0a06373c3afe16ccd15bd79bc6b07f2704cbc6f1e7ecc94b4f5fc0d'],
    }),
    ('mock', '5.1.0', {
        'checksums': ['5e96aad5ccda4718e0a229ed94b2024df75cc2d55575ba5762d31f5767b8767d'],
    }),
    (name, version, {
        'checksums': ['1c04870187117fa42eb11de95e7ff136f1445965b49ad5dae46099c3ed273f7b'],
    }),
]

sanity_check_paths = {
    'files': ['bin/bamCompare', 'bin/bamCoverage', 'bin/bamPEFragmentSize', 'bin/computeGCBias', 'bin/computeMatrix',
              'bin/correctGCBias', 'bin/multiBamSummary', 'bin/plotCorrelation', 'bin/plotCoverage',
              'bin/plotHeatmap', 'bin/plotProfile'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = [
    "bamCompare --help",
    "multiBamSummary --help",
    "plotHeatmap --help",
]

sanity_pip_check = True

moduleclass = 'bio'
