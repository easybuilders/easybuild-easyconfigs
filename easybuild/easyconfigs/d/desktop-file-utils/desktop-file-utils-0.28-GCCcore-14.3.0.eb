# Author: Jasper Grimm (UoY)
easyblock = 'MesonNinja'

name = 'desktop-file-utils'
version = '0.28'

homepage = 'https://www.freedesktop.org/wiki/Software/desktop-file-utils/'
description = """
desktop-file-utils contains a few command line utilities for working with desktop entries:
  * desktop-file-validate: validates a desktop file and prints warnings/errors about desktop entry specification
    violations.
  * desktop-file-install: installs a desktop file to the applications directory, optionally munging it a bit in transit.
  * update-desktop-database: updates the database containing a cache of MIME types handled by desktop files. It requires
    GLib to compile, because the implementation requires Unicode utilities and such.
"""

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://gitlab.freedesktop.org/xdg/%(name)s/-/archive/%(version)s']
sources = [SOURCE_TAR_GZ]
checksums = ['379ecbc1354d0c052188bdf5dbbc4a020088ad3f9cab54487a5852d1743a4f3b']

builddependencies = [
    ('binutils', '2.44'),
    ('Meson', '1.8.2'),
    ('Ninja', '1.13.0'),
    ('Python', '3.13.5'),
    ('pkgconf', '2.4.3'),
]

dependencies = [
    ('GLib', '2.85.3'),
]

sanity_check_paths = {
    'files': ['bin/%s' % x for x in ['desktop-file-edit', 'desktop-file-install', 'desktop-file-validate',
                                     'update-desktop-database']],
    'dirs': [],
}

moduleclass = 'tools'
