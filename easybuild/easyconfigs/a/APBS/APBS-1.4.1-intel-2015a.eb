name = 'APBS'
version = '1.4.1'

easyblock = 'CMakeMake'

homepage = 'http://www.poissonboltzmann.org/apbs'
description = """ APBS is a software package for modeling biomolecular solvation 
 through solution of the Poisson-Boltzmann equation (PBE), one of the most popular 
 continuum models for describing electrostatic interactions between molecular solutes 
 in salty, aqueous media. """

toolchain = {'name': 'intel', 'version': '2015a'}

#git clone -b 1.4.1-binary-release  https://github.com/Electrostatics/apbs-pdb2pqr
#create your own tarball
sources = [SOURCELOWER_TGZ]

# parallel build fails
parallel = 1

builddependencies = [
    ('CMake', '3.2.2'),
]

preconfigopts = 'cd apbs && '

configopts = '-DENABLE_BEM=off   '
configopts += '-DENABLE_iAPBS=on '

prebuildopts = 'cd apbs && '

preinstallopts = 'cd apbs && '

sanity_check_paths = {
    'files': ['bin/apbs'],
    'dirs': []
}

moduleclass = 'bio'
