easyblock = 'PythonBundle'

name = 'acpype'
version = '2023.10.27'

homepage = 'https://github.com/alanwilter/acpype'
description = """A tool based in Python to use Antechamber to generate topologies for chemical compounds and
to interface with others python applications like CCPN and ARIA."""

toolchain = {'name': 'foss', 'version': '2025a'}

builddependencies = [
    ('poetry', '2.1.2'),
]
dependencies = [
    ('Python', '3.13.1'),
    ('OpenBabel', '3.1.1'),
    ('AmberTools', '25.2'),
]

exts_list = [
    (name, version, {
        'modulename': 'acpype',
        'checksums': ['2041ef01031015b6901aabce75cf39c17c6d7e1a034f8b0f4d168f0a6bd06a99'],
        # We are bringing OpenBabel built by EasyBuild, so we don't want the wheel version
        'preinstallopts': 'sed -i "/openbabel-wheel/d" pyproject.toml && ',
    }),
]

sanity_check_commands = [
    'acpype --help',
]

moduleclass = 'chem'
