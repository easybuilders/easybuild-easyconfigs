easyblock = 'PythonBundle'

name = 'AITW-viscosity'
version = '1.0.0'

homepage = 'https://www.ai-transpwood-project.eu/'
description = """AI-TranspWood - AiiDA workchain to compute the shear viscosity of molecular liquids,
starting from a SMILES string of a molecule and using GROMACS to perform the molecular dynamics simulations.
"""

toolchain = {'name': 'foss', 'version': '2023a'}

builddependencies = [
    ('poetry', '1.7.1'),  # Needed to install textual
]

dependencies = [
    ('Python', '3.11.3'),
    ('Python-bundle-PyPI', '2023.06'),
    ('SciPy-bundle', '2023.07'),
    ('aiida-core', '2.7.2'),
    ('aiida-shell', '0.8.2'),
    ('RDKit', '2024.03.3'),
    ('matplotlib', '3.7.2'),
    ('PyQt5', '5.15.10'),
]

exts_list = [
    ('textual', '0.61.0', {
        'checksums': ['91c83a659da40b227eced4fa749026a236b493cc5911a9bedd990ad5f0786be2'],
    }),
    ('trogon', '0.6.0', {
        'checksums': ['fd1abfeb7b15d79d6e6cfc9e724aad2a2728812e4713a744d975f133e7ec73a4'],
    }),
    (name, version, {
        'modulename': 'aitw_aiida_viscosity',
        'source_urls': ['https://github.com/AI-TranspWood/Molecular-liquid-shear-viscosity/archive/refs/tags'],
        'sources': [{
            'filename': SOURCE_TAR_GZ,
            'download_filename': 'v%(version)s.tar.gz'
        }],
        'checksums': ['fc0201716c4afe9f96c9583b705373395a943bb2796e2705e8eee07ef4a8dc2a'],
        'click_autocomplete_bins': ['aitw-viscosity'],
    }),
]

sanity_check_commands = [
    f'aitw-viscosity --help',
]

moduleclass = 'chem'
