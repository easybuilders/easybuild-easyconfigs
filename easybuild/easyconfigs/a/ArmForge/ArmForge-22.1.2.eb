easyblock = 'Binary'

name = 'ArmForge'
version = '22.1.2'

homepage = 'https://www.arm.com/products/development-tools/server-and-hpc/forge'
description = """Arm Forge combines Arm DDT, the leading debugger for time-saving high performance application
debugging, Arm MAP, the trusted performance profiler for invaluable optimization advice across native and Python HPC
codes, and Arm Performance Reports for advanced reporting capabilities."""

toolchain = SYSTEM

source_urls = ['https://content.allinea.com/downloads/']
sources = ['arm-forge-%%(version)s-linux-%s.tar' % ARCH]
checksums = [{
    'arm-forge-%(version)s-linux-aarch64.tar': '1774ed647a18d2cb47b2e4dd4f6f268f67817dfe6a6bca8ba2f9e71d2f18c690',
    'arm-forge-%(version)s-linux-x86_64.tar': 'baeac2b49c38547a8f3dd6a5237544eefe8c7695d969784e6f861ce77b610542',
}]

extract_sources = True

install_cmd = "./textinstall.sh --accept-license %(installdir)s"

sanity_check_paths = {
    'files': ['bin/ddt', 'bin/forge', 'bin/map', 'bin/perf-report'],
    'dirs': ['examples', 'lib', 'libexec', 'plugins'],
}

sanity_check_commands = [
    "ddt --help",
    "forge --help",
    "map --help",
    "perf-report --help",
]

moduleclass = 'tools'
