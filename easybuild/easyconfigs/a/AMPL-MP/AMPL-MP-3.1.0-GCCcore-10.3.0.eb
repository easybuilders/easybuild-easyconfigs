easyblock = 'CMakeMake'

name = 'AMPL-MP'
version = '3.1.0'

homepage = 'https://github.com/ampl/mp'
description = """ An open-source library for mathematical programming. """

toolchain = {'name': 'GCCcore', 'version': '10.3.0'}

source_urls = ['https://github.com/ampl/mp/archive/']
sources = ['%(version)s.tar.gz']
patches = ['ampl-mp-%(version)s-makefile.patch']

checksums = [
    '587c1a88f4c8f57bef95b58a8586956145417c8039f59b1758365ccc5a309ae9',   # v3.1.0.tar.gz
    '961844eac706e8badb79f8dd16754444ecbf47663b255768290b42d538d1edb6',   # ampl-mp-3.1.0-makefile.patch
]

builddependencies = [
    ('binutils', '2.36.1'),
    ('CMake', '3.20.1'),
]

runtest = 'test'

sanity_check_paths = {
    'files': ['bin/tableproxy64', 'lib/libasl.a', 'lib/libbenchmark.a', 'lib/libmp.a'],
    'dirs': ['include/asl', 'include/benchmark', 'include/mp', 'share'],
}

moduleclass = 'math'
