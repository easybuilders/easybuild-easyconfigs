easyblock = 'MakeCp'

name = 'AmpliconNoise'
version = '1.27'

homepage = 'https://code.google.com/p/ampliconnoise/'
description = """AmpliconNoise is a collection of programs for the removal of noise from 454 sequenced PCR amplicons.
 It involves two steps the removal of noise from the sequencing itself and the removal of PCR point errors. This
 project also includes the Perseus algorithm for chimera removal."""

toolchain = {'name': 'goolf', 'version': '1.7.20'}

source_urls = [GOOGLECODE_SOURCE]
sources = ['%(name)sV%(version)s.tar.gz']

dependencies = [
    ('GSL', '1.16'),
    ('MAFFT', '7.164', '-with-extensions'),
]

parallel = 1

buildopts = 'clean && make all CC="$MPICC" && make install'

files_to_copy = ['bin', 'Data', 'Scripts']

modextrapaths = {'PATH': ['Scripts']}

modextravars = {
	'PYRO_LOOKUP_FILE': '\$EBROOTAMPLICONNOISE/Data/LookUp_E123.dat',
	'SEQ_LOOKUP_FILE': '\$EBROOTAMPLICONNOISE/Data/Tran.dat',
}

sanity_check_paths = {
    'files': ['bin/%s' % x for x in ['FastaUnique', 'FCluster', 'NDist', 'Perseus', 'PerseusD', 'PyroDist',
                                     'PyroNoise', 'PyroNoiseM', 'SeqDist', 'SeqNoise',
                                     'SplitClusterClust', 'SplitClusterEven']],
    'dirs': ['Data', 'Scripts'],
}

moduleclass = 'bio'
