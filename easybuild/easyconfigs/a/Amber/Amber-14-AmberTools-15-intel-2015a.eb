#
# modified by Stephane Thiell (Stanford University) for Amber v14
#
# author: Benjamin P. Roberts (University of Auckland)
#
# based on work by Marios Constantinou (University of Cyprus)
#
easyblock = 'EB_Amber'
name = 'Amber'
version = "14"

homepage = 'http://ambermd.org/amber.html'
description = """Amber (originally Assisted Model Building with Energy
Refinement) is software for performing molecular dynamics and structure
prediction."""

toolchain = {'name': 'intel', 'version': '2015a'}
toolchainopts = {'openmp': False, 'usempi': True}

sources = ['AmberTools15.tar.bz2', 'Amber14.tar.bz2']
patches = ['Amber-14-intel-2015a.patch']

dependencies = [
    ('CUDA', '7.0.28', '', True),
    ('netCDF', '4.3.3.1'),
    ('netCDF-Fortran', '4.4.2'),
    ('Python', '2.7.10'),
]

patchlevels = (13, 13)
patchruns = 1

# No need for an explicit "configure" step as this is done as part of the
# "build" step
skipsteps = ['configure']

moduleclass = 'chem'
