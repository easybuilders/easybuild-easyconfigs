name = 'Amber'
version = '16'
ambertools_ver = '17'
# Patch levels from http://ambermd.org/bugfixes16.html and http://ambermd.org/bugfixesat.html
patchlevels = (6, 12)  # (AmberTools, Amber)
versionsuffix = '-AmberTools-%s-patchlevel-%s-%s-CUDA' % (ambertools_ver, patchlevels[0], patchlevels[1])

homepage = 'http://ambermd.org/amber.html'
description = """Amber (originally Assisted Model Building with Energy
 Refinement) is software for performing molecular dynamics and structure
 prediction."""

toolchain = {'name': 'gimkl', 'version': '2017a'}
toolchainopts = {'usempi': True}

sources = [
    'Amber%(version)s.tar.bz2',
    'AmberTools%s.tar.bz2' % ambertools_ver,
]

patches = ['Amber-%(version)s_fix-hardcoding-gimkl.patch',
           'Amber-%(version)s_test_cuda.patch']

static = False

dependencies = [
    ('CUDA', '8.0.61', '', True),
    ('netCDF', '4.4.1'),
    ('netCDF-Fortran', '4.4.4'),
    ('Python', '2.7.14'),
    ('zlib', '1.2.11'),
    ('bzip2', '1.0.6'),
]

moduleclass = 'chem'
group = 'amber16'
