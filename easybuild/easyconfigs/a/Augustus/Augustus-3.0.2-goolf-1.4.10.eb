# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = "Augustus"
version = "3.0.2"

homepage = 'http://bioinf.uni-greifswald.de/augustus/'
description = """ AUGUSTUS is a program that predicts genes in eukaryotic genomic sequences. """

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = ['http://bioinf.uni-greifswald.de/augustus/binaries/']
sources = [SOURCELOWER_TAR_GZ]

dependencies = [('Boost', '1.53.0')]

makeopts = ' all'

parallel = 1

files_to_copy = ["README.TXT", "README-cgp.txt", "auxprogs", "bin", "config", "docs", 
                "examples", "scripts"]

sanity_check_paths = {
    'files': ["bin/%s" % x for x in ["aln2wig", "augustus" , "consensusFinder",
                                    "curve2hints", "etraining", "fastBlockSearch",
                                    "prepareAlign"]],
    'dirs': ["config", "scripts"]
}

# add scripts dir to PATH
modextrapaths = {
     'PATH': 'scripts'
}

# define AUGUSTUS_CONFIG_PATH env var pointing to config folder
modextravars = {
    'AUGUSTUS_CONFIG_PATH': '$root/config',
}

moduleclass = 'bio'
