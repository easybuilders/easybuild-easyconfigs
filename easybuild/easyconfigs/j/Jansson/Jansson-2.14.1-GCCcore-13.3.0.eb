easyblock = 'CMakeMake'

name = 'Jansson'
version = '2.14.1'

homepage = 'https://www.digip.org/jansson/'

description = """
 Jansson is a C library for encoding, decoding and manipulating JSON data.
 Its main features and design principles are:
 * Simple and intuitive API and data model
 * Comprehensive documentation
 * No dependencies on other libraries
 * Full Unicode support (UTF-8)
 * Extensive test suite
"""

toolchain = {'name': 'GCCcore', 'version': '13.3.0'}

github_account = 'akheron'
source_urls = [GITHUB_LOWER_RELEASE]
sources = [SOURCELOWER_TAR_GZ]
checksums = ['2521cd51a9641d7a4e457f7215a4cd5bb176f690bc11715ddeec483e85d9e2b3']

builddependencies = [
    ('CMake', '3.29.3'),
    ('binutils', '2.42'),
]

configopts = "-DJANSSON_BUILD_SHARED_LIBS=ON "

runtest = 'check'

sanity_check_paths = {
    'files': ['lib/libjansson.%s' % SHLIB_EXT],
    'dirs': ['include'],
}

moduleclass = 'data'
