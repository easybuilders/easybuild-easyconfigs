easyblock = 'PythonBundle'

name = 'JupyterHub'
version = '2.3.1'

homepage = 'https://jupyter.org'
description = """JupyterHub is a multiuser version of the Jupyter (IPython) notebook designed
 for centralized deployments in companies, university classrooms and research labs."""

toolchain = {'name': 'GCCcore', 'version': '11.3.0'}

builddependencies = {
    ('binutils', '2.38'),
}

dependencies = [
    ('Python', '3.10.4'),
    ('IPython', '8.5.0'),
    ('Mako', '1.2.0'),
    ('configurable-http-proxy', '4.5.2'),
    ('OpenSSL', '1.1', '', True),
]

use_pip = True

exts_list = [
    ('batchspawner', '1.1.0', {
        'checksums': ['9bae72f7c1bd9bb11aa58ecc3bc9fae5475a10fdd92dc0c0d67fa7eb95c9dd3a'],
    }),
    ('certipy', '0.1.3', {
        'checksums': ['695704b7716b033375c9a1324d0d30f27110a28895c40151a90ec07ff1032859'],
    }),
    ('pamela', '1.0.0', {
        'checksums': ['65c9389bef7d1bb0b168813b6be21964df32016923aac7515bdf05366acbab6c'],
    }),
    ('greenlet', '1.1.3', {
        'checksums': ['bcb6c6dd1d6be6d38d6db283747d07fda089ff8c559a835236560a4410340455'],
    }),
    ('SQLAlchemy', '1.4.40', {
        'checksums': ['44a660506080cc975e1dfa5776fe5f6315ddc626a77b50bf0eee18b0389ea265'],
    }),
    ('alembic', '1.7.7', {
        'checksums': ['4961248173ead7ce8a21efb3de378f13b8398e6630fab0eb258dc74a8af24c58'],
    }),
    ('oauthlib', '3.2.0', {
        'checksums': ['23a8208d75b902797ea29fd31fa80a15ed9dc2c6c16fe73f5d346f83f6fa27a2'],
    }),
    ('pyOpenSSL', '22.0.0', {
        'modulename': 'OpenSSL',
        'checksums': ['660b1b1425aac4a1bea1d94168a85d99f0b3144c869dd4390d27629d0087f1bf'],
    }),
    ('python-json-logger', '2.0.4', {
        'modulename': 'pythonjsonlogger',
        'checksums': ['764d762175f99fcc4630bd4853b09632acb60a6224acb27ce08cd70f0b1b81bd'],
    }),
    ('ruamel.yaml', '0.17.21', {
        'checksums': ['8b7ce697a2f212752a35c1ac414471dc16c424c9573be4926b56ff3f5d23b7af'],
    }),
    ('ruamel.yaml.clib', '0.2.6', {
        'modulename': False,
        'checksums': ['4ff604ce439abb20794f05613c374759ce10e3595d1867764dd1ae675b85acbd'],
    }),
    ('jupyter-telemetry', '0.1.0', {
        'source_tmpl': 'jupyter_telemetry-%(version)s.tar.gz',
        'checksums': ['445c613ae3df70d255fe3de202f936bba8b77b4055c43207edf22468ac875314'],
    }),
    ('jupyterhub', version, {
        'checksums': ['f968f4f1392a9bb21e0fd6e1452bc925f7e3d2dc1f02efbe4afd63ecb9e81e0f'],
    }),
]

modextrapaths = {'PYTHONPATH': ['lib/python%(pyshortver)s/site-packages']}

sanity_check_paths = {
    'files': ['bin/jupyterhub'],
    'dirs': ['lib/python%(pyshortver)s/site-packages/jupyterhub'],
}

sanity_pip_check = True

sanity_check_commands = ['jupyterhub --help']

moduleclass = 'tools'
