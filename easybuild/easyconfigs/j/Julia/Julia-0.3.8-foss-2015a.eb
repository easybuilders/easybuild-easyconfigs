name = "Julia"
version = "0.3.8"

homepage = "http://julialang.org"
description = """A high-level, high-performance dynamic language for technical computing."""

toolchain = {'name': 'foss', 'version': '2015a'}
onlytcmod = True  # avoids a weird configure script problem

sources = {
    '0.3.0':['julia-0.3.0_768187890c.tar.gz'],
    '0.3.1':['julia-0.3.1_c03f413bbd.tar.gz'],
    '0.3.2':['julia-0.3.2_8227746b95.tar.gz'],
    '0.3.3':['julia-0.3.3_b24213b893.tar.gz'],
    '0.3.5':['julia-0.3.5_a05f87b79a.tar.gz'],    
    '0.3.6':['julia-0.3.6_0c24dca65c.tar.gz'],
    '0.3.8':['julia-0.3.8_79599ada44.tar.gz'],
}[version]

source_urls = ['https://github.com/JuliaLang/julia/releases/download/v%(version)s']

# Using the toolchain openblas avoids an architecture configuration problem with old binutils.
# Specifying JULIA_CPU_TARGET allows use on non-identical CPUs.  Doesn't affect JIT or linked toolchain components.
configopts = """
USE_SYSTEM_BLAS=1
USE_SYSTEM_LAPACK=1
USE_SYSTEM_FFTW=1
JULIA_CPU_TARGET=nehalem
"""

parallel = 1

sanity_check_paths = {
    'files': ["bin/julia"],
    'dirs': ["lib"]
}

moduleclass = 'lang'
