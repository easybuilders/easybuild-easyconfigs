# EasyBuild easyconfig
easyblock = 'MakeCp'

name = 'jbigkit'
version = '2.1'

homepage = ''
description = """JBIG-KIT is a software implementation of the JBIG1 data
 compression standard (ITU-T T.82), which was designed for bi-level image
 data, such as scanned documents."""

toolchain = {'name': 'GCCcore', 'version': '7.3.0'}

source_urls = ['https://www.cl.cam.ac.uk/~mgk25/jbigkit/download']
sources = [SOURCE_TAR_GZ]
patches = ['%(name)s-%(version)s_libpath.patch']
checksums = [
    'de7106b6bfaf495d6865c7dd7ac6ca1381bd12e0d81405ea81e7f2167263d932',  # jbigkit-2.1.tar.gz
    'e6d6f1d61533fc9a9621a8bbf0763f2c2ee8906af76dd964355a4d3ab6ffc9bc',  # jbigkit-2.1_libpath.patch
]

builddependencies = [
    ('binutils', '2.30'),
    ('pkg-config', '0.29.2'),
]

files_to_copy = [
    (['libjbig/libjbig85.a', 'libjbig/libjbig.a'], 'lib'),
    (['libjbig/jbig85.h', 'libjbig/jbig.h'], 'include'),
    (['pbmtools/pbmtojbg', 'pbmtools/jbgtopbm'], 'bin'),
]

sanity_check_paths = {
    'files': ['lib/libjbig85.a', 'lib/libjbig.a',
              'bin/pbmtojbg', 'bin/jbgtopbm',
              'include/jbig.h',
              ],
    'dirs': ['bin', 'include', 'lib']
}

moduleclass = 'vis'
