easyblock = 'CargoPythonBundle'

name = 'JupyterLab'
version = '4.0.3'

homepage = "https://jupyter.org/"
description = """JupyterLab is the next-generation user interface for Project Jupyter offering all the familiar
 building blocks of the classic Jupyter Notebook (notebook, terminal, text editor, file browser, rich outputs,
 etc.) in a flexible and powerful user interface. JupyterLab will eventually replace the classic Jupyter
 Notebook."""

toolchain = {'name': 'GCCcore', 'version': '12.2.0'}

builddependencies = [
    ('binutils', '2.39'),
    ('Rust', '1.65.0'),
    ('maturin', '1.1.0'),
]

dependencies = [
    ('Python', '3.10.8'),
    ('IPython', '8.14.0'),
    ('jupyter-server', '2.7.0'),
]

crates = [
    ('archery', '0.5.0'),
    ('autocfg', '1.1.0'),
    ('bitflags', '1.3.2'),
    ('cfg-if', '1.0.0'),
    ('indoc', '1.0.9'),
    ('libc', '0.2.147'),
    ('lock_api', '0.4.10'),
    ('memoffset', '0.9.0'),
    ('once_cell', '1.18.0'),
    ('parking_lot', '0.12.1'),
    ('parking_lot_core', '0.9.8'),
    ('proc-macro2', '1.0.66'),
    ('pyo3', '0.19.1'),
    ('pyo3-build-config', '0.19.1'),
    ('pyo3-ffi', '0.19.1'),
    ('pyo3-macros', '0.19.1'),
    ('pyo3-macros-backend', '0.19.1'),
    ('quote', '1.0.31'),
    ('redox_syscall', '0.3.5'),
    ('rpds', '0.13.0'),
    ('scopeguard', '1.1.0'),
    ('smallvec', '1.11.0'),
    ('static_assertions', '1.1.0'),
    ('syn', '1.0.109'),
    ('target-lexicon', '0.12.9'),
    ('unicode-ident', '1.0.11'),
    ('unindent', '0.1.11'),
    ('windows-targets', '0.48.1'),
    ('windows_aarch64_gnullvm', '0.48.0'),
    ('windows_aarch64_msvc', '0.48.0'),
    ('windows_i686_gnu', '0.48.0'),
    ('windows_i686_msvc', '0.48.0'),
    ('windows_x86_64_gnu', '0.48.0'),
    ('windows_x86_64_gnullvm', '0.48.0'),
    ('windows_x86_64_msvc', '0.48.0'),
]
checksums = [
    {'archery-0.5.0.tar.gz': 'b6cd774058b1b415c4855d8b86436c04bf050c003156fe24bc326fb3fe75c343'},
    {'autocfg-1.1.0.tar.gz': 'd468802bab17cbc0cc575e9b053f41e72aa36bfa6b7f55e3529ffa43161b97fa'},
    {'bitflags-1.3.2.tar.gz': 'bef38d45163c2f1dde094a7dfd33ccf595c92905c8f8f4fdc18d06fb1037718a'},
    {'cfg-if-1.0.0.tar.gz': 'baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd'},
    {'indoc-1.0.9.tar.gz': 'bfa799dd5ed20a7e349f3b4639aa80d74549c81716d9ec4f994c9b5815598306'},
    {'libc-0.2.147.tar.gz': 'b4668fb0ea861c1df094127ac5f1da3409a82116a4ba74fca2e58ef927159bb3'},
    {'lock_api-0.4.10.tar.gz': 'c1cc9717a20b1bb222f333e6a92fd32f7d8a18ddc5a3191a11af45dcbf4dcd16'},
    {'memoffset-0.9.0.tar.gz': '5a634b1c61a95585bd15607c6ab0c4e5b226e695ff2800ba0cdccddf208c406c'},
    {'once_cell-1.18.0.tar.gz': 'dd8b5dd2ae5ed71462c540258bedcb51965123ad7e7ccf4b9a8cafaa4a63576d'},
    {'parking_lot-0.12.1.tar.gz': '3742b2c103b9f06bc9fff0a37ff4912935851bee6d36f3c02bcc755bcfec228f'},
    {'parking_lot_core-0.9.8.tar.gz': '93f00c865fe7cabf650081affecd3871070f26767e7b2070a3ffae14c654b447'},
    {'proc-macro2-1.0.66.tar.gz': '18fb31db3f9bddb2ea821cde30a9f70117e3f119938b5ee630b7403aa6e2ead9'},
    {'pyo3-0.19.1.tar.gz': 'ffb88ae05f306b4bfcde40ac4a51dc0b05936a9207a4b75b798c7729c4258a59'},
    {'pyo3-build-config-0.19.1.tar.gz': '554db24f0b3c180a9c0b1268f91287ab3f17c162e15b54caaae5a6b3773396b0'},
    {'pyo3-ffi-0.19.1.tar.gz': '922ede8759e8600ad4da3195ae41259654b9c55da4f7eec84a0ccc7d067a70a4'},
    {'pyo3-macros-0.19.1.tar.gz': '8a5caec6a1dd355964a841fcbeeb1b89fe4146c87295573f94228911af3cc5a2'},
    {'pyo3-macros-backend-0.19.1.tar.gz': 'e0b78ccbb160db1556cdb6fd96c50334c5d4ec44dc5e0a968d0a1208fa0efa8b'},
    {'quote-1.0.31.tar.gz': '5fe8a65d69dd0808184ebb5f836ab526bb259db23c657efa38711b1072ee47f0'},
    {'redox_syscall-0.3.5.tar.gz': '567664f262709473930a4bf9e51bf2ebf3348f2e748ccc50dea20646858f8f29'},
    {'rpds-0.13.0.tar.gz': '9bd6ce569b15c331b1e5fd8cf6adb0bf240678b5f0cdc4d0f41e11683f6feba9'},
    {'scopeguard-1.1.0.tar.gz': 'd29ab0c6d3fc0ee92fe66e2d99f700eab17a8d57d1c1d3b748380fb20baa78cd'},
    {'smallvec-1.11.0.tar.gz': '62bb4feee49fdd9f707ef802e22365a35de4b7b299de4763d44bfea899442ff9'},
    {'static_assertions-1.1.0.tar.gz': 'a2eb9349b6444b326872e140eb1cf5e7c522154d69e7a0ffb0fb81c06b37543f'},
    {'syn-1.0.109.tar.gz': '72b64191b275b66ffe2469e8af2c1cfe3bafa67b529ead792a6d0160888b4237'},
    {'target-lexicon-0.12.9.tar.gz': 'df8e77cb757a61f51b947ec4a7e3646efd825b73561db1c232a8ccb639e611a0'},
    {'unicode-ident-1.0.11.tar.gz': '301abaae475aa91687eb82514b328ab47a211a533026cb25fc3e519b86adfc3c'},
    {'unindent-0.1.11.tar.gz': 'e1766d682d402817b5ac4490b3c3002d91dfa0d22812f341609f97b08757359c'},
    {'windows-targets-0.48.1.tar.gz': '05d4b17490f70499f20b9e791dcf6a299785ce8af4d709018206dc5b4953e95f'},
    {'windows_aarch64_gnullvm-0.48.0.tar.gz': '91ae572e1b79dba883e0d315474df7305d12f569b400fcf90581b06062f7e1bc'},
    {'windows_aarch64_msvc-0.48.0.tar.gz': 'b2ef27e0d7bdfcfc7b868b317c1d32c641a6fe4629c171b8928c7b08d98d7cf3'},
    {'windows_i686_gnu-0.48.0.tar.gz': '622a1962a7db830d6fd0a69683c80a18fda201879f0f447f065a3b7467daa241'},
    {'windows_i686_msvc-0.48.0.tar.gz': '4542c6e364ce21bf45d69fdd2a8e455fa38d316158cfd43b3ac1c5b1b19f8e00'},
    {'windows_x86_64_gnu-0.48.0.tar.gz': 'ca2b8a661f7628cbd23440e50b05d705db3686f894fc9580820623656af974b1'},
    {'windows_x86_64_gnullvm-0.48.0.tar.gz': '7896dbc1f41e08872e9d5e8f8baa8fdd2677f29468c4e156210174edc7f7b953'},
    {'windows_x86_64_msvc-0.48.0.tar.gz': '1a515f5799fe4961cb532f983ce2b23082366b898e52ffbce459c86f67c8378a'},
]

exts_list = [
    ('trove-classifiers', '2023.7.6', {
        'source_tmpl': 'trove_classifiers-%(version)s-py3-none-any.whl',
        'checksums': ['b420d5aa048ee7c456233a49203f7d58d1736af4a6cde637657d78c13ab7969b'],
    }),
    ('hatchling', '1.18.0', {
        'checksums': ['50e99c3110ce0afc3f7bdbadff1c71c17758e476731c27607940cfa6686489ca'],
    }),
    ('attrs', '23.1.0', {
        'checksums': ['6279836d581513a26f1bf235f9acd333bc9115683f14f7e8fae46c98fc50e015'],
    }),
    ('rpds_py', '0.9.2', {
        'modulename': 'rpds',
        'checksums': ['8d70e8f14900f2657c249ea4def963bed86a29b81f81f5b76b5a9215680de945'],
    }),
    ('referencing', '0.30.0', {
        'checksums': ['47237742e990457f7512c7d27486394a9aadaf876cbfaa4be65b27b4f4d47c6b'],
    }),
    ('jsonschema_specifications', '2023.7.1', {
        'checksums': ['c91a50404e88a1f6ba40636778e2ee08f6e24c5613fe4c53ac24578a5a7f72bb'],
    }),
    ('jsonschema', '4.18.4', {
        'checksums': ['fb3642735399fa958c0d2aad7057901554596c63349f4f6b283c493cf692a25d'],
    }),
    ('json5', '0.9.14', {
        'checksums': ['9ed66c3a6ca3510a976a9ef9b8c0787de24802724ab1860bc0153c7fdd589b02'],
    }),
    ('jupyterlab_server', '2.23.0', {
        'checksums': ['83c01aa4ad9451cd61b383e634d939ff713850f4640c0056b2cdb2b6211a74c7'],
    }),
    ('jupyter-lsp', '2.2.0', {
        'checksums': ['8ebbcb533adb41e5d635eb8fe82956b0aafbf0fd443b6c4bfa906edeeb8635a1'],
    }),
    ('async-lru', '2.0.3', {
        'checksums': ['b714c9d1415fca4e264da72a9e2abc66880ce7430e03a973341f88ea4c0d4869'],
    }),
    ('jupyterlab', version, {
        'checksums': ['e14d1ce46a613028111d0d476a1d7d6b094003b7462bac669f5b478317abcb39'],
    }),
]

sanity_check_commands = ["jupyter lab --help"]

modextrapaths = {'EB_ENV_JUPYTER_ROOT': ''}
modextravars = {
    # only one path allowed as JUPYTERLAB_DIR
    'JUPYTERLAB_DIR': '%(installdir)s/share/jupyter/lab',
    # keep user's configuration in their home directory
    # note: '~' is not expanded by JupyterLab
    'JUPYTERLAB_SETTINGS_DIR': '$HOME/.jupyter/lab/user-settings',
    'JUPYTERLAB_WORKSPACES_DIR': '$HOME/.jupyter/lab/workspaces',
}

moduleclass = 'tools'
