easyblock = 'JAR'

name = 'JuicerTools'
version = '3.0.0'
versionsuffix = '-Java-%(javaver)s'

homepage = 'https://github.com/aidenlab/JuicerTools'
description = "A command line tool for dealing with HiC files"

toolchain = {'name': 'GCCcore', 'version': '12.3.0'}

github_account = 'aidenlab'
source_urls = [GITHUB_RELEASE]
sources = ['juicer_tools.%(version)s.jar']
checksums = ['fa5ad7f76681de79b010901c545a0307cf3fd951d7d30af22a51800e0bafe792']

dependencies = [
    ('Java', '17', '', SYSTEM),
    ('X11', '20230603'),
]

postinstallcmds = [
    """echo 'java -jar $EBROOTJUICERTOOLS/juicer_tools.%(version)s.jar "$@"' > %(installdir)s/juicer_tools""",
    "chmod +x %(installdir)s/juicer_tools",
]

sanity_check_paths = {
    'files': ['juicer_tools.%(version)s.jar', 'juicer_tools'],
    'dirs': [],
}

sanity_check_commands = [
    'juicer_tools -V',
]

moduleclass = 'bio'
