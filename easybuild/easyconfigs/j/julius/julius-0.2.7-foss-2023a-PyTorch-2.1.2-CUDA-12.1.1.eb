easyblock = 'PythonPackage'

name = 'julius'
version = '0.2.7'
local_pytorch_version = '2.1.2'
versionsuffix = '-PyTorch-' + local_pytorch_version + '-CUDA-%(cudaver)s'

homepage = 'https://github.com/adefossez/julius'
description = """Julius contains different Digital Signal Processing algorithms
 implemented with PyTorch, so that they are differentiable and available on CUDA.
 Note that all the modules implemented here can be used with TorchScript"""

toolchain = {'name': 'foss', 'version': '2023a'}

sources = [SOURCELOWER_TAR_GZ]
checksums = ['3c0f5f5306d7d6016fcc95196b274cae6f07e2c9596eed314e4e7641554fbb08']

dependencies = [
    ('CUDA', '12.1.1', '', SYSTEM),
    ('Python', '3.11.3'),
    ('PyTorch', local_pytorch_version, '-CUDA-%(cudaver)s'),
]


download_dep_fail = True
use_pip = True
sanity_pip_check = True

moduleclass = 'tools'
