# Author: J. Sassmannshausen (Imperial College London/UK)
# update 1.14.1 THEMBL
# update to 1.16.1 J. Sa√ümannshausen

easyblock = 'MesonNinja'

name = 'wpebackend-fdo'
version = '1.16.1'

homepage = 'https://wpewebkit.org/'
description = """WPE WebKit allows embedders to create simple and performant
systems based on Web platform technologies. It is a WebKit port designed with
flexibility and hardware acceleration in mind, leveraging common 3D graphics
APIs for best performance."""

toolchain = {'name': 'GCCcore', 'version': '14.2.0'}

source_urls = ['https://wpewebkit.org/releases']
sources = ['%(name)s-%(version)s.tar.xz']
patches = ['wpebackend-fdo-1.16.1_c++.patch']
checksums = [
    {'wpebackend-fdo-1.16.1.tar.xz': '544ae14012f8e7e426b8cb522eb0aaaac831ad7c35601d1cf31d37670e0ebb3b'},
    {'wpebackend-fdo-1.16.1_c++.patch': '843bae47e8fdb4ed69efd951e75ef4b3266d965aedb5e86da1f73727f590bebc'},
]

builddependencies = [
    ('CMake', '3.31.3'),
    ('binutils', '2.42'),
    ('Meson', '1.6.1'),
    ('Ninja', '1.12.1'),
    ('pkgconf', '2.3.0'),
]

dependencies = [
    ('pugixml', '1.15'),
    ('Waylandpp', '1.0.1'),
    ('libepoxy', '1.5.10'),
    ('glib-networking', '2.80.1'),
    ('libwpe', '1.16.3'),
]

sanity_check_paths = {
    'files': ['lib/libWPEBackend-fdo-1.0.%s' % SHLIB_EXT],
    'dirs': [],
}

moduleclass = 'lib'
