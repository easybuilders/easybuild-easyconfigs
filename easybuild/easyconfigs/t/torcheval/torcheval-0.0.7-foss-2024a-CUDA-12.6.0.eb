easyblock = 'PythonBundle'

name = 'torcheval'
version = '0.0.7'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://github.com/meta-pytorch/torcheval'
description = """
A library that contains a rich collection of performant PyTorch model metrics, a simple interface to
create new metrics, a toolkit to facilitate metric computation in distributed training and tools for
PyTorch model evaluations.
"""

toolchain = {'name': 'foss', 'version': '2024a'}

dependencies = [
    ('Python', '3.12.3'),
    ('CUDA', '12.6.0', '', SYSTEM),
    ('PyTorch', '2.7.1', versionsuffix),
    ('typing-extensions', '4.11.0'),
]

exts_list = [
    (name, version, {
        'source_templ': 'SOURCE_PY3_WHL',
        # Files needed by setup.py but missing in the sources
        'preinstallopts': "touch requirements.txt dev-requirements.txt image-requirements.txt && ",
        'checksums': ['a498dec34137bc66c9cf1adc7353a46c604dd62255884c72dcb4e2e4fc2cd7e9'],
    }),
]

moduleclass = 'ai'
