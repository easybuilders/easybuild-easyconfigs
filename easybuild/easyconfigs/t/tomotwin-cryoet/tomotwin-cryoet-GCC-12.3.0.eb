easyblock = 'Conda'

name = 'tomotwin-cryoet'
version = '0.9.0'

homepage = 'https://tomotwin-cryoet.readthedocs.io/en/stable/index.html'
description = """Welcome, this is the user guide for TomoTwin - a deep metric learning based particle picking procedure for cryo-ET.
In comparision with other tools, TomoTwin comes pre-trained on so far 120 different proteins. By embedding tomograms in an information-rich, high-dimensional space which separates macromolecules according to their 3-dimensional structure, TomoTwin allows users to identify proteins in tomograms de novo without manually creating training data or retraining the network each time a new protein is to be located. That means, you can simply run it for your specific sample without a much additional effort."""

toolchain = {'name': 'GCC', 'version': '12.3.0'}

dependencies = [
    ('Mamba', '23.11.0-0', '', SYSTEM),
]

channels = ['conda-forge']
requirements = 'python=3.11'
environment_file = 'https://raw.githubusercontent.com/MPI-Dortmund/%(name)s/main/conda_env_tomotwin.yml'
postinstallcmds = [
                   'source activate %(installdir)s',
                   'pip install %(name)s==%(version)s',
                   'pip install dask==2023.6.0', 
                   'pip install torch==2.3.1 torchvision==0.18.1 torchaudio==2.3.1 --index-url https://download.pytorch.org/whl/cu121'
                   ]
moduleclass = 'bio'
