easyblock = 'CMakeMake'

name = 'testsweeper'
version = '2025.05.28'

homepage = 'https://github.com/icl-utk-edu/testsweeper'
description = """TestSweeper is a C++ testing framework for parameter sweeps. It handles parsing command line options,
iterating over the test space, and printing results. This simplifies test functions by allowing them to concentrate on
setting up and solving one problem at a time."""

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://github.com/icl-utk-edu/testsweeper/releases/download/v%(version)s/']
sources = [SOURCELOWER_TAR_GZ]
checksums = ['10a6584ec719bdf64ee60367917534f670c2bf82dc3a7970f707c68c0f9d2e96']

builddependencies = [
    ('binutils', '2.44'),
    ('CMake', '4.0.3'),
]

runtest = 'check'

sanity_check_paths = {
    'files': [f'lib/libtestsweeper.{SHLIB_EXT}', 'include/testsweeper.hh'],
    'dirs': [],
}

moduleclass = 'devel'
