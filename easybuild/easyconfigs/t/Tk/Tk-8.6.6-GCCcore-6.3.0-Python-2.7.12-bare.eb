easyblock = 'ConfigureMake'

name = 'Tk'
version = '8.6.6'
pyver = '2.7.12'
pyshortver = '2.7'
pysubver = '-bare'
versionsuffix = '-Python-%s%s' % (pyver, pysubver)

homepage = 'http://www.tcl.tk/'

description = """
 Tk is an open source, cross-platform widget toolchain that provides a library
 of basic elements for building a graphical user interface (GUI) in many
 different programming languages.
"""

toolchain = {'name': 'GCCcore', 'version': '6.3.0'}

source_urls = ["http://prdownloads.sourceforge.net/tcl"]
sources = ['%(namelower)s%(version)s-src.tar.gz']

patches = ['Tk-8.6.4_different-prefix-with-tcl.patch']


builddependencies = [
    ('X11', '20161215', versionsuffix),
]

dependencies = [
    ('Tcl', version),
]

osdependencies = [
    # use system zlib since the system OpenSSL usually requires it
    ('zlib-devel', 'zlib1g-dev'),
]

configopts = """\
    CFLAGS="-I$EBROOTTCL/include"\
    --enable-threads\
    --with-tcl=$EBROOTTCL/lib\
"""

start_dir = 'unix'

moduleclass = 'vis'
