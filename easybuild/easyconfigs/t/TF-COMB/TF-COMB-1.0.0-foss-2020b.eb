# Author: J. Sassmannshausen (Imperial College London/UK)

easyblock = 'PythonBundle'

name = 'TF-COMB'
version = '1.0.0'

homepage = 'https://github.com/loosolab/TF-COMB'
description = """TF-COMB stands for 'Transcription Factor Co-Occurrence using 
Market Basket analysis' and is a python module for identifying co-occurring 
TFs in regulatory regions."""

toolchain = {'name': 'foss', 'version': '2020b'}

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('networkx', '2.6.2'),
    ('statsmodels', '0.12.1'),
    ('GOATOOLS', '1.1.6'),
    ('dill', '0.3.3'),
    ('Seaborn', '0.11.1'),
    ('tqdm', '4.60.0'),
    ('IPython', '7.18.1'),
    ('TOBIAS', '0.14.0'),
    ('numba', '0.52.0'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('pysam', '0.15.2', {
        'checksums': ['d049efd91ed5b1af515aa30280bc9cb46a92ddd15d546c9b21ee68a6ed4055d9'],
    }),
    ('graphviz', '0.20.1', {
        'sources': ['%(name)s-%(version)s.zip'],
        'checksums': ['8c58f14adaa3b947daf26c19bc1e98c4e0702cdc31cf99153e6f06904d492bf8'],
    }),

    ('python-louvain', '0.15', {
        'checksums': ['2a856edfbe29952a60a5538a84bb78cca18f6884a88b9325e85a11c8dd4917eb'],
        'modulename': 'community.community_louvain',
    }),
    ('uropa', '4.0.2', {
        'checksums': ['3d4288055fb60e0b58380c31524cca7f6352b46117f1644645f603655da04438'],
    }),
    ('qnorm', '0.8.1', {
        'checksums': ['61b2f3ef09a9c552a4f3b83dc438cb13f191fa190164361a3a508c4777eed3c7'],
    }),

    (name, version, {
        'checksums': ['706efe56ab9ae2f1a587d3ad00c9e35f5eb00ad8ab4d4a9dfead31f3a9aabeac'],
        'modulename': 'tfcomb',
    }),
]

sanity_check_paths = {
    'files': ['bin/uropa', 'bin/qnorm', 'bin/community'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = [
    "community --help",
    "uropa --version",
]

moduleclass = 'bio'
