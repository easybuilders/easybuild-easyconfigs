##
# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
#
# Authors::   Dugan Witherick (University of Warwick)
# License::   MIT/GPL
# $Id$
#
# Updated to 0.19.0
# Author: J. Sassmannshausen (Imperial College London/UK)
# Update to 0.20.0: Pavel Tom√°nek (INUITS)

easyblock = 'PythonBundle'

name = 'tensorflow-probability'
version = '0.25.0'

homepage = 'https://www.tensorflow.org/probability'
description = """TensorFlow Probability (TFP) is a library for probabilistic reasoning and statistical analysis."""

toolchain = {'name': 'foss', 'version': '2024a'}
toolchainopts = {'usempi': True, 'pic': True}

dependencies = [
    ('Python', '3.12.3'),
    ('TensorFlow', '2.18.1'),
    ('dm-tree', '0.1.9'),
]

exts_list = [
    ('tf-keras', '2.18.0', {
        'modulename': 'tf_keras',
        'sources': ['tf_keras-%(version)s-py3-none-any.whl'],
        'checksums': ['c431d04027eef790fcd3261cf7fdf93eb74f3cb32e05078b57b7f5a54bd53262'],
    }),
    (name, version, {
        'modulename': 'tensorflow_probability',
        'sources': ['tensorflow_probability-%(version)s-py2.py3-none-any.whl'],
        'checksums': ['f3f4d6431656c0122906888afe1b67b4400e82bd7f254b45b92e6c5b84ea8e3e'],
    }),
]

sanity_check_commands = ["python -c 'import tensorflow; import tensorflow_probability'"]

moduleclass = 'lib'
