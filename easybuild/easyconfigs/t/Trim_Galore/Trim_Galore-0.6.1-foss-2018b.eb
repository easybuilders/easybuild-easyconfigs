# Contribution from the Crick HPC team
# uploaded by J. Sassmannshausen

easyblock = 'Tarball'

name = 'Trim_Galore'
version = '0.6.1'

homepage = 'https://www.bioinformatics.babraham.ac.uk/projects/trim_galore/'
description = """Trim Galore! is a wrapper script to automate quality and 
adapter trimming as well as quality control, with some added functionality 
to remove biased methylation positions for RRBS sequence files (for directional, 
non-directional (or paired-end) sequencing)."""

toolchain = {'name': 'foss', 'version': '2018b'}

source_urls = ['https://github.com/FelixKrueger/TrimGalore/archive/']
sources = [{
    'filename': '145073c.tar.gz',
}]

checksums = [
    'e4f5198f8472f4b8e83fabdc45e09526790a8a3cb79d0d65685c2ec3518780a9',  # 145073c.tar.gz
    'd4d812854755daf91c2443d268afabdacbd1f0820891aaeafb6ddd056571b3a3',  # perl.patch
]

dependencies = [
    ('FastQC', '0.11.8', '-Java-1.8', True),
    ('cutadapt', '1.18', '-Python-2.7.15')
]

# fix so it is using #!/usr/bin/env perl instead of /usr/bin/perl
patches = ['perl.patch']

sanity_check_paths = {
    'files': ['trim_galore', ],
    'dirs': ['']
}

modextrapaths = {'PATH': ''}

moduleclass = 'bio'
