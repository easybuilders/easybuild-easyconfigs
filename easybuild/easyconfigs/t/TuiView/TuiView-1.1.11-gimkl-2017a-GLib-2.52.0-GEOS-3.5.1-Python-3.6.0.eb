easyblock = 'PythonPackage'

name = 'TuiView'
version = '1.1.11'

homepage = "https://tuiview.org/"
description = """TuiView is a lightweight raster GIS with powerful raster attribute table manipulation
 abilities."""

toolchain = {'name': 'gimkl', 'version': '2017a'}

source_urls = ['https://bitbucket.org/chchrsc/tuiview/downloads/']
sources = [SOURCE_TAR_GZ]

glib_version = '2.52.0'
geos_version = '3.5.1'
python_version = '3.6.0'
glibsuffix = '-GLib-%s' % glib_version
geossuffix = '-GEOS-%s' % geos_version
pysuffix = '-Python-%s' % python_version
versionsuffix = '%s%s%s' % (glibsuffix, geossuffix, pysuffix)

dependencies = [
    ('Python', python_version),
    ('Python-GDAL', '2.1.3', '%s%s' % (geossuffix, pysuffix)),
    ('PyQt', '4.12', '%s%s' % (glibsuffix, pysuffix)),
]

pyshortver = '.'.join(python_version.split('.')[:2])
sanity_check_paths = {
    'files': ['bin/tuiview', 'bin/tuiviewwritetable'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

moduleclass = 'geo'
