# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'ConfigureMake'

name = 'Trinity'
version = '2.0.4'

homepage = 'http://trinityrnaseq.github.io/'
description = """ Trinity assembles transcript sequences from Illumina RNA-Seq data. """

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = ['https://github.com/trinityrnaseq/trinityrnaseq/archive/']
sources = ['v%(version)s.tar.gz']

unpack_options = '--strip-components=1'

java = 'Java'
javaver = '1.7.0_80'

dependencies = [
    (java, javaver, '', True)
    ]

skipsteps = ['configure', 'install']

parallel = 1

buildininstalldir = True

buildopts = ' && make plugins'

sanity_check_paths = {
    'files': ["Chrysalis/Chrysalis", "Inchworm/bin/inchworm",
	      "trinity-plugins/rsem/rsem-run-em", "trinity-plugins/jellyfish/bin/jellyfish"],
    'dirs': [""],
}

# add install dir to PATH
modextrapaths = {
    'PATH': ''
}

moduleclass = 'bio'
