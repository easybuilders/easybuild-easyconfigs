##
# Author:    Robert Mijakovic <robert.mijakovic@lxp.lu>
##
easyblock = 'PythonBundle'

name = 'extrap'
version = '4.0.3'

homepage = 'https://github.com/extra-p/extrap'
description = """Extra-P is an automatic performance-modeling tool that
supports the user in the identification of scalability bugs."""

toolchain = {'name': 'foss', 'version': '2020b'}

local_qtver = '5.15.2'

builddependencies = [
    ('pkg-config', '0.29.2'),
]

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('matplotlib', '3.3.3'),
    ('Mesa', '20.2.1'),
    ('tqdm', '4.60.0'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('shiboken2', '5.15.2', {
        'source_tmpl': '%(name)s-%(version)s-%(version)s-cp35.cp36.cp37.cp38.cp39-abi3-manylinux1_x86_64.whl',
        'source_urls': ['https://pypi.python.org/packages/source/s/shiboken2'],
        'checksums': ['4aee1b91e339578f9831e824ce2a1ec3ba3a463f41fda8946b4547c7eb3cba86'],
    }),
    ('PySide2', '5.15.2', {
        'modulename': 'PySide2',
        'source_tmpl': '%(name)s-%(version)s-%(version)s-cp35.cp36.cp37.cp38.cp39-abi3-manylinux1_x86_64.whl',
        'source_urls': ['https://pypi.python.org/packages/source/p/pyside2'],
        'checksums': ['081d8c8a6c65fb1392856a547814c0c014e25ac04b38b987d9a3483e879e9634'],
    }),
    ('pycubexr', '1.1.0', {
        'source_tmpl': SOURCE_PY3_WHL,
        'checksums': ['f980b39c21a26b46cf630be4ce85df158280d7817ca20795da23aa3b6ba6cdb6'],
    }),
    ('marshmallow', '3.12.2', {
        'source_tmpl': SOURCE_WHL,
        'checksums': ['d4090ca9a36cd129126ad8b10c3982c47d4644a6e3ccb20534b512badce95f35'],
    }),
    ('packaging', '20.4', {
        'source_tmpl': SOURCE_WHL,
        'source_tmpl': '%(name)s-%(version)s-py2.py3-none-any.whl',
        'checksums': ['998416ba6962ae7fbd6596850b80e17859a5753ba17c32284f67bfff33784181'],
    }),
    (name, version, {
        'source_tmpl': SOURCE_PY3_WHL,
        'checksums': ['de595982cd8fada72347e2ff54dd3150fb049b8454bad4e6226de25b71af1b27'],
    }),
]

moduleclass = 'vis'
