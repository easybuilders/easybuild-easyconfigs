# Org:    Danish National Genome Center
# author: Nicolas Rapin
# email : nra@ngc.dk

easyblock = 'ConfigureMake'

name = 'Expect'
version = '5.45.4'

homepage = 'https://core.tcl-lang.org/expect/'
description = "Expect is a tool for automating interactive applications using Tcl."

toolchain = {'name': 'GCCcore', 'version': '14.2.0'}

dependencies = [
    ('Tcl', '8.6.16'),
]

sources = ['expect%(version)s.tar.gz']
source_urls = ['https://downloads.sourceforge.net/expect/']

preconfigopts = 'export CFLAGS="$CFLAGS -fpermissive"; '

configopts = '--with-tcl=$EBROOTTCL/lib --with-tclinclude=$EBROOTTCL/include'


sanity_check_paths = {
    'files': [
        'bin/autoexpect',
        'bin/unbuffer',
        'share/man/man1/expect.1',
    ],
    'dirs': [
        'include',
        'share',
    ],
}

sanity_check_commands = [
    'expect -c "puts OK"',
]


moduleclass = 'tools'
