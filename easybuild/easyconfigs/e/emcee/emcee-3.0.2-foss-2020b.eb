easyblock = 'PythonPackage'

name = 'emcee'
version = '3.0.2'

homepage = 'https://dfm.io/emcee'
description = """Emcee is an extensible, pure-Python implementation of
Goodman & Weare's Affine Invariant Markov chain Monte Carlo (MCMC) Ensemble sampler.
It's designed for Bayesian parameter estimation and it's really sweet! """

toolchain = {'name': 'foss', 'version': '2020b'}

sources = [SOURCE_TAR_GZ]
checksums = ['035a44d7594fdd03efd10a522558cdfaa080e046ad75594d0bf2aec80ec35388']

dependencies = [
    ('Python', '3.8.6'),
    ('SciPy-bundle', '2020.11'),
    ('h5py', '3.1.0'),  # Needed for tests, but also an (optional) dependency for hdf5 writing
]

use_pip = True
download_dep_fail = True
sanity_pip_check = True

sanity_check_commands = [("py.test $(dirname `python -c 'import emcee; print(emcee.__file__)'`)")]

moduleclass = 'astro'
