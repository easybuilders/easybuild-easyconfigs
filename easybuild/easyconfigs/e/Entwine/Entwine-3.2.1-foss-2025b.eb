easyblock = 'CMakeMake'

name = 'Entwine'
version = '3.2.1'

homepage = 'https://entwine.io'
description = """Entwine is a data organization library for massive
point clouds, designed to conquer datasets of hundreds of billions of
points as well as desktop-scale point clouds. Entwine can index
anything that is PDAL-readable, and can read/write to a variety of
sources like S3 or Dropbox. Builds are completely lossless, so no
points will be discarded even for terabyte-scale datasets."""

toolchain = {'name': 'foss', 'version': '2025b'}

github_account = 'connormanning'
source_urls = [GITHUB_LOWER_SOURCE]
sources = [VERSION_TAR_GZ]
checksums = ['2408e1c10c6c3b0ddc33f34bcc96710b7d69e4fcff159f3bdb9c961a7adc34cd']

builddependencies = [
    ('CMake', '3.31.8'),
]

dependencies = [
    ('OpenSSL', '3', '', SYSTEM),
    ('cURL', '8.14.1'),
    ('PDAL', '2.9.3'),
    ('nlohmann_json', '3.12.0'),
]

sanity_check_paths = {
    'files': ['bin/entwine', 'include/entwine/io/io.hpp', 'lib/libentwine.%s' % SHLIB_EXT],
    'dirs': ['lib/cmake/entwine'],
}

sanity_check_commands = [
    'entwine --help',
]

moduleclass = 'data'
