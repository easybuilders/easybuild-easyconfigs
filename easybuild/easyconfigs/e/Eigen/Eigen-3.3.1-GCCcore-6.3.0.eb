easyblock = 'EB_Eigen'

name = 'Eigen'
version = '3.3.1'

homepage = 'http://eigen.tuxfamily.org/index.php?title=Main_Page'

description = """
 Eigen is a C++ template library for linear algebra:
 matrices, vectors, numerical solvers, and related algorithms.
"""

toolchain = {'name': 'GCCcore', 'version': '6.3.0'}

source_urls = ['http://bitbucket.org/%(namelower)s/%(namelower)s/get']
sources = ['%(version)s.tar.bz2']

# both in Eigen 2.x an 3.x
include_files = ['Cholesky', 'Core', 'Dense', 'Eigen', 'Geometry', 'LU',
                 'QR', 'QtAlignedMalloc', 'SVD', 'Sparse', 'StdVector']

# only 3.x
include_files.extend(['CholmodSupport', 'Eigenvalues', 'Householder',
                      'IterativeLinearSolvers', 'Jacobi', 'OrderingMethods',
                      'PaStiXSupport', 'PardisoSupport', 'SparseCholesky',
                      'SparseCore', 'StdDeque', 'StdList',
                      'SuperLUSupport', 'UmfPackSupport'])

sanity_check_paths = {
    'dirs': ['include'],
    'files': ['include/Eigen/%s' % x for x in include_files],
}

moduleclass = 'math'
