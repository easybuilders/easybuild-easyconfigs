# Author: J. Sassmannshausen (Imperial College London/UK)

easyblock = 'CMakeMake'

name = 'embree'
version = '4.3.3'

homepage = 'https://github.com/RenderKit/embree'
description = """
IntelÂ® Embree targets graphics application developers to improve the 
performance of photo-realistic rendering applications. Embree is optimized 
towards production rendering, by putting focus on incoherent ray performance, 
high quality acceleration structure construction, a rich feature set, accurate 
primitive intersection, and low memory consumption.
"""

toolchain = {'name': 'gfbf', 'version': '2023a'}

source_urls = ['https://github.com/RenderKit/embree/archive']
sources = ['v%(version)s.tar.gz']
checksums = ['8a3bc3c3e21aa209d9861a28f8ba93b2f82ed0dc93341dddac09f1f03c36ef2d']

builddependencies = [
    ('binutils', '2.40'),
    ('CMake', '3.26.3'),
    ('pybind11', '2.11.1'),
]

dependencies = [
    ('Python', '3.11.3'),
    ('tbb', '2021.11.0'),
    ('SciPy-bundle', '2023.07'),
]

configopts = '-DEMBREE_TUTORIALS=OFF '

sanity_check_paths = {
    'files': [f'lib/lib%(namelower)s4.{SHLIB_EXT}'],
    'dirs': ['include'],
}

moduleclass = 'vis'
