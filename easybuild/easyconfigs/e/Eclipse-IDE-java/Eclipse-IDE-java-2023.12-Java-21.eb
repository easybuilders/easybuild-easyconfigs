easyblock = 'Tarball'

name = 'Eclipse-IDE-java'
version = '2023.12'
versionsuffix = '-Java-21'

homepage = 'http://www.eclipse.org'
description = """The essential tools for any Java developer, including
 a Java IDE, a Git client, XML Editor, Maven and Gradle integration"""

toolchain = SYSTEM

source_urls = [
    'https://www.eclipse.org/downloads/download.php?&mirror_id=1&file=/technology/epp/downloads/release/2023-12/R/'
]
sources = [
    'eclipse-java-%(version_major)s-%(version_minor)s-R-linux-gtk-x86_64.tar.gz'
]
checksums = [
    {'eclipse-java-2023-12-R-linux-gtk-x86_64.tar.gz':
     '09fda3acd8da911b5e18efd6d7ca27784f440ccdd52f28bf94869f81f7e9ad47'},
]

dependencies = [('Java', '21', '', SYSTEM)]

postinstallcmds = [
    'sed -i "s&plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.'
    'x86_64_17.0.9.v20231028-0858/jre/bin/java&$JAVA_HOME/bin/java&g" '
    '%(installdir)s/eclipse.ini'
]

modextrapaths = {
    'PATH':  '',
}

sanity_check_paths = {
    'files': ['eclipse'],
    'dirs': ['configuration', 'features', 'plugins']
}

moduleclass = 'devel'
