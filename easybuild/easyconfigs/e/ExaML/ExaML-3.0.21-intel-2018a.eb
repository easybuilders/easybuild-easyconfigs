easyblock = 'MakeCp'

name = 'ExaML'
version = '3.0.21'

homepage = 'https://cme.h-its.org/exelixis/web/software/examl/index.html'

description = """Exascale Maximum Likelihood (ExaML) code for phylogenetic inference on supercomputers using MPI.
This code implements the popular RAxML search algorithm for maximum likelihood based inference of phylogenetic trees.
It uses a radically new MPI parallelization approach that yields improved parallel efficiency, in particular on
partitioned multi-gene or whole-genome datasets. It is up to 3.2 times faster than RAxML-Light. As RAxML-Light, 
ExaML also implements checkpointing, SSE3, AVX vectorization and memory saving techniques."""

toolchain = {'name': 'intel', 'version': '2018a'}

source_urls = ['https://github.com/stamatak/ExaML/archive/']
sources = ['v%(version)s.tar.gz']
checksums = ['6c7e6c5d7bf4ab5cfbac5cc0d577885272a803c142e06b531693a6a589102e2e']

prebuildopts = 'cd examl && '
buildopts = '-f Makefile.OMP.AVX.gcc'  # This makefile actually uses mpicc

files_to_copy = [(['examl/examl-OMP-AVX'], 'bin')]

sanity_check_paths = {
    'files': ['bin/examl-OMP-AVX'],
    'dirs': [],
}

moduleclass = 'tools'
