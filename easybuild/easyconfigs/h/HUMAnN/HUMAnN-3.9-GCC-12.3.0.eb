# Based on minimal python bundle on GCCcore 12.3.0
# Author: J. Saßmannshausen (Imperial College London/UK)

easyblock = 'PythonBundle'

name = 'HUMAnN'
version = '3.9'

homepage = 'https://github.com/biobakery/humann'
description = """
HUMAnN is the next generation of HUMAnN
(HMP Unified Metabolic Analysis Network).
"""
citing = """
Francesco Beghini(1), Lauren J McIver(2), Aitor Blanco-Mìguez(1), Leonard Dubois(1),
Francesco Asnicar(1), Sagun Maharjan(2,3), Ana Mailyan(2,3), Andrew Maltez Thomas(1),
Paolo Manghi(1), Mireia Valles-Colomer(1), George Weingart(2,3) ,Yancong Zhang(2,3),
Moreno Zolfo(1), Curtis Huttenhower(2,3), Eric A Franzosa(2,3), Nicola Segata1(4)

Integrating taxonomic, functional, and strain-level profiling of diverse microbial
communities with bioBakery 3

DOI: eLife 2021;10:e65088
1 Department CIBIO, University of Trento, Italy
2 Harvard T. H. Chan School of Public Health, Boston, MA, USA
3 The Broad Institute of MIT and Harvard, Cambridge, MA, USA
4 IEO, European Institute of Oncology IRCCS, Milan, Italy

"""

toolchain = {'name': 'GCC', 'version': '12.3.0'}

builddependencies = [
    ('Boost', '1.82.0'),
]

dependencies = [
    ('Python', '3.11.3'),
    ('Bowtie2', '2.5.1'),
    ('DIAMOND', '2.1.8'),
    ('MinPath', '1.6'),
]

exts_list = [
    ('humann', version, {
        'patches': [f'humann-{version}.patch'],
    }),
]

sanity_check_commands = ['humann_test']

moduleclass = 'bio'
