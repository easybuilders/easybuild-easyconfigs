# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Tarball'

name = 'HiCUP'
version = '0.8.3'

homepage = "https://www.bioinformatics.babraham.ac.uk/projects/hicup/"
description = """Hi-C data processing pipeline"""

toolchain = {'name': 'foss', 'version': '2021a'}

github_account = 'StevenWingett'
source_urls = [GITHUB_SOURCE]
sources = ['v%(version)s.tar.gz']
checksums = ['e2381c2c45e0d79a6d1a2d9a8358b3efe8da727112d262cb0122132012266368']

dependencies = [
    ('Perl', '5.32.1'),
    ('Bowtie2', '2.4.4'),
    ('SAMtools', '1.12'),
    ('gzip', '1.10'),
    ('R', '4.1.0'),
]

fix_perl_shebang_for = ['Testing/hicup_checker', 'Misc/find_common_fragment_interactions.pl', 'Misc/hicup_capture',
                        'Misc/make_hic_array.pl'] + [
    '%%(namelower)s%s' % x for x in ['', '_deduplicator', '_digester', '_filter', '_mapper', '_reporter', '_truncater']
] + [
    'Conversion/%%(namelower)s2%s' % x for x in ['fithic', 'gothic', 'hicpipe', 'homer', 'juicer']
]

modextrapaths = {'PATH': ''}

sanity_check_paths = {
    'files': ['%(namelower)s'],
    'dirs': [],
}

moduleclass = 'bio'
