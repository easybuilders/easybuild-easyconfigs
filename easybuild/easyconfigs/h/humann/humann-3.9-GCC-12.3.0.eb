# Based on minimal python bundle on GCCcore 12.3.0
# Author: J. Saßmannshausen (Imperial College London/UK)

easyblock = 'PythonBundle'

name = 'humann'
version = '3.9'

homepage = 'https://huttenhower.sph.harvard.edu/humann'
description = """
HUMAnN 3.0 is the next iteration of HUMAnN, the HMP Unified Metabolic Analysis Network.
HUMAnN is a method for efficiently and accurately profiling the abundance of microbial
metabolic pathways and other molecular functions from metagenomic or metatranscriptomic
sequencing data.
"""
citing = """
Francesco Beghini(1), Lauren J McIver(2), Aitor Blanco-Mìguez(1), Leonard Dubois(1),
Francesco Asnicar(1), Sagun Maharjan(2,3), Ana Mailyan(2,3), Andrew Maltez Thomas(1),
Paolo Manghi(1), Mireia Valles-Colomer(1), George Weingart(2,3) ,Yancong Zhang(2,3),
Moreno Zolfo(1), Curtis Huttenhower(2,3), Eric A Franzosa(2,3), Nicola Segata1(4)

Integrating taxonomic, functional, and strain-level profiling of diverse microbial
communities with bioBakery 3

DOI: eLife 2021;10:e65088
1 Department CIBIO, University of Trento, Italy
2 Harvard T. H. Chan School of Public Health, Boston, MA, USA
3 The Broad Institute of MIT and Harvard, Cambridge, MA, USA
4 IEO, European Institute of Oncology IRCCS, Milan, Italy

"""

toolchain = {'name': 'GCC', 'version': '12.3.0'}

builddependencies = [
    ('Boost', '1.82.0'),
]

dependencies = [
    ('Python', '3.11.3'),
    ('Bowtie2', '2.5.1'),
    ('DIAMOND', '2.1.8'),
    ('MinPath', '1.6'),
]

exts_list = [
    ('humann', version, {
        'patches': ['humann-3.9.patch'],
        'checksums': [
            {'humann-3.9.tar.gz': 'd018ddbbe45f5e3e11080620b4ae5f1737ba213d2c8cecdc8237859f853b2287'},
            {'humann-3.9.patch': '7de8e5a82d238ea759c2a519048f26739e5c0aa3315cbc3ffc49d0020b9ce49d'},
        ],
    }),
]

sanity_check_commands = ['humann_test']

moduleclass = 'bio'
