easyblock = 'PythonBundle'

name = 'Hybpiper'
version = '2.2.0'

homepage = 'https://github.com/mossmatters/HybPiper'
description = """HybPiper was designed for targeted sequence capture,
 in which DNA sequencing libraries are enriched for gene regions of interest,
 especially for phylogenetics. HybPiper is a suite of Python scripts/modules
 that wrap and connect bioinformatics tools in order to extract target
 sequences from high-throughput DNA sequencing reads."""

toolchain = {'name': 'foss', 'version': '2023a'}

dependencies = [
    ('Python', '3.11.3'),
    ('Seaborn', '0.13.2'),
    ('matplotlib', '3.7.2'),
    ('SciPy-bundle', '2023.07'),
    ('Biopython', '1.83'),
    ('psutil', '5.9.8'),
    ('Exonerate', '2.4.0'),
    ('BLAST+', '2.14.1'),
    ('DIAMOND', '2.1.8'),
    ('BWA', '0.7.18'),
    ('BBMap', '39.19'),
    ('SPAdes', '3.15.4'),
    ('parallel', '20230722'),
    ('SAMtools', '1.18'),
    ('MAFFT', '7.520', '-with-extensions'),
]

exts_list = [
    ('Pebble', '5.1.0', {
        'checksums': ['5c30376f1827b21ecec4126ff90e7f22ad5501cac1ff2b32c86ff2601681f932'],
    }),
    ('progressbar2', '4.5.0', {
        'modulename': 'progressbar',
        'checksums': ['6662cb624886ed31eb94daf61e27583b5144ebc7383a17bae076f8f4f59088fb'],
    }),
    ('python_utils', '3.9.1', {
        'checksums': ['eb574b4292415eb230f094cbf50ab5ef36e3579b8f09e9f2ba74af70891449a0'],
    }),
    (name, version, {
        'source_urls': ['https://github.com/mossmatters/HybPiper/archive/refs/tags/'],
        'sources': ['v%(version)s.tar.gz'],
        'checksums': ['8337b1d17de9fa11f9d2b3f59ccc4597c5e3359d70e26d88346e871ccc6b1ac3'],
    }),
]

sanity_check_commands = [
    "hybpiper check_dependencies"
]

moduleclass = 'bio'
