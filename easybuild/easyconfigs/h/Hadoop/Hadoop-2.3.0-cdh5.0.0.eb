easyblock = 'Tarball'

name = 'Hadoop'
version = '2.3.0'
versionsuffix = '-cdh5.0.0'

homepage = 'http://archive.cloudera.com/cdh5/cdh/5/'
description = """Hadoop MapReduce as provided by Cloudera"""

toolchain = {'name': 'dummy', 'version': ''}

sources = ['%(namelower)s-%(version)s.tar.gz']
source_urls = ['http://archive.cloudera.com/cdh5/cdh/5/']

java = 'Java'
javaver = '1.7.0_40'

dependencies = [(java, javaver)]

sanity_check_paths = {
    'files': ['bin/hadoop'],
    'dirs': ['bin', 'lib', 'libexec']
}

modextrapaths = {
    'HADOOP_HOME': 'share/hadoop/mapreduce',
    'HADOOP_CONF_DIR': 'share/hadoop/mapreduce/conf'
}

postinstallcmds = ["cp $EBROOTSNAPPY/lib/libsnappy.so %(installdir)s/lib"] 

moduleclass = 'devel'
