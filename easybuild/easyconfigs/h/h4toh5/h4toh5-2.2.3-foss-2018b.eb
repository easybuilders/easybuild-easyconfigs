easyblock = 'ConfigureMake'

name = 'h4toh5'
version = '2.2.3'

homepage = 'http://www.hdfgroup.org/h4toh5/'
description = """The h4toh5 software consists of the h4toh5 and h5toh4 command-line utilities,
 as well as a conversion library for converting between individual HDF4 and HDF5 objects."""

toolchain = {'name': 'foss', 'version': '2018b'}

source_urls = ['http://www.hdfgroup.org/ftp/HDF5/tools/%s/src' % name]
sources = ['h4h5tools-%(version)s.tar.gz']
checksums = ['ba167d9e5ec1f9014a95e3f5d0621f814caa6e83508e235ce60cfd315e3a9d3f']

dependencies = [
    ('HDF', '4.2.14'),
    ('HDF5', '1.10.2'),
    ('HDF-EOS', '2.20'),
]

configopts = "CC=$EBROOTHDF/bin/h4cc --with-hdf5=$EBROOTHDF5 --with-hdfeos2=$EBROOTHDFMINEOS"

sanity_check_paths = {
    'files': ['bin/h4toh5', 'bin/h5toh4', 'include/h4toh5.h', 'lib/libh4toh5.a'],
    'dirs': ['bin', 'include', 'lib'],
}

moduleclass = 'data'
