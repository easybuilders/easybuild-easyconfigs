easyblock = 'PythonBundle'

name = 'Hail'
version = '0.2.93'

homepage = 'https://hail.is'
description = """Hail is an open-source library for scalable data exploration and analysis, with a 
 particular emphasis on genomics."""

toolchain = {'name': 'foss', 'version': '2021b'}

dependencies = [
    ('Python', '3.9.6'),
    ('SciPy-bundle', '2021.10'),
    ('scikit-learn', '1.0.1'),
    ('numba', '0.54.1'),
    ('tqdm', '4.62.3'),
    ('dill', '0.3.4'),
    ('boto3', '1.20.13'),
    ('Rust', '1.54.0'),  # required for maturin
    ('Java', '11', '', True),
    ('Spark', '3.1.3'),
    ('protobuf-python', '3.17.3'),
    ('Pillow', '8.3.1'),
    ('PyYAML', '5.4.1'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('pip', '22.0.4', {
        'checksums': ['b3a9de2c6ef801e9247d1527a4b16f92f2cc141cd1489f3fffaf6a9e96729764'],
    }),
    ('tornado', '6.1', {
        'checksums': ['33c6e81d7bd55b468d2e793517c909b139960b6c790a60b7991b9b6b76fb9791'],
    }),
    ('bokeh', '1.4.0', {
        'checksums': ['c60d38a41a777b8147ee4134e6142cea8026b5eebf48149e370c44689869dce7'],
    }),
    ('decorator', '4.4.2', {
        'checksums': ['e3a62f0520172440ca0dcc823749319382e377f37f140a0b99ef45fecb84bfe7'],
    }),
    ('aiohttp-session', '2.7.0', {
        'checksums': ['18ae740845214086f783574edfee1bac36862332bd11d561e048b079d8f6ad34'],
    }),
    ('aiosignal', '1.2.0', {
        'checksums': ['78ed67db6c7b7ced4f98e495e572106d5c432a93e1ddd1bf475e1dc05f5b7df2'],
    }),
    ('async-timeout', '4.0.2', {
        'checksums': ['2163e1640ddb52b7a8c80d0a67a08587e5d245cc9c553a74a847056bc2976b15'],
    }),
    ('frozenlist', '1.3.0', {
        'checksums': ['ce6f2ba0edb7b0c1d8976565298ad2deba6f8064d2bebb6ffce2ca896eb35b0b'],
    }),
    ('multidict', '6.0.2', {
        'checksums': ['5ff3bd75f38e4c43f1f470f2df7a4d430b821c4ce22be384e1459cb57d6bb013'],
    }),
    ('yarl', '1.7.2', {
        'checksums': ['45399b46d60c253327a460e99856752009fcee5f5d3c80b2f7c0cae1c38d56dd'],
    }),
    ('aiohttp', '3.8.1', {
        'checksums': ['fc5471e1a54de15ef71c1bc6ebe80d4dc681ea600e68bfd1cbce40427f0b7578'],
    }),
    ('avro', '1.11.0', {
        'checksums': ['1206365cc30ad561493f735329857dd078533459cee4e928aec2505f341ce445'],
    }),
    ('asyncinit', '0.2.4', {
        'checksums': ['4acaf614f4d6f78babd278bbacf21bd9f7756efc17cd5d7e1bae31ff770b3cfa'],
    }),
    ('azure-core', '1.23.1', {
        'source_tmpl': '%(name)s-%(version)s.zip',
        'checksums': ['28a01dfbaf0a6812c4e2a82d1642ea30956a9739f25bc77c9b23b91f4ea68f0f'],
        'modulename': 'azure.core',
    }),
    ('isodate', '0.6.1', {
        'checksums': ['48c5881de7e8b0a0d648cb024c8062dc84e7b840ed81e864c7614fd3c127bde9'],
    }),
    ('oauthlib', '3.2.0', {
        'checksums': ['23a8208d75b902797ea29fd31fa80a15ed9dc2c6c16fe73f5d346f83f6fa27a2'],
    }),
    ('requests-oauthlib', '1.3.1', {
        'checksums': ['75beac4a47881eeb94d5ea5d6ad31ef88856affe2332b9aafb52c6452ccf0d7a'],
    }),
    ('msrest', '0.6.21', {
        'checksums': ['72661bc7bedc2dc2040e8f170b6e9ef226ee6d3892e01affd4d26b06474d68d8'],
    }),
    ('msal', '1.17.0', {
        'checksums': ['04e3cb7bb75c51f56d290381f23056207df1f3eb594ed03d38551f3b16d2a36e'],
    }),
    ('portalocker', '1.0.0', {
        'checksums': ['12865f5d38a93fcac4e7319d4fac24b0d7dc97330fcf0cc3b9b34e899ecbd2c4'],
    }),
    ('msal-extensions', '0.3.0', {
        'checksums': ['5523dfa15da88297e90d2e73486c8ef875a17f61ea7b7e2953a300432c2e7861'],
    }),
    ('typing-extensions', '4.0.1', {
        'source_tmpl': 'typing_extensions-%(version)s-py3-none-any.whl',
        'checksums': ['7f001e5ac290a0c0401508864c7ec868be4e701886d5b573a9528ed3973d9d3b'],
    }),
    ('azure-identity', '1.6.0', {
        'source_tmpl': '%(name)s-%(version)s.zip',
        'checksums': ['2e70b00874e4f288e37804bc06bfaf216de8565c759594bf79cccfbf9ca2c78a'],
        'modulename': 'azure.identity',
    }),
    ('azure-storage-blob', '12.8.1', {
        'source_tmpl': '%(name)s-%(version)s.zip',
        'checksums': ['eb37b50ddfb6e558b29f6c8c03b0666514e55d6170bf4624e7261a3af93c6401'],
        'modulename': 'azure.storage.blob',
    }),
    ('wrapt', '1.14.0', {
        'checksums': ['8323a43bd9c91f62bb7d4be74cc9ff10090e7ef820e27bfe8815c57e68261311'],
    }),
    ('Deprecated', '1.2.13', {
        'checksums': ['43ac5335da90c31c24ba028af536a91d41d53f9e6901ddb021bcc572ce44e38d'],
    }),
    ('cachetools', '4.2.4', {
        'checksums': ['89ea6f1b638d5a73a4f9226be57ac5e4f399d22770b92355f92dcb0f7f001693'],
    }),
    ('pyasn1-modules', '0.2.8', {
        'checksums': ['905f84c712230b2c592c19470d3ca8d552de726050d1d1716282a1f6146be65e'],
    }),
    ('rsa', '4.8', {
        'checksums': ['5c6bd9dc7a543b7fe4304a631f8a8a3b674e2bbfc49c2ae96200cdbe55df6b17'],
    }),
    ('google-auth', '1.27.0', {
        'checksums': ['da5218cbf33b8461d7661d6b4ad91c12c0107e2767904d5e3ae6408031d5463e'],
        'modulename': 'google.auth',
    }),
    ('googleapis-common-protos', '1.56.0', {
        'checksums': ['4007500795bcfc269d279f0f7d253ae18d6dc1ff5d5a73613ffe452038b1ec5f'],
        'modulename': 'google.api',
    }),
    ('google-api-core', '1.31.5', {
        'checksums': ['85d2074f2c8f9c07e614d7f978767d71ceb7d40647814ef4236d3a0ef671ee75'],
        'modulename': 'google.api_core',
    }),
    ('google-cloud-core', '1.7.2', {
        'checksums': ['b1030aadcbb2aeb4ee51475426351af83c1072456b918fb8fdb80666c4bb63b5'],
        'modulename': 'google.cloud',
    }),
    ('google-crc32c', '1.3.0', {
        'checksums': ['276de6273eb074a35bc598f8efbc00c7869c5cf2e29c90748fccc8c898c244df'],
    }),
    ('google-resumable-media', '0.5.1', {
        'checksums': ['97155236971970382b738921f978a6f86a7b5a0b0311703d991e065d3cb55773'],
        'modulename': 'google.resumable_media',
    }),
    ('google-cloud-storage', '1.25.0', {
        'checksums': ['8e9505ad7ba356c0953acefc0cdfd41de0dd5f1df520d1cd5bb31bd34ee45373'],
        'modulename': 'google.cloud.storage',
    }),
    ('humanize', '1.0.0', {
        'checksums': ['38ace9b66bcaeb7f8186b9dbf0b3448e00148e5b4fbaf726f96c789e52c3e741'],
    }),
    ('Jinja2', '3.0.3', {
        'checksums': ['611bb273cd68f3b993fabdc4064fc858c5b47a973cb5aa7999ec1ba405c87cd7'],
    }),
    ('hurry.filesize', '0.9', {
        'checksums': ['f5368329adbef86accd3bc9490522340bb79260455ae89b1a42c10f63801b9a6'],
    }),
    ('janus', '1.0.0', {
        'checksums': ['df976f2cdcfb034b147a2d51edfc34ff6bfb12d4e2643d3ad0e10de058cb1612'],
    }),
    ('nest-asyncio', '1.5.4', {
        'source_tmpl': 'nest_asyncio-%(version)s.tar.gz',
        'checksums': ['f969f6013a16fadb4adcf09d11a68a4f617c6049d7af7ac2c676110169a63abd'],
    }),
    ('tomli', '2.0.1', {
        'checksums': ['de526c12914f0c550d15924c62d72abc48d6fe7364aa87328337a31007fe8a4f'],
    }),
    ('maturin', '0.12.7', {
        'checksums': ['b6364f1875ded08e7aa5b2eaab5269b2ddedcdafd3feee6c1058808dd062649e'],
    }),
    ('orjson', '3.6.4', {
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl',
        'checksums': ['1121187e2a721864b52e5dbb3cf8dd4a4546519a5fef1e13fa777347fb8884a2'],
    }),
    ('regex', '2022.3.15', {
        'checksums': ['0a7b75cc7bb4cc0334380053e4671c560e31272c9d2d5a6c4b8e9ae2c9bd0f82'],
    }),
    ('parsimonious', '0.8.1', {
        'checksums': ['3add338892d580e0cb3b1a39e4a1b427ff9f687858fdd61097053742391a9f6b'],
    }),
    ('idna', '2.10', {
        'checksums': ['b307872f855b18632ce0c21c5e45be78c0ea7ae4c15c828c20788b26921eb3f6'],
    }),
    ('requests', '2.25.1', {
        'checksums': ['27973dd4a904a4f13b263a19c866c13b92a39ed1c964655f025f3f8d3d75b804'],
    }),
    ('tenacity', '8.0.1', {
        'checksums': ['43242a20e3e73291a28bcbcacfd6e000b02d3857a9a9fff56b297a27afdc932f'],
    }),
    ('plotly', '5.5.0', {
        'checksums': ['20b8a1a0f0434f9b8d10eb7caa66e947a9a1d698e5a53d40d447bbc0d2ae41f0'],
    }),
    ('PyJWT', '2.3.0', {
        'checksums': ['b888b4d56f06f6dcd777210c334e69c737be74755d3e5e9ee3fe67dc18a0ee41'],
        'modulename': 'jwt',
    }),
    ('python-json-logger', '2.0.2', {
        'checksums': ['202a4f29901a4b8002a6d1b958407eeb2dd1d83c18b18b816f5b64476dde9096'],
        'modulename': 'logging',
    }),
    ('uvloop', '0.16.0', {
        'checksums': ['f74bc20c7b67d1c27c72601c78cf95be99d5c2cdd4514502b4f3eb0933ff1228'],
    }),
    ('hail', version, {
        'source_tmpl': '%(namelower)s-%(version)s-py3-none-any.whl',
        'checksums': ['0171c25b3631a95ba95af69efb56a34b0ecea0d6ea4d41ece1e302cd673e4e45'],
    }),
]

sanity_check_paths = {
    'files': ['bin/hailctl'],
    'dirs': []
}

sanity_check_commands = [
    'hailctl --help',
    "python -c 'import hail'",
]

moduleclass = 'bio'
