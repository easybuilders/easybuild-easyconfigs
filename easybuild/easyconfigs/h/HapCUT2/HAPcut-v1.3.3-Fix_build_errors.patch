From 65771565f29aa61f1fa7e8319a39c8a65cc19824 Mon Sep 17 00:00:00 2001
From: snehring <snehring@iastate.edu>
Date: Wed, 27 Apr 2022 11:28:35 -0500
Subject: [PATCH] fixing build errors with newer gcc versions

---
 hairs-src/hashtable.c | 2 +-
 hairs-src/hashtable.h | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/hairs-src/hashtable.c b/hairs-src/hashtable.c
index d221547..b4a1c58 100644
--- a/hairs-src/hashtable.c
+++ b/hairs-src/hashtable.c
@@ -39,7 +39,7 @@ int insert_keyvalue(HASHTABLE* ht, char* key, int slen, int value) {
 
 int getindex(HASHTABLE* ht, char* chrom) {
     int hash = hashstring(chrom, ht->htsize);
-    keypointer = ht->blist[hash];
+    keyvalue* keypointer = ht->blist[hash];
     while (keypointer != NULL) {
         if (strcmp(keypointer->key, chrom) == 0) return keypointer->value;
         keypointer = keypointer->next;
diff --git a/hairs-src/hashtable.h b/hairs-src/hashtable.h
index 1cb566b..3153da2 100644
--- a/hairs-src/hashtable.h
+++ b/hairs-src/hashtable.h
@@ -13,7 +13,7 @@ typedef struct keyvalue {
     struct keyvalue* next;
 } keyvalue;
 
-keyvalue* keypointer;
+extern keyvalue* keypointer;
 
 typedef struct HASHTABLE {
     int htsize; // prime number that is also the size of HASHTABLE
