easyblock = 'MakeCp'

name = "Unison"
version = "2.40.102"
ocaml = "OCaml"
ocamlver = "4.01.0"
versionsuffix = "-%s-%s" % (ocaml,ocamlver)

homepage = 'http://www.cis.upenn.edu/~bcpierce/unison'
description = """Unison is a file-synchronization tool for Unix and Windows.
 It allows two replicas of a collection of files and directories
 to be stored on different hosts (or different disks on the same host),
 modified separately, and then brought up to date
 by propagating the changes in each replica to the other."""

toolchain = {'version': '2014b', 'name': 'intel'}

sources = [SOURCELOWER_TAR_GZ]
source_urls = ['http://www.seas.upenn.edu/~bcpierce/unison//download/releases/%(namelower)s-%(version)s/']

dependencies = [(ocaml, ocamlver)]

prebuildopts = 'unset CFLAGS && '

buildopts = 'UISTYLE=text '

files_to_copy = [(['unison'], 'bin')]

parallel = 1

sanity_check_paths = {
    'files': ['bin/unison'],
    'dirs': []
}

moduleclass = 'tools'
