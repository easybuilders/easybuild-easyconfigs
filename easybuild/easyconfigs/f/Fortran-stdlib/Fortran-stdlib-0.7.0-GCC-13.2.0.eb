easyblock = 'CMakeNinja'

name = 'Fortran-stdlib'
version = '0.7.0'

homepage = 'https://awvwgk.github.io/stdlib-docs/en/index.html'
description = """Community driven and agreed upon de facto "standard" library for Fortran"""

toolchain = {'name': 'GCC', 'version': '13.2.0'}
toolchainopts = {}  # toolchain options, e.g. opt, pic, usempi, optarch, ...

source_urls = ['https://github.com/fortran-lang/stdlib/archive/refs/tags/']
sources = ['v%(version)s.tar.gz']
checksums = ['07615b1fd0d9c78f04ec5a26234d091cb7e359933ba2caee311dcd6f58d87af0']

builddependencies = [
    ('CMake', '3.27.6'),
    ('Ninja', '1.11.1'),
    ('fypp', '3.2'),
]

configopts = '-DBUILD_SHARED_LIBS=on '

sanity_check_paths = {
    'files': ['include/fortran_stdlib/GNU-13.2.0/stdlib_version.mod', 'lib/libfortran_stdlib.%s' % SHLIB_EXT],
    'dirs': ['include', 'lib', 'share'],
}

moduleclass = 'lib'
