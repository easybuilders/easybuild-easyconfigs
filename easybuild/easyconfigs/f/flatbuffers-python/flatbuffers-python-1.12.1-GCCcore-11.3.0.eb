easyblock = 'PythonPackage'

name = 'flatbuffers-python'
version = '1.12.1'

homepage = 'https://github.com/google/flatbuffers/'
description = """Python Flatbuffers runtime library."""

toolchain = {'name': 'GCCcore', 'version': '11.3.0'}

preinstallopts = "cd python && "

source_urls = ['https://github.com/google/flatbuffers/archive/v%(version)s/']
sources = [{'download_filename': 'flatbuffers-%(version)s.tar.gz', 'filename': SOURCE_TAR_GZ}]
checksums = ['90e6a65ff5b8e9fc225af3a9d7bf4d2e120cfe40c27dfd5527f67c0d4eb5b954']

dependencies = [
    ('binutils', '2.38'),
    ('Python', '3.10.4'),
]

download_dep_fail = True
use_pip = True
sanity_pip_check = True

preinstallopts += 'VERSION=%(version)s '
options = {'modulename': 'flatbuffers'}

moduleclass = 'devel'
