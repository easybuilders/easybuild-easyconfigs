easyblock = 'Bundle'

name = 'FSLeyes'
version = '0.18.2'
versionsuffix = '-Python-%(pyver)s'

homepage = 'https://git.fmrib.ox.ac.uk/fsl/fsleyes/fsleyes'
description = "FSLeyes is the FSL image viewer."

toolchain = {'name': 'foss', 'version': '2017b'}

dependencies = [
    ('Python', '2.7.14'),
    ('matplotlib', '2.1.1', versionsuffix),
    ('wxPython', '3.0.2.0', versionsuffix),
    ('freeglut', '3.0.0'),
    ('NiBabel', '2.2.1', versionsuffix),
    ('Pillow', '5.0.0', versionsuffix),
]

# this is a bundle of Python packages
exts_defaultclass = 'PythonPackage'

exts_list = [
    ('MarkupSafe', '1.0', {
        'modulename': 'markupsafe',
        'source_urls': ['https://pypi.python.org/packages/source/M/MarkupSafe/'],
        'checksums': ['a6be69091dac236ea9c6bc7d012beab42010fa914c459791d627dad4910eb665'],
    }),
    ('Jinja2', '2.10', {
        'source_urls': ['https://pypi.python.org/packages/source/J/Jinja2'],
        'checksums': ['f84be1bb0040caca4cea721fcbbbbd61f9be9464ca236387158b0feea01914a4'],
    }),
    ('indexed-gzip', '0.7.0', {
        'modulename': 'indexed_gzip',
        'source_tmpl': 'v%(version)s.tar.gz',
        'source_urls': ['https://github.com/pauldmccarthy/indexed_gzip/archive/'],
        'checksums': ['ead6d864c781f5e1a358a0f031e695c595fe7d2b2c5ecdc1135ba1b5faa43dae'],
    }),
    ('PyOpenGL-accelerate', '3.1.1a1', {
        'modulename': 'OpenGL_accelerate',
        'source_urls': ['https://pypi.python.org/packages/source/P/PyOpenGL-accelerate'],
        'checksums': ['3d37af9f2565febf214e1da2a5fe019561992d34026ce2a5f51972e121b84cdd'],
    }),
    ('PyOpenGL', '3.1.1a1', {
        'modulename': 'OpenGL',
        'source_urls': ['https://pypi.python.org/packages/source/P/PyOpenGL'],
        'checksums': ['c96d909b359abe3271b746bacf7e6ba52935141e2406a8f90231e4e44dfa4075'],
    }),
    ('requests', '2.18.4', {
        'source_urls': ['https://pypi.python.org/packages/source/r/requests'],
        'checksums': ['9c443e7324ba5b85070c4a818ade28bfabedf16ea10206da1132edaa6dda237e'],
    }),
    ('sphinx_rtd_theme', '0.2.4', {
        'source_urls': ['https://pypi.python.org/packages/source/s/sphinx_rtd_theme'],
        'checksums': ['2df74b8ff6fae6965c527e97cca6c6c944886aae474b490e17f92adfbe843417'],
    }),
    ('packaging', '16.8', {
        'source_urls': ['https://pypi.python.org/packages/source/p/packaging'],
        'checksums': ['5d50835fdf0a7edf0b55e311b7c887786504efea1177abd7e69329a8e5ea619e'],
    }),
    ('fsleyes-widgets', '0.3.1', {
        'modulename': 'fsleyes_widgets',
        'source_urls': ['https://pypi.python.org/packages/source/f/fsleyes-widgets'],
        'checksums': ['263f0314a0ef333bad639d622cc551aeae42efc705aaf789b0f01977c985a5da'],
    }),
    ('fslpy', '1.5.4', {
        'modulename': 'fsl',
        'source_urls': ['https://pypi.python.org/packages/source/f/fslpy'],
        'checksums': ['077f35914857306818fdb0df640356f420a81b57a63a5369523ecd1704421131'],
    }),
    ('fsleyes-props', '1.2.5', {
        'modulename': 'fsleyes_props',
        'source_urls': ['https://pypi.python.org/packages/source/f/fsleyes-props'],
        'checksums': ['bbb2d25a875a76fb7fc3145eb0cf9f349833a3c8c1c0f6611f4055accd37edc7'],
    }),
    (name, version, {
        'source_tmpl': 'fsleyes-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/f/fsleyes'],
        'checksums': ['64857bfc23e9f2709fd362174d5d8f8cae705585543549fa062e587b993bc7d2'],
    }),
]

# specify that Bundle easyblock should run a full sanity check, rather than just trying to load the module
full_sanity_check = True

sanity_check_paths = {
    'files': [],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

modextrapaths = {'PYTHONPATH': ['lib/python%(pyshortver)s/site-packages']}

moduleclass = 'vis'
