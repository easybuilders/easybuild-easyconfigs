easyblock = 'CMakeMake'

name = 'fortranGIS'
version = '3.0-1'

homepage = 'https://github.com/ARPA-SIMC/fortrangis'
description = """FortranGIS project includes a collection of Fortran interfaces to some common
Open Source GIS (Geographic Information System) software libraries, plus some more Fortran-specific tools."""

toolchain = {'name': 'intel', 'version': '2025b'}

source_urls = ['https://github.com/ARPA-SIMC/fortrangis/archive/']
sources = [{'download_filename': 'v%(version)s.tar.gz', 'filename': SOURCE_TAR_GZ}]
checksums = ['c452f2cbaf870627aefef36d872cb5c2a1f13d6fe1c31e2e7fa754fcdaa98fa3']

builddependencies = [('CMake', '4.0.3')]
dependencies = [('GDAL', '3.11.3')]

configopts = '-DBUILD_SHAPELIB=OFF -DBUILD_PROJ=OFF -DCMAKE_Fortran_FLAGS="$FFLAGS -I/%(start_dir)s/include"'

sanity_check_paths = {
    'files': ['lib/libfortranGIS.a', 'lib/libfortranc.a'],
    'dirs': ['include', 'lib'],
}

moduleclass = 'geo'
