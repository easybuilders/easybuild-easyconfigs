name='FFC'
version='1.0.0'

easyblock="PythonPackage"

homepage='https://launchpad.net/ffc'
description="FEniCS Form Compiler (FFC) works as a compiler for multilinear forms by generating code (C++) for the evaluation of a multilinear form given in mathematical notation."


pythonversion = '2.7.3'
pythonshortversion = ".".join(pythonversion.split(".")[:-1])

#dummy toolkit, but we want to load dependencies, so empty version
toolkit={'name':'dummy','version':''}
toolkitsuffix = "-goalf-1.1.0-no-OFED"
pythonsuffix = "-Python-%s" % pythonversion
versionsuffix = "%s%s" % (toolkitsuffix, pythonsuffix)

#manually add toolkit suffix here, plus True for letting the dependency use it's own toolkit and not the dummy one
dependencies=[
                ('Python', pythonversion, toolkitsuffix, True),
                ('UFL', '1.0.0', versionsuffix, True),
                ('FIAT', '1.0.0', versionsuffix, True),
                ('UFC', '2.0.5', versionsuffix, True),
                ('Viper', '1.0.0', versionsuffix, True),
             ]

sources=['%s-%s.tar.gz'%(name.lower(),version)]
majorversion = "%s.x" % ".".join(version.split('.')[:-1])
sourceURLs=['https://launchpad.net/FFC/%s/%s/+download/' % (majorversion, version)]


sanityCheckPaths = {'files': ['bin/ffc'], 'dirs':['lib/python%s/site-packages/ffc' % pythonshortversion]}
