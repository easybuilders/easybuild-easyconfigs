easyblock = 'MesonNinja'

name = 'libsfdo'
version = '0.1.4'

homepage = 'https://gitlab.freedesktop.org/vyivel/libsfdo'
description = 'A collection of libraries which implement some of the freedesktop.org specifications.'

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://gitlab.freedesktop.org/vyivel/libsfdo/-/archive/v%(version)s/']
sources = [SOURCE_TAR_GZ]

builddependencies = [
    ('binutils', '2.44'),
    ('Meson', '1.8.2'),
    ('Ninja', '1.13.0'),
]

configopts = '--default-library=both'

sanity_check_paths = {
    'files': [f'lib/libsfdo-{x}.{SHLIB_EXT}' for x in ['basedir', 'desktop', 'desktop-file', 'icon']],
    'dirs': ['include'],
}

moduleclass = 'lib'
