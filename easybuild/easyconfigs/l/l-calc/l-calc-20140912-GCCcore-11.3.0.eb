easyblock = 'ConfigureMake'

name = 'l-calc'
version = '20140912'
local_commit = '4c57471'

homepage = 'https://github.com/agrawroh/l-calc'
description = "lcalc calculator with extra PARI functionality compiled in."""

toolchain = {'name': 'GCCcore', 'version': '11.3.0'}

source_urls = ['https://github.com/agrawroh/l-calc/archive']
sources = [{'download_filename': '%s.tar.gz' % local_commit, 'filename': SOURCE_TAR_GZ}]
checksums = ['635791318ea71b5e45effef0e923beaa327918609efb264fbe53018e9a825f29']

builddependencies = [('binutils', '2.38')]

skipsteps = ['configure']

start_dir = 'src'

buildopts = "CC=$CC INSTALL_DIR=%(installdir)s PARI_DIR=$EBROOTPARIMINGP MPFR_LIBRARIES=$EBROOTMPFR/lib "
buildopts += 'EXTRA="-fpermissive -Wno-error=narrowing" LDFLAGS="$LDFLAGS" '

dependencies = [
    ('MPFR', '4.1.0'),
    ('PARI-GP', '2.15.4'),
]

sanity_check_paths = {
    'files': ['include/lcalc/L.h'],
    'dirs': [],
}

moduleclass = 'math'
