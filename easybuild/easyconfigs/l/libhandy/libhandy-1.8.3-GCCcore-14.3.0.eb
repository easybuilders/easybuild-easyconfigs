# Author: Jasper Grimm (UoY)
easyblock = 'MesonNinja'

name = 'libhandy'
version = '1.8.3'

homepage = 'https://gnome.pages.gitlab.gnome.org/libhandy/'
description = "Building blocks for modern adaptive GNOME apps"

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://gitlab.gnome.org/GNOME/%(name)s/-/archive/%(version)s']
sources = [SOURCE_TAR_GZ]
checksums = ['7e7670f5d0a6d0adc24b888da44dab938a6f52472b8944d6dd4e31b6d3569a5f']

builddependencies = [
    ('binutils', '2.44'),
    ('Meson', '1.8.2'),
    ('Ninja', '1.13.0'),
    ('Vala', '0.56.18'),
]

dependencies = [
    ('GObject-Introspection', '1.84.0'),
    ('GTK3', '3.24.43'),
    ('FriBidi', '1.0.16'),
]

configopts = '-Dgtk_doc=false'

sanity_check_paths = {
    'files': ['bin/handy-1-demo', f'lib/{name}-1.{SHLIB_EXT}', 'lib/pkgconfig/libhandy-1.pc'],
    'dirs': ['include/libhandy-1'],
}

moduleclass = 'lib'
