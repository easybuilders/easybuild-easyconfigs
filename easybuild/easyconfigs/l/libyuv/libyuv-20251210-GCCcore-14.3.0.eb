easyblock = 'CMakeMake'

name = 'libyuv'
version = '20251210'
local_commit = 'deeb764bb92b6305ee0cb5dae7a5940fdb457fa9'

homepage = 'https://github.com/lemenkov/libyuv'
description = """libyuv is an open source project that includes YUV scaling
and conversion functionality."""

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://github.com/lemenkov/libyuv/archive/']
sources = [{
    "download_filename": "%s.tar.gz" % local_commit,
    "filename": SOURCE_TAR_GZ,
}]
checksums = ['7df75fde7415d5357b2e31479446579690a9fe0db67f905c0bd3d9a0d9a94479']

builddependencies = [
    ('binutils', '2.42'),
    ('CMake', '4.0.3'),
]
dependencies = [
    ('libjpeg-turbo', '3.1.1'),
]

sanity_check_paths = {
    'files': ['bin/yuvconvert', 'lib/%%(name)s.%s' % SHLIB_EXT,
              'lib/%(name)s.a', 'include/%(name)s.h'],
    'dirs': [],
}

moduleclass = 'tools'
