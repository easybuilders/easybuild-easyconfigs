##
# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
#
# Copyright:: Copyright 2012-2016 University of Luxembourg / LCSB, Cyprus Institute / CaSToRC,
#                                 Ghent University / The Francis Crick Institute
# Authors::
# * Ake Sandgren < ake@hpc2n.umu.se>
# License::   MIT/GPL
##

name = 'libgpuarray'
version = '0.7.5'

homepage = 'http://deeplearning.net/software/libgpuarray'
description = """
libgpuarray is a common GPU ndarray(n dimensions array) that can be
reused by all projects that is as future proof as possible, while
keeping it easy to use for simple need/quick test.
"""

toolchain = {'name': 'goolfc', 'version': '2018a'}
toolchainopts = {'pic': True}

source_urls = ['https://github.com/Theano/libgpuarray/archive/']
sources = ['v%(version)s.tar.gz']

builddependencies = [
    ('CMake', '3.10.0'),
]

dependencies = [
    ('Python', '3.6.4'),
]

sanity_check_paths = {
    'files':
	['lib/libgpuarray.%s' % SHLIB_EXT, 'lib/libgpuarray-static.a'] +
	['include/gpuarray/%s' % x for x in [
	    'abi_version.h', 'buffer_blas.h', 'collectives.h', 'error.h', 'kernel.h',
	    'array.h', 'buffer_collectives.h', 'config.h', 'ext_cuda.h', 'types.h',
	    'blas.h', 'buffer.h', 'elemwise.h', 'extension.h', 'util.h',
	]],
    'dirs': [],
}

moduleclass = 'math'
