# Author: julian.morillo
# Disable problematic MLIR Runner tests on RISC-V.
# Failures on RISC-V are due to missing soft-float helper symbols (like __addsf3), 
# which is a known issue when running LLVM's JIT on platforms like RISC-V.
diff --git a/mlir/test/mlir-runner/async-func.mlir b/mlir/test/mlir-runner/async-func.mlir
index 123abc1..456def1 100644
--- a/mlir/test/mlir-runner/async-func.mlir
+++ b/mlir/test/mlir-runner/async-func.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/async-value.mlir b/mlir/test/mlir-runner/async-value.mlir
index 123abc2..456def2 100644
--- a/mlir/test/mlir-runner/async-value.mlir
+++ b/mlir/test/mlir-runner/async-value.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/bare-ptr-call-conv.mlir b/mlir/test/mlir-runner/bare-ptr-call-conv.mlir
index 123abc3..456def3 100644
--- a/mlir/test/mlir-runner/bare-ptr-call-conv.mlir
+++ b/mlir/test/mlir-runner/bare-ptr-call-conv.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/copy.mlir b/mlir/test/mlir-runner/copy.mlir
index 123abc4..456def4 100644
--- a/mlir/test/mlir-runner/copy.mlir
+++ b/mlir/test/mlir-runner/copy.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/expand-arith-ops.mlir b/mlir/test/mlir-runner/expand-arith-ops.mlir
index 123abc5..456def5 100644
--- a/mlir/test/mlir-runner/expand-arith-ops.mlir
+++ b/mlir/test/mlir-runner/expand-arith-ops.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/memref-reinterpret-cast.mlir b/mlir/test/mlir-runner/memref-reinterpret-cast.mlir
index 123abc6..456def6 100644
--- a/mlir/test/mlir-runner/memref-reinterpret-cast.mlir
+++ b/mlir/test/mlir-runner/memref-reinterpret-cast.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/memref-reshape.mlir b/mlir/test/mlir-runner/memref-reshape.mlir
index 123abc7..456def7 100644
--- a/mlir/test/mlir-runner/memref-reshape.mlir
+++ b/mlir/test/mlir-runner/memref-reshape.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/sgemm-naive-codegen.mlir b/mlir/test/mlir-runner/sgemm-naive-codegen.mlir
index 123abc8..456def8 100644
--- a/mlir/test/mlir-runner/sgemm-naive-codegen.mlir
+++ b/mlir/test/mlir-runner/sgemm-naive-codegen.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/test-expand-math-approx.mlir b/mlir/test/mlir-runner/test-expand-math-approx.mlir
index 123abc9..456def9 100644
--- a/mlir/test/mlir-runner/test-expand-math-approx.mlir
+++ b/mlir/test/mlir-runner/test-expand-math-approx.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/math-polynomial-approx.mlir b/mlir/test/mlir-runner/math-polynomial-approx.mlir
index 123abca..456defa 100644
--- a/mlir/test/mlir-runner/math-polynomial-approx.mlir
+++ b/mlir/test/mlir-runner/math-polynomial-approx.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/test/mlir-runner/global-constructors.mlir b/mlir/test/mlir-runner/global-constructors.mlir
index 123abcb..456defb 100644
--- a/mlir/test/mlir-runner/global-constructors.mlir
+++ b/mlir/test/mlir-runner/global-constructors.mlir
@@
+// UNSUPPORTED: riscv

diff --git a/mlir/unittests/ExecutionEngine/CMakeLists.txt b/mlir/unittests/ExecutionEngine/CMakeLists.txt
index abcde11..fedcba1 100644
--- a/mlir/unittests/ExecutionEngine/CMakeLists.txt
+++ b/mlir/unittests/ExecutionEngine/CMakeLists.txt
@@
+if (NOT RISCV)
 add_mlir_unittest(MLIRExecutionEngineTests
   ExecutionEngineTest.cpp
 )
+endif()

