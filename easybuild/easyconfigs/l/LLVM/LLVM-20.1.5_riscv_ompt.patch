# Author: julian.morillo@bsc.es
# There is a known issue with these tests (see https://github.com/llvm/llvm-project/issues/35661)
# It looks that the behaviour is very architecture specific and it was somehow solved for aarch64
# but no mention to riscv64
diff -Naur openmp-ORIG/runtime/test/ompt/misc/control_tool.c openmp/runtime/test/ompt/misc/control_tool.c
--- openmp-ORIG/runtime/test/ompt/misc/control_tool.c	2025-07-17 16:24:39.288515833 +0200
+++ openmp/runtime/test/ompt/misc/control_tool.c	2025-07-17 16:29:14.684520437 +0200
@@ -1,6 +1,7 @@
 // RUN: %libomp-compile-and-run | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
+// UNSUPPORTED: riscv64
 #define TEST_NEED_PRINT_FRAME_FROM_OUTLINED_FN
 #include "callback.h"
 #include <omp.h>
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/barrier/explicit.c openmp/runtime/test/ompt/synchronization/barrier/explicit.c
--- openmp-ORIG/runtime/test/ompt/synchronization/barrier/explicit.c	2025-07-17 16:24:39.296515833 +0200
+++ openmp/runtime/test/ompt/synchronization/barrier/explicit.c	2025-07-17 16:29:57.448520407 +0200
@@ -1,6 +1,7 @@
 // RUN: %libomp-compile-and-run | %sort-threads | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <omp.h>
 
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/critical.c openmp/runtime/test/ompt/synchronization/critical.c
--- openmp-ORIG/runtime/test/ompt/synchronization/critical.c	2025-07-17 16:24:39.296515833 +0200
+++ openmp/runtime/test/ompt/synchronization/critical.c	2025-07-17 16:30:37.816519457 +0200
@@ -1,6 +1,7 @@
 // RUN: %libomp-compile-and-run | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <omp.h>
 
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/flush.c openmp/runtime/test/ompt/synchronization/flush.c
--- openmp-ORIG/runtime/test/ompt/synchronization/flush.c	2025-07-17 16:24:39.300515833 +0200
+++ openmp/runtime/test/ompt/synchronization/flush.c	2025-07-17 16:31:21.524519166 +0200
@@ -2,7 +2,7 @@
 // REQUIRES: ompt
 // GCC generates code that does not call the runtime for the flush construct
 // XFAIL: gcc
-
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <omp.h>
 
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/ordered.c openmp/runtime/test/ompt/synchronization/ordered.c
--- openmp-ORIG/runtime/test/ompt/synchronization/ordered.c	2025-07-17 16:24:39.300515833 +0200
+++ openmp/runtime/test/ompt/synchronization/ordered.c	2025-07-17 16:31:54.876519156 +0200
@@ -1,6 +1,7 @@
 // RUN: %libomp-compile-and-run | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <omp.h>
 
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/taskgroup.c openmp/runtime/test/ompt/synchronization/taskgroup.c
--- openmp-ORIG/runtime/test/ompt/synchronization/taskgroup.c	2025-07-17 16:24:39.304515833 +0200
+++ openmp/runtime/test/ompt/synchronization/taskgroup.c	2025-07-17 16:32:31.100519272 +0200
@@ -1,7 +1,7 @@
 // RUN:  %libomp-compile-and-run | %sort-threads | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
-
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <unistd.h>  
 #include <stdio.h>
diff -Naur openmp-ORIG/runtime/test/ompt/synchronization/taskwait.c openmp/runtime/test/ompt/synchronization/taskwait.c
--- openmp-ORIG/runtime/test/ompt/synchronization/taskwait.c	2025-07-17 16:24:39.304515833 +0200
+++ openmp/runtime/test/ompt/synchronization/taskwait.c	2025-07-17 16:33:05.636519056 +0200
@@ -1,6 +1,7 @@
 // RUN: %libomp-compile-and-run | %sort-threads | FileCheck %s
 // REQUIRES: ompt
 // UNSUPPORTED: gcc-4, gcc-5, gcc-6, gcc-7
+// UNSUPPORTED: riscv64
 #include "callback.h"
 #include <omp.h>
 
