easyblock = 'ConfigureMake'

name = 'libs3'
version = '4.1-g287e4be'

homepage = 'https://github.com/bji/libs3'
description = """This package includes the libs3 shared object library, needed to run
                 applications compiled against libs3, and additionally contains the s3
                 utility for accessing Amazon S3."""

toolchain = {'name': 'GCCcore', 'version': '13.2.0'}

source_urls = ['https://github.com/bji/libs3/tarball/master']
sources = ['%(name)s-%(version)s.tar.gz']
checksums = ['6a990add78c1cf8b8879424876557fe6736ac7e2ba2a4396d25702e3beaac07e']

builddependencies = [
    ('binutils', '2.40'),
]

dependencies = [
    ('libxml2', '2.11.5'),
    ('cURL', '8.3.0'),
]

skipsteps = ['configure']

preinstallopts = 'DESTDIR=%(installdir)s '

sanity_check_paths = {
    'files': ['bin/s3', 'include/libs3.h', 'lib/libs3.a', 'lib/libs3.%s' % SHLIB_EXT],
    'dirs': ['bin', 'include', 'lib']
}

moduleclass = 'data'
