easyblock = 'CMakeMake'

name = 'libFTDI'
version = '1.2'
versionsuffix = '-Python-2.7.11'

homepage = 'https://www.intra2net.com/en/developer/libftdi'
description = "libFTDI is an open source library to talk to FTDI chips"

toolchain = {'name': 'intel', 'version': '2016a'}

source_urls = ['https://www.intra2net.com/en/developer/libftdi/download/']
sources = ['%(namelower)s%(version_major)s-%(version)s.tar.bz2']

builddependencies = [
    ('CMake', '3.5.2'),
    ('Doxygen', '1.8.11'),
]
dependencies = [
    ('Boost', '1.60.0', versionsuffix),
    ('libusb', '1.0.9'),
]

# avoid that Boost.cmake from OS is picked up...
configopts = "-DBoost_NO_BOOST_CMAKE=ON"

sanity_check_paths = {
    'files': ['bin/libftdi1-config', ('lib/libftdi1.a', 'lib64/libftdi1.a'),
              ('lib/libftdipp1.a', 'lib64/libftdipp1.a'),
              ('lib/libftdi1.%s' % SHLIB_EXT, 'lib64/libftdi1.%s' % SHLIB_EXT),
              ('lib/libftdipp1.%s' % SHLIB_EXT, 'lib64/libftdipp1.%s' % SHLIB_EXT)],
    'dirs': ['include/libftdi1', ('lib/cmake', 'lib64/cmake'), ('lib/pkgconfig', 'lib64/pkgconfig')],
}

moduleclass = 'lib'
