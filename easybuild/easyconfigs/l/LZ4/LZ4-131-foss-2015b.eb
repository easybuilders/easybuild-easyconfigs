easyblock = 'MakeCp'

name = 'LZ4'
version = '131'

homepage = 'https://github.com/Cyan4973/lz4'
description = """Extremely fast lossless compression algorithm."""

toolchain = {'name': 'foss', 'version': '2015b'}
toolchainopts = {}  # toolchain options, e.g. opt, pic, usempi, optarch, ...

# For sources line to work correctly with --try-software-version, you MUST employ %s OR use a construct like SOURCE_TAR_GZ
sources = ['r%(version)s.tar.gz']
source_urls = ['https://github.com/Cyan4973/%(namelower)s/archive']

patches = []

dependencies = []

# make sure compilation flags are passed down (e.g. to enable OpenMP)
buildopts = ' CC="$CXX" CCFLAGS="$CPPFLAGS $CXXFLAGS"'

files_to_copy = [
  (['programs/lz4'], 'bin'),
  (['lib', 'examples'], ''),
]

# The sanity test MUST be tuned before going production and submitting your contribution to upstream git repositories
sanity_check_paths = {
    'files': ['bin/lz4'],
    'dirs': ['lib']
}

moduleclass = 'tools'
