# This file is an EasyBuild reciPY as per https://easybuilders.github.io/easybuild/
# Author: Pablo Escobar Lopez
# sciCORE - University of Basel
# SIB Swiss Institute of Bioinformatics 

easyblock = 'MakeCp'

name = 'LSD'
version = '20171013'  # date of the git commit
git_commit = '55183ca'
versionsuffix = '-%s-beta' % git_commit

homepage = 'http://www.atgc-montpellier.fr/LSD/'
description = """LSD: LEAST-SQUARES METHODS TO ESTIMATE RATES AND DATES FROM SERIAL PHYLOGENIES"""
 
toolchain = {'name': 'goolf', 'version': '1.7.20'}

source_urls = ['https://github.com/tothuhien/lsd-0.3beta/archive/']
sources = ['%s.tar.gz' % git_commit]
checksums = ['ffd1bc3facdd4aaf9f700e10a28ab308cfd12b636552189251c2b6ea6bbe9a79']

start_dir = 'src'

# we delete the provided binaries
prebuildopts = 'rm -fr %(builddir)s/*/bin/ && '
buildopts = ' CC=${CXX}'

files_to_copy = [
    (['src/lsd'], 'bin'),
     'examples',
     'NEWS',
     'README.md',
]

sanity_check_paths = {
    'files': ['bin/lsd'],
    'dirs': [],
}

moduleclass = 'bio'
