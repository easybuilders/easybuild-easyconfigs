easyblock = 'ConfigureMake'

name = 'LibUUID1'
version = '2.32.1'

homepage = 'http://www.kernel.org/pub/linux/utils/util-linux'

description = "Set of Linux utilities, only compiling libuuid"

toolchain = {'name': 'GCCcore', 'version': '7.3.0'}
toolchainopts = {'pic': True}

source_urls = ['%s/v%%(version_major_minor)s' % homepage]
sources = ['util-linux-%(version)s.tar.gz']
checksums = ['3bbf9f3d4a33d6653cf0f7e4fc422091b6a38c3b1195c0ee716c67148a1a7122']

configopts = "--disable-all-programs --enable-libuuid --disable-libsmartcols --disable-libfdisk "
# disable building Python bindings (since we don't include Python as a dep)
configopts += "--without-python "

builddependencies = [
    ('binutils', '2.30'),
]

sanity_check_paths = {
    'files': ['lib/libuuid.a'],
    'dirs': [''],
}

moduleclass = 'lib'
