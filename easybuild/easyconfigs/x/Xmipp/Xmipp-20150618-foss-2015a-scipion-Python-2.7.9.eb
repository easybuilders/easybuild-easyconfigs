name = 'Xmipp'
version = '20150618'

homepage = 'http://xmipp.cnb.csic.es/'
description = "Xmipp is a suite of image processing programs, primarily aimed at single-particle 3D electron microscopy."

toolchain = {'name': 'foss', 'version': '2015a'}

source_urls = ['https://github.com/biocompwebs/scipion/archive/']
sources = ['c449eca.tar.gz']

# only extract software/em/xmipp subdirectory
unpack_options = '--strip-components=4 scipion-c449eca40b6a6ff70070084db072fb03cea91b2c/software/em/xmipp #'

patches = [
    'Xmipp-20150616_SIZEOF_INT.patch',
    'Xmipp_install-script.patch',
]

pyver = '2.7.9'
versionsuffix = '-scipion-Python-%s' % pyver

dependencies = [
    ('Java', '1.8.0_40', '', True),
    ('Python', pyver),  # should have a working sqlite, and provide numpy/mpi4py
    ('LibTIFF', '4.0.4beta'),
    ('HDF5', '1.8.14'),
    ('libjpeg-turbo', '1.4.0'),
    ('FFTW', '3.3.4'),
    ('SQLite', '3.8.8.1'),  # must match SQLite used by Python
    ('matplotlib', '1.4.3', '-Python-%s' % pyver),
]

moduleclass = 'vis'
