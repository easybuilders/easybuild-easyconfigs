# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Bundle'

name = 'rmweather'
version = '0.1.51'
versionsuffix = '-R-%(rver)s'

homepage = "https://cran.r-project.org/package=rmweather"
description = """An integrated set of tools to allow data users to conduct meteorological normalisation on air quality
 data. This meteorological normalisation technique uses predictive random forest models to remove variation of
 pollutant concentrations so trends and interventions can be explored in a robust way. For examples, see Grange et al.
 (2018) <doi:10.5194/acp-18-6223-2018> and Grange and Carslaw (2019) <doi:10.1016/j.scitotenv.2018.10.344>."""

toolchain = {'name': 'foss', 'version': '2021a'}

dependencies = [
    ('R', '4.1.0'),
]

exts_defaultclass = 'RPackage'
exts_filter = ("R -q --no-save", "library(%(ext_name)s)")
exts_default_options = {
    'source_urls': [
        'https://cran.r-project.org/src/contrib/Archive/%(name)s',  # package archive
        'https://cran.r-project.org/src/contrib/',  # current version of packages
        'https://cran.freestatistics.org/src/contrib',  # mirror alternative for current packages
    ],
    'source_tmpl': '%(name)s_%(version)s.tar.gz',
}


# Order is important!
exts_list = [
    ('mapproj', '1.2.8', {
        'checksums': ['865f108f1ee54cda38571b86cd46063a903824d9b4eabfdf75218023d08a7781'],
    }),
    ('openair', '2.8-6', {
        'checksums': ['37ffd9d6c5f5cebcd95720c6599f25f2e6c4fd3f6134f6aec026cb671ea373c0'],
    }),
    ('pdp', '0.7.0', {
        'checksums': ['28d69eb63b92bdf8e974b3222e1e9565000d7f15a3bd90854a8e0446b0fa9a71'],
    }),
    (name, version, {
        'checksums': ['0dbf65f833dc6e17ca85bda7c5dc3d8577ac82000b91f1784b834111324da461'],
    }),
]

modextrapaths = {'R_LIBS': ''}

sanity_check_paths = {
    'files': ['rmweather/R/rmweather'],
    'dirs': [],
}

moduleclass = 'geo'
