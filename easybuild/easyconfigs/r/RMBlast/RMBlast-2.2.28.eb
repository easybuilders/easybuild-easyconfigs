# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# Author: Pablo Escobar Lopez
# sciCORE - University of Basel
# SIB Swiss Institute of Bioinformatics 

easyblock = 'Binary'

name = 'RMBlast'
version = '2.2.28'

homepage = 'http://www.repeatmasker.org/RMBlast.html'
description = """a RepeatMasker compatible version of NCBI BLAST"""

toolchain = {'name': 'dummy', 'version': ''}

source_urls = [
    'ftp://ftp.ncbi.nlm.nih.gov/blast/executables/rmblast/%(version)s/',
    'ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/%(version)s/']
sources = [
    'ncbi-rmblastn-%(version)s-x64-linux.tar.gz',
    'ncbi-blast-%(version)s+-x64-linux.tar.gz']
checksums = [
    'e6503ad25a6760d2d2931f17efec80ba879877b4042a1d10a60820ec21a61cfe',  # ncbi-rmblastn-2.2.28-x64-linux.tar.gz
    '816f5d30eddb0ab9337cee949a7a9f767fb1fb6396f987a9bf0a611614744bb9',  # ncbi-blast-2.2.28+-x64-linux.tar.gz
]

install_cmd = "tar xf %s --strip-components=1 --directory %%(installdir)s && " % sources[0]
install_cmd += "tar xf %s --strip-components=1 --directory %%(installdir)s " % sources[1]

sanity_check_paths = {
    'files': ["bin/rmblastn", "bin/blastx", "bin/makeblastdb"],
    'dirs': []
}

moduleclass = 'bio'
