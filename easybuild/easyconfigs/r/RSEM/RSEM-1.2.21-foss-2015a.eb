name = "RSEM"
version = "1.2.21"

homepage = 'http://deweylab.biostat.wisc.edu/rsem/'
description = """Estimates gene and isoform expression levels from RNA-Seq data"""

easyblock = 'MakeCp'
toolchain = {'name': 'foss', 'version': '2015a'}

sources = ['rsem-%(version)s.tar.gz']
source_urls = ['http://deweylab.biostat.wisc.edu/rsem/src/']

patches = ['rsem-1.2.11-eblibs.patch']

buildopts = 'all ebseq'

dependencies = [
    ('zlib', '1.2.8'),
    ('ncurses', '5.9'),
    ('R', '3.2.0'),
    ('Bowtie2', '2.2.0'),
]

systemdependencies = ["perl"]

# The sanity test MUST be tuned before going production and submitting your contribution to upstream git repositories
sanity_check_paths = {
    'files': [],
    'dirs': ["."]
}

files_to_copy = [
    (['rsem-*', '*.pm'], 'bin'),
    (['EBSeq/EBSeq', 'EBSeq/blockmodeling', 'EBSeq/rsem-*', ], 'bin/EBSeq'),	
    (['sam/samtools'], 'bin/sam'),
]

# You SHOULD change the following line; Kindly consult other easyconfigs for possible options
moduleclass = 'bio'
