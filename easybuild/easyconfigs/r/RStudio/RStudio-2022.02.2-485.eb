# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Tarball'

name = 'RStudio'
version = '2022.02.2-485'

homepage = "https://www.rstudio.com/"
description = """RStudio is a set of integrated tools designed to help you be more productive with R."""

toolchain = SYSTEM

source_urls = ['https://download1.rstudio.org/desktop/rhel8/x86_64/']
sources = [{'filename': '%(namelower)s-%(version)s-x86_64.rpm', 'extract_cmd': 'rpm2cpio %s | cpio -idmv'}]
checksums = ['ad00e2c52451d6d46a7dd66bc82175aaf349c16e5d50331da7cf57b3400ad256']

dependencies = [('alsa-lib', '1.2.6')]

modextrapaths = {'PATH': 'lib/rstudio/bin'}
modextravars = {'QMLSCENE_DEVICE': 'softwarecontext'}  # enforce software rendering
modloadmsg = """\n\nRStudio requires R, but loading this RStudio module does not load R to allow you to select an R to
load. Please see https://bear-apps.bham.ac.uk/applications/R/ for the available R versions.\n\n"""

sanity_check_paths = {
    'files': ['lib/rstudio/bin/rstudio'],
    'dirs': [],
}

moduleclass = 'lang'
