name = 'ROSE'
version = '0.9.5a'

homepage = 'http://rosecompiler.org/'
description = """A compiler infrastructure to build source-to-source program transformation and analysis tools."""

toolchain = {'name': 'dummy', 'version': ''}  # empty version to make sure dependencies are loaded

# available in https://github.com/TACC/perfexpert/archive/externals-v1.0.tar.gz
sources = ['%(namelower)s-%(version)s-without-EDG-20584.tar.gz']
checksums = ['eb3063a32c981084b738c71e142a89b2']

dependencies = [
    ('Java', '1.7.0_45', '', True),
    ('Boost', '1.47.0', '', True),
]

configure_cmd_prefix = "mkdir obj && cd obj && ."  # the '.' is required to trigger '&& ../configure ...'

configopts = "--with-java=$EBROOTJAVA/bin/javac --with-boost=$EBROOTBOOST "
configopts += "--with-gomp_omp_runtime_library=$EBROOTGCC/lib64 "
configopts += "--disable-tutorial-directory --disable-projects-directory --disable-tests-directory "
configopts += "--disable-opencl --disable-php --disable-cuda --disable-binary-analysis --disable-java "

premakeopts = "cd obj && "
preinstallopts = premakeopts

moduleclass = 'tools'
