# Updated to version 2.3.1
# Author: J. SaÃŸmannshausen (Imperial College London/UK)

easyblock = 'Tarball'

name = 'rnaQUAST'
version = '2.3.1'

homepage = 'https://cab.spbu.ru/software/rnaquast/'
description = """rnaQUAST is a tool for evaluating RNA-Seq assemblies
using reference genome and gene database.
In addition, rnaQUAST is also capable of estimating gene database
coverage by raw reads and de novo quality assessment using third-party
software."""

toolchain = {'name': 'foss', 'version': '2025a'}

github_account = 'ablab'
source_urls = [GITHUB_SOURCE]
sources = ['v%(version)s.tar.gz']
checksums = ['ba0bf21f981c29228a189937edbb99975bd54e6dafeeda1fac431c743362ba5a']

builddependencies = [
    ('hatchling', '1.27.0'),
]

dependencies = [
    ('Python', '3.13.1'),
    ('GMAP-GSNAP', '2025-07-31'),
    ('Biopython', '1.85'),
    ('matplotlib', '3.10.3'),
    ('BLAST+', '2.17.0'),
]

postinstallcmds = [
    'chmod -x %(installdir)s/VERSION'
]

exts_defaultclass = 'PythonPackage'
exts_default_options = {
    'source_urls': [PYPI_SOURCE],
}

exts_list = [
    ('joblib', '1.5.2', {
        'checksums': ['3faa5c39054b2f03ca547da9b2f52fde67c06240c31853f306aea97f13647b55'],
    }),
    ('simplejson', '3.20.2', {
        'checksums': ['5fe7a6ce14d1c300d80d08695b7f7e633de6cd72c80644021874d985b3393649'],
    }),
    ('argh', '0.31.3', {
        'checksums': ['f30023d8be14ca5ee6b1b3eeab829151d7bbda464ae07dc4dd5347919c5892f9'],
    }),
    ('argcomplete', '3.6.2', {
        'checksums': ['d0519b1bc867f5f4f4713c41ad0aba73a4a5f007449716b16f385f2166dc6adf'],
    }),
    ('pyfaidx', '0.9.0.3', {
        'checksums': ['648b4b28d98dcb06f9a62d88a956ebb998297f4bd2f04e05609d935a2c314a79'],
    }),
    ('gffutils', '0.13', {
        'checksums': ['b0d52f35c014cc0330fb5c4e3c6fea127c90ccf4c5384a825cdb5c8ff330d4eb'],
    }),
]

modextrapaths = {
    'PATH': '',
}

sanity_check_paths = {
    'files': ['rnaQUAST.py'],
    'dirs': ['lib/python%(pyshortver)s/site-packages']
}

sanity_check_commands = ['rnaQUAST.py -h &> /dev/null']

moduleclass = 'bio'
