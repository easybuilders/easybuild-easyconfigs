# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# sciCORE - University of Basel
# SIB Swiss Institute of Bioinformatics 

easyblock = 'ConfigureMake'

name = 'Raster3D'
version = '3.0-2'

homepage = 'http://skuld.bmsc.washington.edu/raster3d/'
description = """ Raster3D is a set of tools for generating high quality raster images 
 of proteins or other molecules. The core program renders spheres, triangles, cylinders, 
 and quadric surfaces with specular highlighting, Phong shading, and shadowing. It uses an 
 efficient software Z-buffer algorithm which is independent of any graphics hardware. 
 Ancillary programs process atomic coordinates from PDB files into rendering descriptions for 
 pictures composed of ribbons, space-filling atoms, bonds, ball+stick, etc. Raster3D can also 
 be used to render pictures composed in other programs such as Molscript in glorious 3D with highlights, 
 shadowing, etc. Output is to pixel image files with 24 bits of color information per pixel.  """ 

toolchain = {'name': 'goolf', 'version': '1.7.20'}

source_urls = [homepage]
sources = ['%(name)s_%(version)s.tar.gz']

skipsteps = ['configure']
buildopts = ' linux && make all'
installopts = 'prefix=%(installdir)s'

dependencies = [ 
    ('libjpeg-turbo', '1.4.1'),
    ('libpng', '1.6.17'),
    ('LibTIFF', '4.0.3'),
]

# this are RHEL/CentOS package names
# in case you prefer to rely in OS dependencies
#osdependencies = [('libjpeg-turbo-devel', 'libpng-devel', 'libtiff-devel')]

modextrapaths = {'R3D_LIB': 'share/Raster3D/materials'}

sanity_check_paths = {
    'files': ['bin/%s' % x for x in ["avs2ps", "balls", "normal3d", "rastep", "render",
              "ribbon", "rings3d", "rods", "stereo3d", "worms" ]],
    'dirs': []
}

moduleclass = 'bio'
