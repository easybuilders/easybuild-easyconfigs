easyblock = 'PackedBinary'

name = 'Panoply'
version = '5.8.1'

homepage = 'https://www.giss.nasa.gov/tools/panoply'
description = "Panoply plots geo-referenced and other arrays from netCDF, HDF, GRIB, and other datasets."

toolchain = SYSTEM

source_urls = ['https://www.giss.nasa.gov/tools/panoply/download/']
sources = ['%(name)sJ-%(version)s.tgz']
checksums = ['a5d9491abe33c078813fd06e8c02cd3c17bd9bd508c0d40b80e511a26c659e35']

dependencies = [
    ('Java', '21'),
]

postinstallcmds = [
    'mkdir %(installdir)s/bin',
    'mv %(installdir)s/panoply.sh %(installdir)s/bin',
    'sed -i "s,jars,../jars,g" %(installdir)s/bin/panoply.sh',
    'ln -s %(installdir)s/bin/panoply.sh %(installdir)s/bin/panoply',
]

sanity_check_paths = {
    'files': ['bin/panoply'],
    'dirs': ['jars']
}

moduleclass = 'vis'
