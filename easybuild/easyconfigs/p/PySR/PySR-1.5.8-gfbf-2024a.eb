# Template for a python bundle using SciPy-bundle on 2023a
# Author: J. Sa√ümannshausen (Imperial College London/UK)

easyblock = 'PythonBundle'

name = 'PySR'
version = '1.5.8'

homepage = 'https://github.com/MilesCranmer/PySR'
description = """
PySR is an open-source tool for Symbolic Regression: a machine learning task
where the goal is to find an interpretable symbolic expression that optimizes
some objective.
"""

citing = """
If you find PySR useful, please cite the paper
https://arxiv.org/abs/2305.01582
"""

toolchain = {'name': 'gfbf', 'version': '2024a'}

dependencies = [
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('sympy', '1.13.3'),
    ('scikit-learn', '1.5.2'),
    ('Python-bundle-PyPI', '2024.06'),
    ('typing-extensions', '4.11.0'),
    ('matplotlib', '3.9.2'),
    ('IPython', '8.28.0'),
    ('jupyter-server', '2.14.2'),
    ('hatchling', '1.24.2'),
    ('pytest', '8.3.3'),
    ('Julia', '1.11.3', '-linux-x86_64', SYSTEM),
    ('coverage', '7.9.2'),
]

exts_list = [
    ('nbval', '0.11.0', {
        'checksums': ['77c95797607b0a968babd2597ee3494102d25c3ad37435debbdac0e46e379094'],
    }),
    ('semver', '3.0.4', {
        'checksums': ['afc7d8c584a5ed0a11033af086e8af226a9c0b206f313e0301f8dd7b6b589602'],
    }),
    ('juliapkg', '0.1.15', {
        'checksums': ['a36096fed2ddfe6fbd1af9bfd1b182136d84a660d0c4187539194229fb383720'],
    }),
    ('juliacall', '0.9.24', {
        'checksums': ['31bed223489b535e4e8db46bfff4596350c24f757b9c2d17296c07397f75948b'],
    }),
    ('pysr', version, {
        'checksums': ['3b1a90fcb11e93287afdb6b040526d834bf173c8b8465ef7a6ed8d327dac78f1'],
    }),
]

# Not sure if that is the best way of doing it, as it is installing quite some stuff
# in the ~/.julia folder. That command was taken from the Apptainer.def file
sanity_check_commands = ['python -m pysr test main,cli,startup']

moduleclass = 'ai'
