easyblock = 'Tarball'

name = 'pypy'
version = '7.3.5'
versionsuffix = '-x86-64'

local_pyver = 'python3.7'
local_pyshortver = '3.7'

homepage = 'pypy.org'
description = """PyPy is a replacement for CPython. It is built using the RPython language that was co-developed with it. The main reason to use it instead of CPython is speed: it runs generally faster"""

toolchain = SYSTEM

source_urls = ['https://downloads.python.org/pypy']
sources = ['%(name)s3.7-v%(version)s-linux64.tar.bz2']
checksums = ['9000db3e87b54638e55177e68cbeb30a30fe5d17b6be48a9eb43d65b3ebcfc26']

postinstallcmds = [
    "%(installdir)s/bin/pypy -m ensurepip --upgrade",
    "%(installdir)s/bin/pypy -m pip install --upgrade pip",
]

sanity_check_paths = {
    'files': ['bin/pypy3'],
    'dirs': ['bin', 'include', 'lib_pypy'],
}

sanity_check_commands = ["pypy --version"]


