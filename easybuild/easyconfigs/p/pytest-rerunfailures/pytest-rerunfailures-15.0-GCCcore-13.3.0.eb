easyblock = 'PythonPackage'

name = 'pytest-rerunfailures'
version = '15.0'

homepage = 'https://github.com/pytest-dev/pytest-rerunfailures'
description = "pytest plugin to re-run tests to eliminate flaky failures."

toolchain = {'name': 'GCCcore', 'version': '13.3.0'}

builddependencies = [
    ('binutils', '2.42'),
]
dependencies = [
    ('Python', '3.12.3'),
    ('Python-bundle-PyPI', '2024.06'),
]

# 8.2.2 is allowed with https://github.com/easybuilders/easybuild-easyconfigs/pull/22602
preinstallopts = "sed -i 's|pytest!=8.2.2,|pytest|' pyproject.toml && "

sources = [SOURCE_TAR_GZ]
checksums = ['2d9ac7baf59f4c13ac730b47f6fa80e755d1ba0581da45ce30b72fb3542b4474']

moduleclass = 'tools'
