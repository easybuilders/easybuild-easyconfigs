easyblock = 'PythonBundle'

name = 'Parsl'
version = '2025.7.7'

homepage = 'https://parsl-project.org/'
description = """
Parsl extends parallelism in Python beyond a single computer.
You can use Parsl just like Python's parallel executors but across multiple
cores and nodes. However, the real power of Parsl is in expressing multi-step
workflows of functions. Parsl lets you chain functions together and will launch
each function as inputs and computing resources are available.
"""

toolchain = {'name': 'GCCcore', 'version': '13.3.0'}

builddependencies = [
    ('binutils', '2.42'),
    ('hatchling', '1.24.2'),
]

dependencies = [
    ('Python', '3.12.3'),
    ('PyZMQ', '26.2.0'),
    ('dill', '0.3.9'),
    ('typing-extensions', '4.11.0'),
    ('paramiko', '3.5.1'),
    ('setuptools', '80.9.0'),
]

exts_list = [
    ('types-paramiko', '3.5.0.20250708', {
        'modulename': False,
        'source_tmpl': 'types_paramiko-%(version)s.tar.gz',
        'checksums': ['45125bff40766db2d7d53bd1a4f329868293e512f2e6b7fe11c335111df027f2'],
    }),
    ('types-urllib3', '1.26.25.14', {
        'modulename': False,
        'checksums': ['229b7f577c951b8c1b92c1bc2b2fdb0b49847bd2af6d1cc2a2e3dd340f3bda8f'],
    }),
    ('typeguard', '4.4.2', {
        'checksums': ['a6f1065813e32ef365bc3b3f503af8a96f9dd4e0033a02c28c4a4983de8c6c49'],
    }),
    ('PyJWT', '2.10.1', {
        'modulename': 'jwt',
        'source_tmpl': 'pyjwt-%(version)s.tar.gz',
        'checksums': ['3cc5772eb20009233caf06e9d8a0577824723b44e6648ee0a2aedb6cf9381953'],
    }),
    ('globus-sdk', '3.60.0', {
        'source_tmpl': 'globus_sdk-%(version)s.tar.gz',
        'checksums': ['9047af9980dd40c878d9d88a8954f6f59dc75ed55a93722c101b0e7f9359740d'],
    }),
    ('tblib', '3.1.0', {
        'checksums': ['06404c2c9f07f66fee2d7d6ad43accc46f9c3361714d9b8426e7f47e595cd652'],
    }),
    ('setproctitle', '1.3.6', {
        'checksums': ['c9f32b96c700bb384f33f7cf07954bb609d35dd82752cef57fb2ee0968409169'],
    }),
    ('filelock', '3.18.0', {
        'checksums': ['adbc88eabb99d2fec8c9c1b229b171f18afa655400173ddc653d5d01501fb9f2'],
    }),
    ('parsl', version, {
        'checksums': ['74b2a3281ca8c3457bd06f9646be9e22952cafacfd7ee7a3e322e79a0987eecd'],
    }),
]

sanity_check_paths = {
    'files': ['bin/parsl-perf'],
    'dirs': ['lib/python%(pyshortver)s/site-packages/'],
}

sanity_check_commands = ['parsl-perf --help']

moduleclass = 'tools'
