easyblock = 'PythonBundle'

name = 'Parsl'
version = '2024.4.8'

homepage = 'https://parsl-project.org/'
description = """
Parsl extends parallelism in Python beyond a single computer.
You can use Parsl just like Python's parallel executors but across multiple
cores and nodes. However, the real power of Parsl is in expressing multi-step
workflows of functions. Parsl lets you chain functions together and will launch
each function as inputs and computing resources are available.
"""

toolchain = {'name': 'GCCcore', 'version': '12.3.0'}

builddependencies = [
    ('binutils', '2.40'),
]

dependencies = [
    ('Python', '3.11.3'),
    ('PyZMQ', '25.1.1'),
    ('dill', '0.3.7'),
    ('paramiko', '3.2.0'),
]

use_pip = True

exts_list = [
    ('types-paramiko', '3.4.0.20240423', {
        'modulename': False,
        'checksums': ['aaa98dda232c47886563d66743d3a8b66c432790c596bc3bdd3f17f91be2a8c1'],
    }),
    ('types-urllib3', '1.26.25.14', {
        'modulename': False,
        'checksums': ['229b7f577c951b8c1b92c1bc2b2fdb0b49847bd2af6d1cc2a2e3dd340f3bda8f'],
    }),
    ('types-requests', '2.31.0.6', {
        'modulename': False,
        'checksums': ['cd74ce3b53c461f1228a9b783929ac73a666658f223e28ed29753771477b3bd0'],
    }),
    ('types-six', '1.16.21.20240513', {
        'modulename': False,
        'checksums': ['cdf445b5161bf17753500713a475ab79a45bd0d87728b8bfcecd86e2fbf66402'],
    }),
    ('typeguard', '2.13.3', {
        'checksums': ['00edaa8da3a133674796cf5ea87d9f4b4c367d77476e185e80251cc13dfbb8c4'],
    }),
    ('PyJWT', '2.8.0', {
        'modulename': 'jwt',
        'checksums': ['57e28d156e3d5c10088e0c68abb90bfac3df82b40a71bd0daa20c65ccd5c23de'],
    }),
    ('globus-sdk', '3.42.0', {
        'source_tmpl': 'globus_sdk-%(version)s.tar.gz',
        'checksums': ['7f239acf26cd98c72568b07cc69d7e8d84511004881435c83129bf37c9495f43'],
    }),
    ('tblib', '3.0.0', {
        'checksums': ['93622790a0a29e04f0346458face1e144dc4d32f493714c6c3dff82a4adb77e6'],
    }),
    ('setproctitle', '1.3.3', {
        'checksums': ['c913e151e7ea01567837ff037a23ca8740192880198b7fbb90b16d181607caae'],
    }),
    ('parsl', version, {
        'checksums': ['a181d581b97d54e94459c226fae878e7843d9e989d2561955c883e40bc88c1fd'],
    }),
]

sanity_pip_check = True

sanity_check_paths = {
    'files': ['bin/parsl-perf'],
    'dirs': ['lib/python%(pyshortver)s/site-packages/'],
}

sanity_check_commands = ['parsl-perf --help']

moduleclass = 'tools'
