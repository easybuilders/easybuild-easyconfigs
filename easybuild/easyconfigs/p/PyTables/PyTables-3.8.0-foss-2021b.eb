# J. Sassmannshausen (Imperial College London/UK)

easyblock = 'PythonBundle'

name = 'PyTables'
version = '3.8.0'

homepage = 'https://github.com/PyTables/PyTables'
description = """PyTables is a package for managing hierarchical datasets 
and designed to efficiently cope with extremely large amounts of data."""

toolchain = {'name': 'foss', 'version': '2021b'}
toolchainopts = {'pic': True}

builddependencies = [
    ('CMake', '3.22.1'),
    ('Ninja', '1.10.2'),
    ('pkgconf', '1.8.0'),
]

dependencies = [
    ('Python', '3.9.6'),
    ('h5py', '3.6.0'),
    ('scikit-build', '0.11.1'),
    ('SciPy-bundle', '2021.10'),
    ('HDF5', '1.12.1'),
    ('LZO', '2.10'),
    ('Blosc', '1.21.1'),
    ('py-cpuinfo', '9.0.0'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('markdown-it-py', '2.2.0', {
        'modulename': 'markdown_it',
        'checksums': ['7c9a5e412688bc771c67432cbfebcdd686c93ce6484913dccf06cb5a0bea35a1'],
    }),
    ('mdurl', '0.1.2', {
        'checksums': ['bb413d29f5eea38f31dd4754dd7377d4465116fb207585f97bf925588687c1ba'],
    }),
    ('Pygments', '2.14.0', {
        'checksums': ['b3ed06a9e8ac9a9aae5a6f5dbe78a8a58655d17b43b93c078f094ddc476ae297'],
    }),
    ('ndindex', '1.6', {
        'checksums': ['752e5a05c39883824316fdd7f7b650f6860eb71cecb9f15d811be2d879bebf02'],
    }),
    ('rich', '13.3.2', {
        'checksums': ['91954fe80cfb7985727a467ca98a7618e5dd15178cc2da10f553b36a93859001'],
    }),
    ('blosc2', '2.0.0', {
        'patches': ['py-%(name)s-%(version)s-numpylib.patch'],
        'checksums': [
            {'blosc2-2.0.0.tar.gz': 'f19b0b3674f6c825b490f00d8264b0c540c2cdc11ec7e81178d38b83c57790a1'},
            {'py-blosc2-2.0.0-numpylib.patch': '13b90b7eb72fea74f6eb660b52c48177b4db39d10b5090d7086c5cdef30b057e'},
        ],
    }),
    (name, version, {
        'modulename': 'tables',
        'patches': ['%(name)s-%(version)s-fix-libs.patch'],
        'source_urls': ['https://github.com/PyTables/PyTables/archive/'],
        'sources': ['v%(version)s.tar.gz'],
        'checksums': [
            {'v3.8.0.tar.gz': '652b56b3d355797af4337a4493acfa4c4de4a60e7c6663cc6ce44d8ee477e920'},
            {'PyTables-3.8.0-fix-libs.patch': '022c26960b8401f3693974f57be49832b72ee1f3a0a92f8e0dd9281c7c0e2c8c'},
        ],
    }),
]

moduleclass = 'lib'
