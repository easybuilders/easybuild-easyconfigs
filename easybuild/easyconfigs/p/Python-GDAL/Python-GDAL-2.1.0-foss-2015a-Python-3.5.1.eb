easyblock = 'Bundle'

name = 'Python-GDAL'
version = '2.1.0'
pyver = '3.5.1'
versionsuffix = '-Python-%s' % pyver

homepage = 'http://www.python.org/'
description = """GDAL, pyModis, RIOS and Fiona - Python packages for geospatial data I/O based on the OSGEO libraries GDAL and OGR"""

toolchain = {'name': 'foss', 'version': '2015a'}

# these are extensions for Python
exts_defaultclass = 'PythonPackage'
exts_filter = ("python", "import %(ext_name)s")

dependencies = [
    ('Python', pyver),
    ('GDAL', version),
#   ('PostgreSQL', '9.5.3'),    # via GDAL
]

exts_list = [
    ('psycopg2', '2.6.1', {
        'source_tmpl': 'psycopg2-%(version)s.tar.gz',
        'source_urls': ['http://pypi.python.org/packages/source/p/psycopg2'],
    }),
    ('GDAL', version, {
        'source_tmpl': 'GDAL-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/G/GDAL', 
        'https://pypi.python.org/packages/d1/98/27fff31ad298f3ec50db19dc3adfd8387279e158b1c6331c531c5fc7d830/'],        
    }),
    ('pyModis', '1.0.2', {
        'source_tmpl': 'pyModis-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/p/pyModis'],
    }),
    ('rios', '1.4.3', {
        'source_tmpl': 'rios-%(version)s.tar.gz',
        'source_urls': ['https://bitbucket.org/chchrsc/rios/downloads/'],
    }),
    ('Fiona', '1.6.3', {
        'source_tmpl': 'Fiona-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/F/Fiona'],
    }),
]

modextrapaths = {'PYTHONPATH': 'lib/python%s/site-packages' % '.'.join(pyver.split('.')[:2])}

sanity_check_paths = {
    'files': [],
    'dirs': ['.']
}

moduleclass = 'geo'