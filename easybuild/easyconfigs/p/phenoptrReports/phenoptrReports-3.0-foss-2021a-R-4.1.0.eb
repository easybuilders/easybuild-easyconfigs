# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Bundle'

name = 'phenoptrReports'
version = '0.3.0'
versionsuffix = '-R-%(rver)s'

homepage = "https://akoyabio.github.io/phenoptrReports/"
description = """Create analysis reports from inForm data. """

github_account = 'akoyabio'
source_urls = [GITHUB_SOURCE]

toolchain = {'name': 'foss', 'version': '2021a'}

dependencies = [
    ('R', '4.1.0'),
    ('R-bundle-Bioconductor', '3.13', '-R-4.1.0'),
    ('RStudio-Server', '1.4.1717', '-Java-11-R-4.1.0'),
    ('Boost', '1.76.0'),
]

exts_defaultclass = 'RPackage'
exts_filter = ("R -q --no-save", "library(%(ext_name)s)")
exts_default_options = {
    'source_urls': [
        'https://cran.r-project.org/src/contrib/Archive/%(name)s',  # package archive
        'https://cran.r-project.org/src/contrib/',  # current version of packages
        'https://cran.freestatistics.org/src/contrib',  # mirror alternative for current packages
    ],
    'source_tmpl': '%(name)s_%(version)s.tar.gz',
}


# Order is important!
exts_list = [
    ('rtree', '7d12cd3', {
        'source_tmpl': '%(version)s.tar.gz',
        'source_urls': ['https://github.com/akoyabio/rtree/archive'],
        'checksums': ['6b74701a17d9a838070e6d1a63256207f4d5b0713d907e415955de60d7194d61'],
    }),
    ('cpp11', '0.4.1', {
        'checksums': ['e9ff8eb1241958a33ae7c760d7043aaedbedbc63849e900e3c219ea5663f64da'],
    }),
    ('tzdb', '0.2.0', {
        'checksums': ['c335905d452b400af7ed54b916b5246cb3f47ede0602911a2bcb25a1cf56d5a9'],
    }),
    ('vroom', '1.5.7', {
        'checksums': ['d087cb148f71c222fc89199d03df2502689149873414a6d89c2f006d3a109fde'],
    }),
    ('mapproj', '1.2.7', {
        'checksums': ['f0081281b08bf3cc7052c4f1360d6d3c20d9063be57754448ad9b48ab0d34c5b'],
    }),
    ('pals', '1.7', {
        'checksums': ['5a8aa9f359a02bed3f5c51aa36b09216784b9520db2a74cdd2d8278deb8eeba2'],
    }),
    ('phenoptr', '0.3.1', {
        'source_tmpl': 'v%(version)s.tar.gz',
        'source_urls': ['https://github.com/akoyabio/phenoptr/archive'],
        'checksums': ['7985be3aa968882b1f289bdad954abc19b513cdefef5b45f3ed43cd74f43e202'],
    }),
    ('shinyjs', '2.0.0', {
        'checksums': ['c2cdd9fab41f6b46bb41b288cd9b3fb3a7fe9627b664e3a58a0cb5dd4c19f8ff'],
    }),
    ('colourpicker', '1.1.1', {
        'checksums': ['a0d09982b048b143e2c3438ccec039dd20d6f892fa0dedc9fdcb0d40de883ce0'],
    }),
    ('formattable', '0.2.1', {
        'checksums': ['4f0d4d2267d87a42da777066dd992c44fcc8ba9c0bdd2cbfc72980573b88bded'],
    }),
    ('UpSetR', '1.4.0', {
        'checksums': ['351e5fee64204cf77fd378cf2a2c0456cc19d4d98a2fd5f3dac74b69a505f100'],
    }),
    (name, version, {
        'source_tmpl': 'v%(version)s.tar.gz',
        'source_urls': ['https://github.com/akoyabio/phenoptrReports/archive'],
        'checksums': ['360876ae6b9c0621cbda373fc8772759ed64d713221c2f7f358dab7dcc7909e3'],
    }),
]

modextrapaths = {'R_LIBS': ''}

sanity_check_paths = {
    'files': ['phenoptrReports/R/phenoptrReports'],
    'dirs': [],
}

moduleclass = 'bio'
