Use external GLFW and GLM

Ã…ke Sandgren, 2024-04-19
diff --git a/CMakeLists.txt b/CMakeLists.txt
index 77dc97b..f91833b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -13,6 +13,10 @@ set(POLYSCOPE_BACKEND_OPENGL_MOCK "ON" CACHE BOOL "Enable openGL_mock backend")
 set(POLYSCOPE_BACKEND_OPENGL3_EGL "AUTO" CACHE STRING "Enable openGL3_egl backend") # 'AUTO' means "if we're on linux and EGL.h is available"
 
 ### Do anything needed for dependencies and bring their stuff in to scope
+if("${POLYSCOPE_BACKEND_OPENGL3_GLFW}")
+    find_package(glfw3)
+endif()
+find_package(glm)
 add_subdirectory(deps)
 
 ### Add things for this project
diff --git a/deps/CMakeLists.txt b/deps/CMakeLists.txt
index d7bded0..c078d41 100644
--- a/deps/CMakeLists.txt
+++ b/deps/CMakeLists.txt
@@ -20,6 +20,8 @@ if(NOT TARGET glm::glm)
   add_subdirectory(glm)
   target_compile_definitions(glm INTERFACE GLM_ENABLE_EXPERIMENTAL)
   set_target_properties(glm PROPERTIES LINKER_LANGUAGE CXX)
+else()
+  target_compile_definitions(glm::glm INTERFACE GLM_ENABLE_EXPERIMENTAL)
 endif()
 
 ## Imgui
