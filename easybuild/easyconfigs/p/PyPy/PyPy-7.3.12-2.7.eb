easyblock = 'Tarball'

name = 'PyPy'
version = '7.3.12'
_pyver = '2.7'
versionsuffix = '-%s' % _pyver

homepage = 'https://www.pypy.org'
description = "A fast, compliant alternative implementation of Python"

toolchain = SYSTEM

source_urls = ['https://downloads.python.org/pypy/']
local_archs = {'aarch64': 'aarch64', 'x86_64': 'linux64'}
sources = ['pypy%s-v%%(version)s-%s.tar.bz2' % (_pyver, local_archs[ARCH])]
checksums = [{
    'pypy%s-v%%(version)s-aarch64.tar.bz2' % _pyver: 'e04dcb6286a7b4724ec3f0e50d3cc1ba8583301dd1658c06d7f37599e4201c59',
    'pypy%s-v%%(version)s-linux64.tar.bz2' % _pyver: '1a61a2574b79466f606010f2999a2b995bd96cd085f91a78ebdd3d5c2c40e81d',
}
]

sanity_check_paths = {
    'files': ['bin/pypy', 'bin/pypy2', 'include/pypy_macros.h'],
    'dirs': ['lib'],
}

sanity_check_commands = [
    "pypy --help",
]

moduleclass = 'lang'
