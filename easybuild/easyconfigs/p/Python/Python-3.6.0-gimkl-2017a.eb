name = 'Python'
version = '3.6.0'
llvm_version = '4.0.0'
versionsuffix = '-LLVM-%s-without-CUDA' % llvm_version

homepage = 'http://python.org/'
description = "Python is a programming language that lets you work more quickly and integrate your systems more effectively."
toolchain = {'name': 'gimkl', 'version': '2017a'}
toolchainopts = {'pic': True, 'opt': True, 'optarch': True}

numpyversion = '1.13.0'
scipyversion = '0.18.1'

source_urls = ['http://www.python.org/ftp/%(namelower)s/%(version)s/']
sources = [SOURCE_TGZ]

builddependencies = [
    ('SWIG', '3.0.8', '', True),    # for scikit.umfpack
]

dependencies = [
    ('bzip2', '1.0.6'),               # for bz2 package
    ('FFTW', '3.3.5'),                # for pyFFTW when FFTW isn't in the toolchain
    ('freetype', '2.7.1'),            # for matplotlib and Pillow
    ('HDF5', '1.8.18'),               # for h5py and/or tables
    ('libjpeg-turbo','1.5.1'),        # for matplotlib and Pillow
    ('libpng','1.6.28'),              # for matplotlib and Pillow
    ('libreadline', '6.3'),           # pulls in ncurses
    ('libxslt', '1.1.29'),            # for lxml.  brings in libxml2 and zlib dependencies.
    ('LLVM', llvm_version),           # for llvmlite (for numba)
    ('netCDF', '4.4.1'),              # for netCDF4, also pulls in HDF5
    ('SQLite', '3.16.2'),             # for IPython and general use
    ('SuiteSparse', '4.5.4'),         # for scikit-umfpack
    ('Tk', '8.6.6'),                  # for Py6S
]

osdependencies = [('openssl-devel', 'libssl-dev', 'libopenssl-devel')]

# order is important!
exts_list = [
    # note: more recent versions of setuptools (v34.x) can not be installed from source anymore,
    # see https://github.com/pypa/setuptools/issues/980
    ('setuptools', '33.1.1', {
        'source_urls': ['https://pypi.python.org/packages/source/s/setuptools/'],
        'source_tmpl': SOURCE_ZIP,
    }),
    ('pip', '9.0.1', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pip/'],  # for prefix option added in pip-8
    }),
    ('six', '1.10.0', {        # for matplotlib, dateutil and traitlets
        'source_urls': ['https://pypi.python.org/packages/source/s/six/'],
    }),
    ('pyparsing', '2.2.0', {   # for matplotlib
        'source_urls': ['https://pypi.python.org/packages/source/p/pyparsing/'],
    }),
    ('nose', '1.3.7', {
        'source_urls': ['https://pypi.python.org/packages/source/n/nose/'],
    }),
    ('py', '1.4.33', {         # for pytest
        'source_urls': ['https://pypi.python.org/packages/source/p/py/'],
    }),
    ('pytest', '3.0.5', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pytest/'],
    }),
    ('decorator', '4.0.10', {  # for ipython and others
        'source_urls': ['https://pypi.python.org/packages/source/d/decorator/'],
    }),
    
    ('ipython_genutils', '0.1.0', {   # For ipython
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/i/ipython_genutils/'],
    }),
    ('traitlets', '4.3.1', {   # For ipython
        'source_urls': ['https://pypi.python.org/packages/source/t/traitlets/'],
    }),
    ('wcwidth', '0.1.7', {     # for prompt_toolkit
        'source_urls': ['https://pypi.python.org/packages/source/w/wcwidth/'],
    }),
    ('prompt_toolkit', '1.0.9', {   # For ipython
        'source_urls': ['https://pypi.python.org/packages/source/p/prompt_toolkit/'],
    }),
    ('Pygments', '2.1.3', {   # For ipython and skbio
        'source_urls': ['https://pypi.python.org/packages/source/P/Pygments/'],
        'modulename': 'pygments',
    }),
    ('simplegeneric', '0.8.1', {   # For ipython
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/s/simplegeneric/'],
    }),
    ('pickleshare', '0.7.4', {   # For ipython
        'source_urls': ['https://pypi.python.org/packages/source/p/pickleshare/'],
    }),
    ('ptyprocess', '0.5.1', {   # For pexpect
        'source_urls': ['https://pypi.python.org/packages/source/p/ptyprocess/'],
    }),
    ('pexpect', '4.2.1', {   # For ipython
        'source_urls': ['https://pypi.python.org/packages/source/p/pexpect/'],
    }),
    ('ipython', '5.1.0', {  # For line_profiler and general use
        'source_urls': ['https://pypi.python.org/packages/source/i/ipython/'],
        'modulename': 'IPython',
    }),
    ('line_profiler', '2.0', {
        'source_urls': ['https://pypi.python.org/packages/source/l/line_profiler/'],
    }),
    
    ('numpy', numpyversion, {
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/n/numpy/'],
        'patches': ['numpy-1.13.0-mkl.patch'],
    }),
    ('scipy', scipyversion, {
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/s/scipy/'],
    }),
    ('Cython', '0.25.2', {
        'source_urls': ['https://pypi.python.org/packages/source/c/Cython/'],
    }),
    
    ('llvmlite', '0.18.0', {   
        'source_urls': ['https://pypi.python.org/packages/source/l/llvmlite/'],
        'modulename': 'llvmlite.binding',
    }),
    ('numba', '0.33.0', { 
        'source_urls': ['https://pypi.python.org/packages/source/n/numba/'],
    }),

    ('networkx', '1.11', {
        'source_urls': ['https://pypi.python.org/packages/source/n/networkx/'],
    }),
    ('biopython', '1.68', {
        'source_urls': ['https://pypi.python.org/packages/source/b/biopython/'],
        'modulename': 'Bio',
    }),

    ('olefile', '0.44', {      # for Pillow
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/o/olefile'],
    }),
    ('Pillow', '4.0.0', {
        'source_urls': ['https://pypi.python.org/packages/source/P/Pillow/'],
        'modulename': 'PIL',
    }),
    ('dateutil', '2.6.0', {    # for matplotlib
        'source_tmpl': 'python-%(name)s-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/p/python-dateutil/'],
    }),
    ('matplotlib', '2.0.0', {
        'source_urls': ['https://pypi.python.org/packages/source/m/matplotlib/'],
    }),
    ('paycheck', '1.0.2', {
        'source_urls': ['https://pypi.python.org/packages/source/p/paycheck/'],
    }),
    ('lockfile', '0.12.2', {
        'source_urls': ['https://pypi.python.org/packages/source/l/lockfile/'],
    }),
    ('lxml', '3.7.1', {
        'source_urls': ['https://pypi.python.org/packages/source/l/lxml/'],
    }),
    ('pysam', '0.10.0', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pysam/'],
    }),
    ('pytz', '2016.10', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pytz/'],
    }),

    ('mpi4py', '2.0.0', {
        'source_urls': ['https://mpi4py.googlecode.com/files/'],
    }),

    ('arff', '2.1.0', {
        'source_tmpl': 'liac-%(name)s-%(version)s.zip',
        'source_urls': ['https://pypi.python.org/packages/source/l/liac-arff/'],
    }),

    # non-MPI h5py version is useful as an MPI one makes MPI compulsory.
    # The variable HDF5_DIR must be set (to the same value as EBROOTHDF5) for
    # the h5py module to install correctly; HDF5_DIR may be set either in this
    # easyconfig as a preinstallcmd, or (preferably) in the HDF5 easyconfig
    # as a modextravar.
    ('h5py', '2.6.0', {   # or 2.7.0
        'source_urls': ['https://pypi.python.org/packages/source/h/h5py/'],
    }),
    ('netCDF4', '1.2.7', { 
        'source_urls': ['https://pypi.python.org/packages/source/n/netCDF4/'],
        'modulename': 'netCDF4',
        'patches': ['netCDF4py_not_zipsafe.patch'],
    }),

    ('numexpr', '2.6.1', {
        'source_urls': ['https://pypi.python.org/packages/source/n/numexpr/'],
    }),
    ('tables', '3.3.0', {
        'source_urls': ['https://pypi.python.org/packages/source/t/tables/'],
        'patches': [
             'pytables-3.2-LIBS.patch',
        ],
    }),
    ('Bottleneck', '1.2.0', {
        'source_urls': ['https://pypi.python.org/packages/source/B/Bottleneck/'],
        'modulename': 'bottleneck',
    }),
    ('et_xmlfile', '1.0.1', {
        'source_urls': ['https://pypi.python.org/packages/source/e/et_xmlfile/'],
    }),
    ('jdcal', '1.3', {
        'source_urls': ['https://pypi.python.org/packages/source/j/jdcal/'],
    }),
    ('openpyxl', '2.4.1', {
        'source_urls': ['https://pypi.python.org/packages/source/o/openpyxl/'],
    }),
    ('pandas', '0.19.2', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pandas/'],
    }),

    ('mpmath', '0.19', {      # for sympy
        'source_tmpl': 'mpmath-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/m/mpmath/'],
    }),
    ('sympy', '1.0', {
        'source_tmpl': 'sympy-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/s/sympy/'],
    }),

    ('MarkupSafe', '1.0', {    # For Mako
        'source_tmpl': 'MarkupSafe-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/M/MarkupSafe/'],
        'modulename': 'markupsafe',
    }),
    ('requests', '2.13.0', {  # For ObsPy and CacheControl
        'source_urls': ['https://pypi.python.org/packages/source/r/requests/'],
    }),
    ('msgpack-python', '0.4.8', { # for CacheControl
        'source_urls': ['https://pypi.python.org/packages/source/m/msgpack-python/'],
        'modulename': 'msgpack',
    }),
    ('CacheControl', '0.12.2', {  # for scikit-bio
        'source_urls': ['https://pypi.python.org/packages/source/C/CacheControl/'],
        'modulename': 'cachecontrol',
    }),
    ('natsort', '5.0.2', {        # for scikit-bio
        'source_urls': ['https://pypi.python.org/packages/source/n/natsort/'],
    }),
    ('skbio', '0.5.1', {
        'source_tmpl': 'scikit-bio-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/s/scikit-bio/'],
    }),
    ('toolz', '0.8.2', {       # for dask
        'source_urls': ['https://pypi.python.org/packages/source/t/toolz/'],
    }),
    ('dask', '0.14.1', {       # for scikit-image
        'source_urls': ['https://pypi.python.org/packages/source/d/dask/'],
    }),
    ('skimage', '0.12.3', {
        'source_tmpl': 'scikit-image-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/s/scikit-image/'],
    }),
    ('sklearn', '0.18.1', {
        'source_tmpl': 'scikit-learn-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/s/scikit-learn/'],
    }),
    
    ('emcee', '2.2.1', {
        'source_urls': ['https://pypi.python.org/packages/source/e/emcee/'],
    }),
    ('pystan', '2.14.0.0', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pystan/'],
    }),

    ('PyYAML', '3.12', {   # For Keras
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/P/PyYAML/'],
        'modulename': 'yaml',
    }),
    ('joblib', '0.10.3', {    # For ObsPy 
        'source_urls': ['https://pypi.python.org/packages/source/j/joblib/'],
    }),
    ('SQLAlchemy', '1.1.9', { # For ObsPy
        'source_urls': ['https://pypi.python.org/packages/source/s/SQLAlchemy/'],
        'modulename': 'sqlalchemy',
    }),
    ('future', '0.16.0', {    # For ObsPy
        'source_urls': ['https://pypi.python.org/packages/source/f/future/'],
    }),
    ('obspy', '1.0.2', { 
        'source_tmpl': SOURCE_ZIP,
        'source_urls': ['https://pypi.python.org/packages/source/o/obspy/'],
    }),
    ('pyFFTW', '0.10.4', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pyFFTW/'],
        'modulename': 'pyfftw',
    }),
    ('pybedtools', '0.7.9', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pybedtools/'],
    }),
    ('scikit-umfpack', '0.2.3', {
        'source_urls': ['https://pypi.python.org/packages/source/s/scikit-umfpack/'],
        'modulename': 'scikits.umfpack',
    }),
    ('qutip', '4.0.2', {
        'source_urls': ['https://pypi.python.org/packages/source/q/qutip/'],
    }),
    ('docopt', '0.6.2', {    # For blobtools 
        'source_urls': ['https://pypi.python.org/packages/source/d/docopt/'],
    }),
    ('ujson', '1.35', {      # For blobtools 
        'source_urls': ['https://pypi.python.org/packages/source/u/ujson/'],
    }),

    # Landcare
    ('PrettyTable', '0.7.2', {
        'source_tmpl': 'prettytable-%(version)s.tar.bz2',
        'source_urls': ['https://pypi.python.org/packages/source/P/PrettyTable'],
        'modulename': 'prettytable',
    }),
    ('Pysolar', '0.6', {     # For Py6S
        'source_urls': ['https://pypi.python.org/packages/source/P/Pysolar'],
        'modulename': 'Pysolar',
    }), 
    ('Py6S', '1.6.2', {
        'source_tmpl': 'Py6S-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/P/Py6S'],
        'modulename': 'Py6S',
    }),
    ('pyproj', '1.9.5.1', {
        'source_tmpl': 'pyproj-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/p/pyproj'],
    }),
    ('patsy', '0.4.1', {
        'source_tmpl': 'patsy-%(version)s.zip',
        'source_urls': ['https://pypi.python.org/packages/source/p/patsy/'],
    }),
    ('statsmodels', '0.8.0', {
        'source_tmpl': 'statsmodels-%(version)s.tar.gz',
        'source_urls': ['https://pypi.python.org/packages/source/s/statsmodels/'],
    }),
]

moduleclass = 'lang'
