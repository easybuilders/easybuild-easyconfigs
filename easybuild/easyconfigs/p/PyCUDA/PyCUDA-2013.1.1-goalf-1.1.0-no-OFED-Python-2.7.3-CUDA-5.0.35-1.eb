##
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
#
# Copyright:: Copyright 2012-2013 University of Luxembourg/Luxembourg Centre for Systems Biomedicine
# Authors::   Fotis Georgatos <fotis.georgatos@uni.lu>
# License::   MIT/GPL
# $Id$
#
# This work implements a part of the HPCBIOS project and is a component of the policy:
# http://hpcbios.readthedocs.org/en/latest/HPCBIOS_2012-99.html
##

easyblock = "PythonPackage"

name = "PyCUDA"
version = "2013.1.1"

homepage = "https://pypi.python.org/pypi/pycuda"
description = """Python wrapper for Nvidia CUDA.
 PyCUDA lets you access Nvidia's CUDA parallel computation API from Python."""

toolchain = {'name': 'goalf', 'version': '1.1.0-no-OFED'}

sources = [SOURCELOWER_TAR_GZ]
source_urls = [PYPI_LOWER_SOURCE]

python = "Python"
pythonversion = "2.7.3"
pysuffix = versionsuffix = "-%s-%s" % (python, pythonversion)

cuda = "CUDA"
cudaversion = "5.0.35-1"
versionsuffix += "-%s-%s" % (cuda, cudaversion)

dependencies = [
    (python, pythonversion),
    ('Boost', '1.51.0', pysuffix),
    ('setuptools', '0.6c11', pysuffix),
    (cuda, cudaversion, '', True),
]

py_short_ver = ".".join(pythonversion.split(".")[0:2])
pylibdir = "lib/python%s/site-packages/%s" % (py_short_ver, name.lower())

sanity_check_paths = {
    'files': [],
    'dirs': ["%s-%s-py%s-linux-x86_64.egg" % (pylibdir, version, py_short_ver)]
}

moduleclass = 'devel'
