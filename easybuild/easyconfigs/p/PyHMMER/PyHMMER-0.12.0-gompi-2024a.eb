# Thomas Hoffmann, EMBL Heidelberg, structures-it@embl.de, 2024/02
# Update: Petr Kr√°l (INUITS)

easyblock = 'PythonBundle'

name = 'PyHMMER'
version = '0.12.0'

homepage = 'https://github.com/althonos/pyhmmer'
description = """
HMMER is a biological sequence analysis tool that uses profile hidden Markov
models to search for sequence homologs. HMMER3 is developed and maintained by
the Eddy/Rivas Laboratory at Harvard University.

pyhmmer is a Python package, implemented using the Cython language, that
provides bindings to HMMER3. It directly interacts with the HMMER internals,
which has the following advantages over CLI wrappers (like hmmer-py)"""

toolchain = {'name': 'gompi', 'version': '2024a'}

builddependencies = [
    ('Cython', '3.0.10'),
    ('scikit-build-core', '0.11.1'),
]
dependencies = [
    ('Python', '3.12.3'),
    ('HMMER', '3.4'),
    ('psutil', '6.0.0'),
]


exts_list = [
    ('pyhmmer', version, {
        'patches': ['pyhmmer-disable-sabi-compat.patch'],
        'preinstallopts': "export PYHMMER_FORCE_CYTHON=1 && ",
        'checksums': [
            {'pyhmmer-0.12.0.tar.gz': '27cdfd3cdf72abcc7a6670825fc0195e8ff01d4820efd0f99aec03d3972a922e'},
            {'pyhmmer-disable-sabi-compat.patch': '972e4c2c31ab6ba564ea025b76afc8e5073194bbafa940c582aecd1f3ae81675'},
        ],
    }),
]

moduleclass = 'bio'
