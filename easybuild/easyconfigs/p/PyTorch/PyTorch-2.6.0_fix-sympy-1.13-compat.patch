There is an assertion failure with sympy 1.13.3:
>   File "torch/fx/experimental/symbolic_shapes.py", line 6403, in _evaluate_expr
>    assert orig_expr == hint, f"{orig_expr} != {hint}"
>           ^^^^^^^^^^^^^^^^^
> AssertionError: 0 != 0.0

Backport of https://github.com/pytorch/pytorch/pull/147197

Author: Alexander Grund (TU Dresden)

--- a/torch/fx/experimental/symbolic_shapes.py
+++ b/torch/fx/experimental/symbolic_shapes.py
@@ -6400,7 +6400,10 @@ class ShapeEnv:
             if orig_expr.is_number:
                 self.log.debug("eval %s [trivial]", orig_expr)
                 if hint is not None:
-                    assert orig_expr == hint, f"{orig_expr} != {hint}"
+                    if isinstance(hint, bool):
+                        assert orig_expr == hint, f"{orig_expr} != {hint}"
+                    else:
+                        assert sympy.Eq(orig_expr, hint), f"{orig_expr} != {hint}"
                 return orig_expr
 
             expr = orig_expr
