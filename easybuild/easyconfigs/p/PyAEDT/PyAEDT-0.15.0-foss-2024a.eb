easyblock = 'PythonBundle'

name = 'PyAEDT'
version = '0.15.0'

homepage = 'https://aedt.docs.pyansys.com/version/stable'
description = """PyAEDT is a Python library that interacts directly with the
Ansys Electronics Desktop (AEDT) API, enabling straightforward and efficient
automation in your workflow."""

toolchain = {'name': 'foss', 'version': '2024a'}

builddependencies = [
    ('Cython', '3.0.10'),
    ('hatchling', '1.24.2'),
]

dependencies = [
    ('dotNET-Core', '8.0', '', SYSTEM),
    ('libspatialindex', '2.0.0'),
    ('Python', '3.12.3'),
    ('Python-bundle-PyPI', '2024.06'),
    ('aiohttp', '3.10.10'),
    ('PyTables', '3.10.2'),
    ('cffi', '1.16.0'),
    ('grpcio', '1.70.0'),
    ('Pillow', '10.4.0'),
    ('pydantic', '2.9.1'),
    ('SciPy-bundle', '2024.05'),
    ('matplotlib', '3.9.2'),
    ('PyVista', '0.44.2'),
    ('GDAL', '3.10.0'),
    ('scikit-learn', '1.5.2'),
    ('PyYAML', '6.0.2'),
    ('networkx', '3.4.2'),
    ('pyproj', '3.7.0'),
    ('trame', '3.8.0'),
    ('trame-bundle', '2025.03'),
]

exts_list = [
    ('dotnetcore2', '3.1.23', {
        'sources': ['dotnetcore2-3.1.23-py3-none-manylinux1_x86_64.whl'],
        'checksums': ['5f076ddc39da0c685e7de20ecb91ee81185928918ec86fbeb3bffc55dd867ab5'],
    }),
    ('clr_loader', '0.2.6', {
        'checksums': ['019348ae6b6a83c7a406d14537c277cecf7a3a53b263ec342c81ded5845a67ee'],
    }),  # require cffi >= 1.17 since 0.2.7.post0
    ('defusedxml', '0.7.1', {
        'checksums': ['1bb3032db185915b62d7c6209c5a8792be6a32ab2fedacc84e01b52c51aa3e69'],
    }),
    ('et_xmlfile', '2.0.0', {
        'checksums': ['dab3f4764309081ce75662649be815c4c9081e88f0837825f90fd28317d4da54'],
    }),
    ('fast_simplification', '0.1.7', {
        'checksums': ['5e44a71fc7d3321688c999952eb2c8dcc3ddbad5ba3f847b2b50eda50155fbe2'],
    }),  # require numpy >= 2 since 0.1.8
    ('geopandas', '1.0.1', {
        'checksums': ['b8bf70a5534588205b7a56646e2082fb1de9a03599651b3d80c99ea4c2ca08ab'],
    }),
    ('openpyxl', '3.1.5', {
        'checksums': ['cf0e3cf56142039133628b5acffe8ef0c12bc902d2aadd3e0fe5878dc08d1050'],
    }),
    ('osmnx', '2.0.1', {
        'checksums': ['24bb7dc4c0d548ce11a61a79de08bdeea7d74f2d1889a93b60da825051c0e374'],
    }),
    ('pyogrio', '0.10.0', {
        'checksums': ['ec051cb568324de878828fae96379b71858933413e185148acb6c162851ab23c'],
    }),
    ('websockets', '15.0.1', {
        'checksums': ['82544de02076bafba038ce055ee6412d68da13ab47f0c60cab827346de828dee'],
    }),
    ('ansys_pythonnet', '3.1.0rc6', {
        'modulename': 'pythonnet',
        'preinstallopts': "export OPENSSL_ENABLE_SHA1_SIGNATURES=1 &&",
        'checksums': ['8ae09cf7687a7b431f41f570d12bd7547e393618231d0ef877fe021d491fc945'],
    }),
    ('ansys_tools_visualization_interface', '0.8.3', {
        'modulename': 'ansys.tools.visualization_interface',
        'checksums': ['b1ff45fd3027d645ca4d20eda1de151e12caced9cb88521a2107a25924c218c7'],
    }),
    ('fpdf2', '2.8.2', {
        'modulename': 'fpdf',
        'checksums': ['3a2c6699c39b23b786fc6ad9fc3de5432e59f6b6383bb9ab4ce1f994a5f3e762'],
    }),
    ('plumbum', '1.9.0', {
        'checksums': ['e640062b72642c3873bd5bdc3effed75ba4d3c70ef6b6a7b907357a84d909219'],
    }),
    ('rpyc', '6.0.1', {
        'checksums': ['8a60f3c4401f309c0eb6e754fb6c4e0442231203907cebf61ae74615b52cd38a'],
    }),
    ('scikit_rf', '1.6.2', {
        'modulename': 'skrf',
        'checksums': ['31650a4c200aed0af2f8808e35510d15705b5722d507737fccec6e7695c3db03'],
    }),
    ('shapely', '2.0.7', {
        'checksums': ['28fe2997aab9a9dc026dc6a355d04e85841546b2a5d232ed953e3321ab958ee5'],
    }),
    ('rtree', '1.4.0', {
        'modulename': 'rtree',
        'checksums': ['9d97c7c5dcf25f6c0599c76d9933368c6a8d7238f2c1d00e76f1a69369ca82a0'],
    }),
    ('pyedb', '0.38.0', {
        'checksums': ['e2690574ae30b10bf7bcfa406564f6a29555ff44e488acf7e0c9f6c382f71f01'],
    }),
    ('pyaedt', version, {
        'checksums': ['cab1dc917c15a1aee8d40b38c9deec164c4464fc83e6c6190ca7b255be3ce094'],
    }),
]

modloadmsg = "NOTE: You also need load a AEDT module before you start using PyAEDT."

moduleclass = "phys"
