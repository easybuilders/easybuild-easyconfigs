# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = 'PRANK'
version = '251117'
local_commit = '94b620e'

homepage = 'https://ariloytynoja.github.io/prank-msa/'
description = """ PRANK is a probabilistic multiple alignment program for DNA,
 codon and amino-acid sequences. PRANK is based on a novel algorithm that treats
 insertions correctly and avoids over-estimation of the number of deletion events."""

toolchain = {'name': 'GCC', 'version': '14.2.0'}

github_account = 'ariloytynoja'
source_urls = [f'http://github.com/%(github_account)s/prank-msa/raw/{local_commit}/binaries']
sources = ['%(namelower)s.source.%(version)s.tgz']
checksums = ['d8a2165b001d89506e75bb28c1a3fbdc39e32b06ceb865da2e6fffe976844c95']

# PRANK uses MAFFT as external tool to construct guide tree
dependencies = [('MAFFT', '7.526', '-with-extensions')]

start_dir = 'src'

files_to_copy = [(['prank'], 'bin')]

sanity_check_paths = {
    'files': ['bin/prank'],
    'dirs': [],
}

sanity_check_commands = ['prank -help']

moduleclass = 'bio'
