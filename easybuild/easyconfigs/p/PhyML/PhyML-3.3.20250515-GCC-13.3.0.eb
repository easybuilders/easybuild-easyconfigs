easyblock = 'ConfigureMake'

name = 'PhyML'
version = '3.3.20250515'

homepage = 'https://github.com/stephaneguindon/phyml'
description = """PhyML is a software package that uses modern statistical approaches to
analyse alignments of nucleotide or amino acid sequences in a phylogenetic framework."""

toolchain = {'name': 'GCC', 'version': '13.3.0'}

source_urls = ['https://github.com/stephaneguindon/phyml/archive/']
sources = ['v%(version)s.tar.gz']
checksums = ['c8d09f52f080a95dde8d7d797da5874796a148158cd18f956110cdba13cd3368']

builddependencies = [
    ('Autoconf', '2.72'),
    ('Automake', '1.16.5'),
    ('pkgconf', '2.2.0'),
]

dependencies = [
    ('OpenMPI', '5.0.3'),
]

preconfigopts = 'sh autogen.sh && '

# phytime is no longer maintained, see PhyML issue #207
configopts = ['--enable-phyml', '--enable-phyrex', '--enable-phyml-mpi']

sanity_check_paths = {
    'files': ['bin/phyml', 'bin/phyml-mpi', 'bin/phyrex'],
    'dirs': []
}

moduleclass = 'bio'
