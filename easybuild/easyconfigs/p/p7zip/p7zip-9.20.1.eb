##
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
#
# Copyright:: Copyright 2012-2013 University of Luxembourg/Luxembourg Centre for Systems Biomedicine
# Authors::   Fotis Georgatos <fotis.georgatos@uni.lu>, Kenneth Hoste
# License::   MIT/GPL
# $Id$
#
# This work implements a part of the HPCBIOS project and is a component of the policy:
# http://hpcbios.readthedocs.org/en/latest/HPCBIOS_2012-97.html
##

name = 'p7zip'
version = '9.20.1'

homepage = 'http://p7zip.sourceforge.net/'
description = """p7zip is a port of 7za.exe for POSIX systems like Unix"""

toolchain = {'name': 'dummy', 'version': 'dummy'} # this is so that it can be combined with many toolchains

# eg. http://downloads.sourceforge.net/project/p7zip/p7zip/9.20.1/p7zip_9.20.1_src_all.tar.bz2 (3.8 MB)
sources = ['p7zip_%s_src_all.tar.bz2' % version]
source_urls = ['SOURCEFORGE_SOURCE'] # http://downloads.sourceforge.net/project/p7zip/p7zip/9.20.1']

skipsteps = ['configure']

makeopts = 'all3'

preinstallopts = './install.sh %(installdir)s/bin %(installdir)s/lib/p7zip %(installdir)s/man %(installdir)s/share/doc/p7zip && /bin/true '

runtest = 'all_test'

sanity_check_paths = {
    'files': ["bin/7z", "bin/7za", "bin/7zr"],
    'dirs': [],
    }
