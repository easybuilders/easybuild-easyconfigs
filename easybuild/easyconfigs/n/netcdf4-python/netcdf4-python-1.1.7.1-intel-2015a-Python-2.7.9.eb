name = 'netcdf4-python'
version = '1.1.7.1'

homepage = 'https://code.google.com/p/netcdf4-python/'
description = """Python/numpy interface to netCDF."""

toolchain = {'name': 'intel', 'version': '2015a'}
toolchainopts = {'usempi': True}

source_urls = ['https://pypi.python.org/packages/source/n/netCDF4/']
sources = ['netCDF4-%(version)s.tar.gz']

python = 'Python'
pythonver = '2.7.9'
versionsuffix = '-%s-%s' % (python, pythonver)

dependencies = [
    (python, pythonver),
    ('HDF5', '1.8.13'),
    ('Cython', '0.22', versionsuffix),
    ('netCDF', '4.3.2'),
    ('cURL', '7.41.0'),
]

# 1 failing/broken test: "testing diskless file capability"
runtest = False

pyshortver = '.'.join(pythonver.split('.')[:2])
pylibdir = "lib/python%s/site-packages" % pyshortver
sanity_check_paths = {
    'files': ['bin/nc3tonc4', 'bin/nc4tonc3', 'bin/ncinfo',
              '%s/netCDF4-%%(version)s-py%s-linux-x86_64.egg' % (pylibdir, pyshortver)],
    'dirs': [],
}

moduleclass = 'data'
