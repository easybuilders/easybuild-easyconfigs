# easybuild easyconfig
#
# John Dey jfdey@fredhutch.org
# Fred Hutchenson Cancer Research Center
#
#  June 13, 2017 0.7.1
#  Dec 31, 2018, 0.10.2
easyblock = 'MakeCp'

name = 'nanopolish'
version = '0.10.2'

homepage = 'http://simpsonlab.github.io/2015/10/07/nanopolish-v0.4.0/'

description = """Our computational work focuses on the development of
algorithms for handling very large sequencing data sets, from indexing
and text compression, to probabilistic modeling and inference. We make
our methods freely available as open source software."""

toolchain = {'name': 'foss', 'version': '2018b'}

source_urls = [('https://github.com/jts/nanopolish/archive/')]
sources = ['v%(version)s.zip']
checksums = ['e457a45ec46d4ff1cb52e8e147778d3f19c106e715f348a2bbed95d8b9b1da70']

buildopts = 'HDF5=local EIGEN=local HTS=local'

dependencies = [
    ('zlib', '1.2.11'),
    ('HDF5', '1.10.2'),
    ('Eigen', '3.3.5', '', True),
    ('HTSlib', '1.9'),
    ('fast5', '0.6.5', '', True),
]

files_to_copy = [(['nanopolish'], 'bin')]


sanity_check_paths = {
    'files': ['bin/nanopolish'],
    'dirs': [],
}


moduleclass = 'bio'
