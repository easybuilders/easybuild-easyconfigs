easyblock = 'PythonBundle'

name = 'napari-threedee'
version = '0.0.28'

homepage = 'https://github.com/napari-threedee/napari-threedee'
description = """A suite of useful tools based on 3D interactivity in napari"""

toolchain = {'name': 'foss', 'version': '2023a'}


builddependencies = [
    # ('CMake', '3.26.3'),  # for libigl
]
dependencies = [
    ('Python', '3.11.3'),
    ('napari', '0.4.19.post1'),
    ('morphosamplers', '0.0.15'),
    ('imageio', '2.33.1'),
    ('mrcfile', '1.5.0'),
    ('zarr', '2.17.1'),
    ('pydantic', '2.5.3'),
    # TODO: ('libigl', '2.5.1')
]

# TODO: build libigl from source
exts_list = [
    ('libigl', '2.5.1', {
        'modulename': 'igl',
        'sources': ['libigl-%(version)s-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl'],
        'checksums': ['e949a145fa1d1913ed3d325032c9e7d6a20486be393a2dfbfe68f97015f5762b'],
    }),
    ('napari_threedee', version, {
        'checksums': ['c6e9f9262e2c627473b15dc8de615549b1b4cdbf14744659b5eda5ffe5446c6a'],
    }),
]

use_pip = True
sanity_pip_check = True

moduleclass = 'vis'
