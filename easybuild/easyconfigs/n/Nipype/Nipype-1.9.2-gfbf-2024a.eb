easyblock = 'PythonBundle'

name = 'Nipype'
version = '1.9.2'

homepage = 'https://nipype.readthedocs.io'
description = """Nipype is a Python project that provides a uniform interface to existing neuroimaging software and
 facilitates interaction between these packages within a single workflow."""

toolchain = {'name': 'gfbf', 'version': '2024a'}

builddependencies = [
    ('hatchling', '1.24.2'),
    ('PDM', '2.18.2'),
]

dependencies = [
    ('Python', '3.12.3'),
    ('lxml', '5.3.0'),
    ('networkx', '3.4.2'),
    ('pydot', '3.0.3'),
    ('NiBabel', '5.2.1'),
    ('pytest-xdist', '3.6.1'),
    ('poetry', '1.8.3'),
]

exts_list = [
    ('traits', '6.3.2', {
        'checksums': ['4520ef4a675181f38be4a5bab1b1d5472691597fe2cfe4faf91023e89407e2c6'],
    }),
    ('pydotplus', '2.0.2', {
        'checksums': ['91e85e9ee9b85d2391ead7d635e3d9c7f5f44fd60a60e59b13e2403fa66505c4'],
    }),
    ('funcsigs', '1.0.2', {
        'checksums': ['a7bb0f2cf3a3fd1ab2732cb49eba4252c2af4240442415b4abce3b87022a8f50'],
    }),
    ('isodate', '0.6.1', {
        'checksums': ['48c5881de7e8b0a0d648cb024c8062dc84e7b840ed81e864c7614fd3c127bde9'],
    }),
    ('rdflib', '6.3.2', {
        'source_urls': ['https://github.com/RDFLib/rdflib/releases/download/%(version)s/'],
        'checksums': ['72af591ff704f4caacea7ecc0c5a9056b8553e0489dd4f35a9bc52dbd41522e0'],
    }),
    ('prov', '2.0.1', {
        'checksums': ['0e238c1405d1a55c72bd39b3b6d73d6f7abfd9d0a7fab2ec0693a19a29a5617f'],
    }),
    ('ci-info', '0.3.0', {
        'checksums': ['1fd50cbd401f29adffeeb18b0489e232d16ac1a7458ac6bc316deab6ae535fb0'],
    }),
    ('etelemetry', '0.3.1', {
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'checksums': ['a64f09bcd55cbfa5684e4d9fb6d1d6a018ab99d2ea28e638435c4c26e6814a6b'],
    }),
    ('looseversion', '1.3.0', {
        'checksums': ['ebde65f3f6bb9531a81016c6fef3eb95a61181adc47b7f949e9c0ea47911669e'],
    }),
    ('acres', '0.3.0', {
        'patches': ['acres-0.3.0-fix-pdm-version.patch'],
        'source_urls': ['https://github.com/nipreps/acres/archive/refs/tags/'],
        'sources': ['%(version)s.tar.gz'],
        'checksums': [
            {'0.3.0.tar.gz': 'd6b6854aa4d31e80025d67e9ee5de18b86214960a65ca96c64b9d1ffee67cd54'},
            {'acres-0.3.0-fix-pdm-version.patch': 'b26a3ca6d51027b15be18a451a0be5da06f0187cb269050fc38767d19c767f5b'},
        ],
    }),
    ('puremagic', '1.28', {
        'checksums': ['195893fc129657f611b86b959aab337207d6df7f25372209269ed9e303c1a8c0'],
    }),
    ('nipype', version, {
        'patches': ['Nipype-1.9.2-scm-version-info.patch'],
        'checksums': [
            {'nipype-1.9.2.tar.gz': 'a503bd41b658f084d104252fd728ef75f1a1998026feab98b1639989654e0343'},
            {'Nipype-1.9.2-scm-version-info.patch': '6399bcc8fdbfd103e388a6387017b1e1ec3e72a55c1598531473cba09b1e0311'},
        ],
    }),
]

sanity_check_paths = {
    'files': ['bin/nipypecli'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["python -c 'import nipype.interfaces'"]

moduleclass = 'vis'
