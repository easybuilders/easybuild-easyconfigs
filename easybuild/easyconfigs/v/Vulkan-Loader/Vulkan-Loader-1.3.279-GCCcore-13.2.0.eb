easyblock = 'CMakeMake'

name = 'Vulkan-Loader'
version = '1.3.279'

homepage = 'https://github.com/KhronosGroup/Vulkan-Loader/'
description = """Vulkan is an explicit API, enabling direct control over how GPUs actually work. As such, Vulkan
supports systems that have multiple GPUs, each running with a different driver, or ICD (Installable Client Driver).
Vulkan also supports multiple global contexts (instances, in Vulkan terminology). The ICD loader is a library that is
placed between a Vulkan application and any number of Vulkan drivers, in order to support multiple drivers and the
instance-level functionality that works across these drivers. Additionally, the loader manages inserting Vulkan layer
libraries, such as validation layers, between an application and the drivers."""

toolchain = {'name': 'GCCcore', 'version': '13.2.0'}

source_urls = ['https://github.com/KhronosGroup/Vulkan-Loader/archive/refs/tags/']
sources = ['v%(version)s.tar.gz']
checksums = ['38a21ee83c6fd8938cac1c4a2473651fbd57940fd656bb49735b5d0b2726bdd1']

builddependencies = [
    ('binutils', '2.40'),
    ('CMake', '3.27.6'),
    ('pkgconf', '2.0.3'),
    ('git', '2.42.0'),
    ('Vulkan-Headers', version),
]

dependencies = [
    ('X11', '20231019'),
]

sanity_check_paths = {
    'files': ['lib64/libvulkan.%s' % SHLIB_EXT],
    'dirs': []
}

moduleclass = 'lib'
