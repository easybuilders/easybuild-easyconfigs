# explicit easyblock needed for unit tests exceptions
easyblock = 'EB_VSCode'

name = 'VSCode'
version = '1.104.1'
local_version_id = '1758154038'

homepage = 'https://code.visualstudio.com/'
description = """
Visual Studio Code is a lightweight but powerful source code editor which runs
on your desktop and is available for Windows, macOS and Linux. It comes with
built-in support for JavaScript, TypeScript and Node.js and has a rich
ecosystem of extensions for other languages and runtimes (such as C++, C#,
Java, Python, PHP, Go, .NET).
"""

toolchain = {'name': 'GCCcore', 'version': '13.3.0'}

source_urls = ['https://code.visualstudio.com/sha/download?build=stable&os=linux-%(mapped_arch)s&']
sources = [f'code-stable-%(mapped_arch)s-{local_version_id}.tar.gz']
checksums = [None]  # the tarballs are not stable

dependencies = [
    ('alsa-lib', '1.2.11'),
    ('GTK3', '3.24.42'),
    ('NSPR', '4.35'),
    ('NSS', '3.104'),
]

modaliases = {'vscode': '%(installdir)s/bin/code'}

moduleclass = 'devel'
