easyblock = 'MesonNinja'

name = 'VTE'
version = '0.82.2'
local_version = 2.91

homepage = 'https://gitlab.gnome.org/GNOME/vte'
description = "Virtual Terminal library"

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://gitlab.gnome.org/GNOME/vte/-/archive/%(version)s/']
sources = [SOURCELOWER_TAR_GZ]
checksums = ['d7ff15930bc8428ebe2138e6773e940ad1c136a6021384133e17875899ad45e8']

builddependencies = [
    ('binutils', '2.44'),
    ('Meson', '1.8.2'),
    ('Ninja', '1.13.0'),
    ('CMake', '4.0.3'),
    ('Vala', '0.56.18'),
]

dependencies = [
    ('cairo', '1.18.4'),
    ('Pango', '1.57.0'),
    ('lz4', '1.10.0'),
    ('fmt', '11.2.0'),
    ('GnuTLS', '3.8.10'),
    ('GTK3', '3.24.43'),
    ('GTK4', '4.20.2'),
]

configopts = '-D_systemd=false'
ndebug = False

sanity_check_paths = {
    'files': [f'lib/libvte-{local_version}.{SHLIB_EXT}', f'lib/libvte-{local_version}-gtk4.{SHLIB_EXT}'],
    'dirs': [],
}

moduleclass = 'lib'
