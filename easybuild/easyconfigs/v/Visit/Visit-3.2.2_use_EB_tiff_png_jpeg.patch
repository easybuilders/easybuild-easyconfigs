Use jpeg, png, tiff from EasyBuild instead of selfbuilt versions.

Ã…ke Sandgren, 2022-03-08
diff -ru visit3.2.2.orig/src/engine/main/CMakeLists.txt visit3.2.2/src/engine/main/CMakeLists.txt
--- visit3.2.2.orig/src/engine/main/CMakeLists.txt	2022-01-13 18:40:05.000000000 +0100
+++ visit3.2.2/src/engine/main/CMakeLists.txt	2022-03-04 15:26:02.143560079 +0100
@@ -170,8 +170,8 @@
     ${engine_ser_exe_EPlot_ser}
     engine_ser
     visit_verdict
-    vtkjpeg
-    vtkpng
+    jpeg
+    png
     ${VTK_FREETYPE_LIBRARIES}
     ${ALL_THIRDPARTY_IO_LIB}
     ${CMAKE_THREAD_LIBS}
@@ -276,8 +276,8 @@
         ${engine_par_exe_EPlot_par}
         engine_par
         visit_verdict
-        vtkjpeg
-        vtkpng
+        jpeg
+        png
         ${VTK_FREETYPE_LIBRARIES}
         ${ALL_THIRDPARTY_IO_LIB}
         ${ICET_STATIC_LIB}
diff -ru visit3.2.2.orig/src/mdserver/main/CMakeLists.txt visit3.2.2/src/mdserver/main/CMakeLists.txt
--- visit3.2.2.orig/src/mdserver/main/CMakeLists.txt	2022-01-13 18:40:05.000000000 +0100
+++ visit3.2.2/src/mdserver/main/CMakeLists.txt	2022-03-04 15:04:15.883911053 +0100
@@ -107,9 +107,9 @@
     visit_verdict
     vtkCommonCore
     vtkIOCore
-    vtktiff
-    vtkpng
-    vtkjpeg
+    tiff
+    png
+    jpeg
     ${ZLIB_LIBRARY}
     ${CMAKE_THREAD_LIBS}
     ${DL_LIB}
diff -ru visit3.2.2.orig/src/tools/data/convert/CMakeLists.txt visit3.2.2/src/tools/data/convert/CMakeLists.txt
--- visit3.2.2.orig/src/tools/data/convert/CMakeLists.txt	2022-01-13 18:40:09.000000000 +0100
+++ visit3.2.2/src/tools/data/convert/CMakeLists.txt	2022-03-04 15:26:19.119471378 +0100
@@ -70,8 +70,8 @@
 )
 
 SET(VTK_EXTRA_LIBS
-vtkjpeg
-vtkpng
+jpeg
+png
 ${VTK_FREETYPE_LIBRARIES}
 )
 
diff -ru visit3.2.2.orig/src/tools/dev/protocol/CMakeLists.txt visit3.2.2/src/tools/dev/protocol/CMakeLists.txt
--- visit3.2.2.orig/src/tools/dev/protocol/CMakeLists.txt	2022-01-13 18:40:09.000000000 +0100
+++ visit3.2.2/src/tools/dev/protocol/CMakeLists.txt	2022-03-04 15:04:36.555762302 +0100
@@ -42,9 +42,9 @@
 )
 
 SET(VTK_EXTRA_LIBS
-vtktiff
-vtkjpeg
-vtkpng
+tiff
+jpeg
+png
 ${VTK_FREETYPE_LIBRARIES}
 )
 
diff -ru visit3.2.2.orig/src/tools/dev/scripts/static_simV2.py visit3.2.2/src/tools/dev/scripts/static_simV2.py
--- visit3.2.2.orig/src/tools/dev/scripts/static_simV2.py	2021-02-08 16:54:23.000000000 +0100
+++ visit3.2.2/src/tools/dev/scripts/static_simV2.py	2022-03-04 15:06:06.891112775 +0100
@@ -167,7 +167,7 @@
 #
 # Print the link lines that we'd have to use to get the -l's
 #
-vtk_libs="-lvtkCommon -lvtkGraphics -lvtkHybrid -lvtkRendering -lvtkImaging -lvtkGenericFiltering -lvtkFiltering -lvtkIO -lvtksys -lvtkfreetype -lvtkftgl -lvtkjpeg -lvtktiff -lvtkpng -lvtkexpat -lvtklibxml2 -lvtkzlib "
+vtk_libs="-lvtkCommon -lvtkGraphics -lvtkHybrid -lvtkRendering -lvtkImaging -lvtkGenericFiltering -lvtkFiltering -lvtkIO -lvtksys -lfreetype -lvtkftgl -ljpeg -ltiff -lpng -lexpat -llibxml2 -lz "
 frameworks = "-lGL "
 if sys.platform == "darwin":
     frameworks = "-framework OpenGL -framework AGL -framework SystemConfiguration -framework IOKit -framework Cocoa "
diff -ru visit3.2.2.orig/src/tools/examples/dataserver/CMakeLists.txt visit3.2.2/src/tools/examples/dataserver/CMakeLists.txt
--- visit3.2.2.orig/src/tools/examples/dataserver/CMakeLists.txt	2022-01-13 18:40:10.000000000 +0100
+++ visit3.2.2/src/tools/examples/dataserver/CMakeLists.txt	2022-03-04 15:06:13.823062953 +0100
@@ -37,9 +37,9 @@
 LINK_DIRECTORIES(${LIBRARY_OUTPUT_DIRECTORY})
 
 SET(VTK_EXTRA_LIBS
-vtktiff
-vtkjpeg
-vtkpng
+tiff
+jpeg
+png
 ${VTK_FREETYPE_LIBRARIES}
 )
 
diff -ru visit3.2.2.orig/src/tools/examples/mcurvit/CMakeLists.txt visit3.2.2/src/tools/examples/mcurvit/CMakeLists.txt
--- visit3.2.2.orig/src/tools/examples/mcurvit/CMakeLists.txt	2022-01-13 18:40:10.000000000 +0100
+++ visit3.2.2/src/tools/examples/mcurvit/CMakeLists.txt	2022-03-04 15:07:39.434442690 +0100
@@ -72,9 +72,9 @@
 )
 
 SET(VTK_EXTRA_LIBS
-vtktiff
-vtkjpeg
-vtkpng
+tiff
+jpeg
+png
 ${VTK_FREETYPE_LIBRARIES}
 )
 
diff -ru visit3.2.2.orig/src/viewer/main/CMakeLists.txt visit3.2.2/src/viewer/main/CMakeLists.txt
--- visit3.2.2.orig/src/viewer/main/CMakeLists.txt	2022-01-13 18:40:10.000000000 +0100
+++ visit3.2.2/src/viewer/main/CMakeLists.txt	2022-03-04 15:26:39.471365043 +0100
@@ -267,8 +267,8 @@
     ${viewer_exe_IPlot}
     ${viewer_exe_VPlot}
     viewer
-    vtkpng
-    vtkjpeg
+    png
+    jpeg
     ${VTK_FREETYPE_LIBRARIES}
 )
 
diff -ru visit3.2.2.orig/src/visit_vtk/full/CMakeLists.txt visit3.2.2/src/visit_vtk/full/CMakeLists.txt
--- visit3.2.2.orig/src/visit_vtk/full/CMakeLists.txt	2022-01-13 18:40:10.000000000 +0100
+++ visit3.2.2/src/visit_vtk/full/CMakeLists.txt	2022-03-04 15:07:51.742352386 +0100
@@ -119,7 +119,7 @@
 
 ADD_LIBRARY(visit_vtk ${VISIT_VTK_SOURCES})
 
-TARGET_LINK_LIBRARIES(visit_vtk lightweight_visit_vtk vtkCommonExecutionModel vtkCommonMisc vtkFiltersExtraction vtkFiltersFlowPaths vtkFiltersSources vtkImagingHybrid vtkIOImage vtktiff ${OPENEXR_LIB})
+TARGET_LINK_LIBRARIES(visit_vtk lightweight_visit_vtk vtkCommonExecutionModel vtkCommonMisc vtkFiltersExtraction vtkFiltersFlowPaths vtkFiltersSources vtkImagingHybrid vtkIOImage tiff ${OPENEXR_LIB})
 
 
 VISIT_INSTALL_TARGETS(visit_vtk)
