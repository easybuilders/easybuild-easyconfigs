# This easyconfig was created by Christian Meesters of the HPC team at the Johannes Gutenberg University of Mainz.
easyblock = 'Binary'

name = 'Varlociraptor'
version = "1.5.0"

homepage = 'https://varlociraptor.github.io/'
description = """Varlociraptor is a Flexible, uncertainty-aware variant calling program
with parameter free filtration via FDR control.

Key Features include:
- Calls SNVs and indels in all length ranges (from small to structural) with a unified statistical model.
- The statistical model entails all possible sources of uncertainty.
- Resulting variant calls can be filtered by false discovery rate. No parameter tuning necessary.
- Maximum a posteriori allele frequency estimates are provided with each call.
"""

toolchain = {'name': 'GCCcore', 'version': '8.3.0'}

source_urls = ['https://github.com/varlociraptor/varlociraptor/archive']
sources = ['v%(version)s.tar.gz']
checksums = []
builddependencies = [
    ('binutils', '2.32'),
    ('Rust', '1.37.0'),
    ('Clang', '9.0.1'),
    ('zlib', '1.2.11'),
    ('XZ', '5.2.4'),
]

dependencies = [
    ('GSL', '2.6'),
]

extract_sources = True

install_cmd = "cargo install --root %(installdir)s --path ."

sanity_check_paths = {
    'files': ['bin/%(namelower)s'],
    'dirs': [],
}

sanity_check_commands = ["%(namelower)s --help"]

moduleclass = 'bio'
