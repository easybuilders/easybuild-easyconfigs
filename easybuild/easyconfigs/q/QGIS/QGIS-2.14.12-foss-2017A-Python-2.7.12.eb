easyblock = 'CMakeMake'

name = 'QGIS'
version = '2.14.12'
versionsuffix = '-Python-%(pyver)s'

homepage = 'http://www.qgis.org/en/site/'

description = """
 A Free and Open Source Geographic Information System
"""

# http://qgis.org/downloads/qgis-latest.tar.bz2 - 2.18.4 as of 17feb2017
# http://qgis.org/downloads/qgis-latest-ltr.tar.bz2 - 2.14.2 as of 17feb2017
# download and rename according to version
source_urls = ['http://qgis.org/downloads/']
sources = [SOURCELOWER_TAR_BZ2]

toolchain = {'name': 'foss', 'version': '2017A'}
toolchainopts = {'pic': True, 'optarch': True,
                 'openmp': True, 'cstd': 'gnu++11'}

builddependencies = [
    ('expat', '2.2.0'),
]

dependencies = [
    ('GEOS', '3.5.0', '%s-bare' % versionsuffix),
    ('GDAL', '2.1.2', '%s-bare' % versionsuffix),
    ('GRASS', '7.2.0', versionsuffix),
    ('GSL', '2.3'),
    ('libspatialite', '4.3.0a', '%s-bare' % versionsuffix),
    ('PostgreSQL', '9.6.1', '%s-bare' % versionsuffix),
    ('PROJ', '4.9.3'),
    ('Python', '2.7.12'),
    ('PyQt', '4.12', '%s-bare' % versionsuffix),
    ('QCA', '2.1.0', '%s-bare' % versionsuffix),
    ('Qt', '4.8.7', '%s-bare' % versionsuffix),
    #('Qt5', '5.7.0', '%s-bare' % versionsuffix),
    ('SIP', '4.19', '%s-bare' % versionsuffix),
    ('SQLite', '3.15.2'),
]

osdependencies = [
    ('binutils'),
    ('bison'),
    ('cmake'),
    ('doxygen'),
]

moduleclass = 'geo'
