easyblock = 'Tarball'

name = 'InterProScan_data'
version = '5.77-108.0'

homepage = 'https://www.ebi.ac.uk/interpro/'
# also https://github.com/ebi-pf-team/interproscan
description = """InterProScan is a sequence analysis application (nucleotide and protein sequences) that combines
 different protein signature recognition methods into one resource [data only]."""

toolchain = SYSTEM

source_urls = ['https://ftp.ebi.ac.uk/pub/software/unix/iprscan/%(version_major)s/%(version)s/alt/']
sources = ['interproscan-data-%(version)s.tar.gz']
checksums = ['a607f8051bb45859fb43b3e2a2d2b18dbc4ecab5a0b66e3344ac0c760031545d']

unpack_options = '--strip-components=1'

sanity_check_paths = {
    'files': [],
    'dirs': [
        'antifam', 'cdd', 'gene3d', 'hamap', 'panther', 'pfam', 'phobius', 'pirsf',
        'pirsr', 'prints', 'prosite', 'sfld', 'smart', 'superfamily', 'tmhmm',
    ],
}

modextravars = {
    'INTERPROSCAN_DATA_DIR': '%(installdir)s',
    # the installed databases are all in the form: %(installdir)s/<name>/<version>
    # find /path/to/InterProScan_data/installdir -maxdepth 2 -mindepth 2 -type d \
    # -not -path "*/InterProScan_data/*/easybuild/*" -printf "%P\n" | sort
    'INTERPROSCAN_ANTIFAM': '8.0',
    'INTERPROSCAN_CDD': '3.21',
    'INTERPROSCAN_FUNFAM': '4.3.0',
    'INTERPROSCAN_GENE3D': '4.3.0',
    'INTERPROSCAN_HAMAP': '2025_01',
    'INTERPROSCAN_NCBIFAM': '18.0',
    'INTERPROSCAN_PANTHER': '19.0',
    'INTERPROSCAN_PFAM': '38.1',
    'INTERPROSCAN_PHOBIUS': '1.01',
    'INTERPROSCAN_PIRSF': '3.10',
    'INTERPROSCAN_PIRSR': '2025_05',
    'INTERPROSCAN_PRINTS': '42.0',
    'INTERPROSCAN_PROSITE': '2025_01',
    'INTERPROSCAN_SFLD': '4',
    'INTERPROSCAN_SMART': '9.0',
    'INTERPROSCAN_SUPERFAMILY': '1.75',
    'INTERPROSCAN_TMHMM': '2.0C',
}

moduleclass = 'bio'
