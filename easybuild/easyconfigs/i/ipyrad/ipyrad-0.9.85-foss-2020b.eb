easyblock = 'PythonPackage'

name = 'ipyrad'
version = '0.9.85'

homepage = 'https://ipyrad.readthedocs.io'
description = """ipyrad is an interactive toolkit for assembly and analysis of
restriction-site associated genomic data sets (e.g., RAD, ddRAD, GBS) for
population genetic and phylogenetic studies."""

toolchain = {'name': 'foss', 'version': '2020b'}

source_urls = ['https://github.com/dereneaton/ipyrad/archive/']
sources = ['%(version)s.tar.gz']
checksums = ['17b07466531655db878919e426743ac649cfab2e92c06c4e45f76ee1517633f9']

dependencies = [
    ('Python', '3.8.6'),
    ('BEDTools', '2.30.0'),
    ('BWA', '0.7.17'),
    ('cutadapt', '3.4'),
    ('h5py', '3.1.0'),
    ('ipyparallel', '8.2.1'),
    ('MUSCLE', '3.8.31'),
    ('numba', '0.53.1'),
    ('Pysam', '0.16.0.1'),
    ('SAMtools', '1.11'),
    ('SciPy-bundle', '2020.11'),
    ('VSEARCH', '2.18.0'),
]

use_pip = True
sanity_pip_check = True
download_dep_fail = True

sanity_check_commands = ["ipyrad --help"]

moduleclass = 'bio'
