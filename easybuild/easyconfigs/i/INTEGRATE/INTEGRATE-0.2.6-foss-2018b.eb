easyblock = 'CMakeMake'

name = 'INTEGRATE'
version = '0.2.6'

homepage = "https://sourceforge.net/p/integrate-fusion/wiki/Home/"
description = """\
 INTEGRATE is a tool calling gene fusions with exact fusion junctions and genomic breakpoints by combining RNA-Seq
 and WGS data. It is highly sensitive and accurate by applying a fast split-read mapping algorithm based on
 Burrow-Wheeler transform. """

toolchain = {'name': 'foss', 'version': '2018b'}

source_urls = ['https://download.sourceforge.net/integrate-fusion/']
sources = ['%(name)s.%(version)s.tar.gz']
checksums = ['b65b14432b7184900d1f777f96fa73f4d0dffda4418936e8334613d6aa876e38']

builddependencies = [
    ('CMake', '3.12.1')
]

separate_build_dir = True

parallel = 1

skipsteps = ['install']

postinstallcmds = [
    'cp -r bin %(installdir)s/',
    'cp -r vendor/divsufsort/lib %(installdir)s/',
    'cp -r vendor/divsufsort/include %(installdir)s/',
]

sanity_check_paths = {
    'files': ['bin/Integrate'],
    'dirs': [''],
}

moduleclass = 'bio'
