# Updated to version 3.17
# Author: J. Saßmannshausen (Imperial College London/UK)

easyblock = 'MakeCp'

name = 'IGMPlot'
version = '3.17'

homepage = 'http://igmplot.univ-reims.fr'
description = """IGMPlot is a free open-source program developed to identify
molecular interactions and prepare data to build 2D and 3D representations
of them in the molecular environment."""

citing = """
C. Lefebvre, J. Klein, H. Khartabil, J.-C. Boisson, E. Hénon
J. Comp. Chem 2023, 44(20), 1750-1766
doi: https://doi.org/10.1002/jcc.27123
"""

toolchain = {'name': 'GCC', 'version': '14.2.0'}
toolchainopts = {'openmp': True}

source_urls = ['http://igmplot.univ-reims.fr/download/']
sources = ['IGMPlot-%(version)s.zip']
checksums = ['3fb76c80f60c84b3b2d15d32189b3eea1083937b641afbb47c251f576d9efd29']

start_dir = 'source'

buildopts = 'CC="$CXX" CFLAGS="$CXXFLAGS -I src/include" '

files_to_copy = [
    (['source/IGMPLOT'], 'bin'),
    ('samples'),
    (['../DOC_3.17/Doc.pdf'], 'shared'),
]

sanity_check_paths = {
    'files': ['bin/IGMPLOT'],
    'dirs': [],
}

sanity_check_commands = [f"cd %(builddir)s/{name}-{version}/samples/01_example/test01 && IGMPLOT param.igm"]

moduleclass = 'chem'
