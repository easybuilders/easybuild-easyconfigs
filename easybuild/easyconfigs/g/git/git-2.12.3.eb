# This is an easyconfig file for EasyBuild, see https://github.com/hpcugent/easybuild
# Author: Daniel D. Kinnamon
# Division of Human Genetics
# The Ohio State University Wexner Medical Center

easyblock = 'ConfigureMake'

name = 'git'
version = '2.12.3'

homepage = 'http://git-scm.com/'
description = """Git is a free and open source distributed version
control system designed to handle everything from small to very large
projects with speed and efficiency."""

toolchain = {'name': 'dummy', 'version': ''}

sources = ['v%(version)s.tar.gz']
source_urls = ['https://github.com/git/git/archive']

osdependencies = [('curl', 'expat', 'gettext', 'openssh', 'openssl', 'perl', 'zlib')]
builddependencies = [
    ('asciidoc', '8.6.9')
]

preconfigopts = 'make configure && '
buildopts = 'all man'
installopts = 'install-man'

sanity_check_paths = {
    'files': ['bin/git'],
    'dirs': ['bin', 'share/man']
}

sanity_check_commands = ['git --version', 'man git']

moduleclass = 'tools'
