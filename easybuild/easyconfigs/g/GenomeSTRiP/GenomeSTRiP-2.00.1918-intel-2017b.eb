#
# Author: Fenglai Liu
# fenglai@accre.vanderbilt.edu
# Vanderbilt University
#
easyblock = 'Tarball'

name = 'GenomeSTRiP'
version = '2.00.1918'

homepage = 'http://software.broadinstitute.org/software/genomestrip/'
description = """Genome STRiP (Genome STRucture In Populations) is a suite 
of tools for discovering and genotyping structural variations using sequencing 
data. The methods are designed to detect shared variation using data from multiple 
individuals. Genome STRiP looks both across and within a set of sequenced genomes 
to detect variation. The methods are adaptive and support heterogeneous data sets, 
including variations in sequencing depth, read lengths and mixtures of paired and 
single-end reads. A minimum of 20 to 30 genomes are required to get acceptable results, 
but the method gains power across genomes and processing more genomes provide better results."""

toolchain = {'name': 'intel', 'version': '2017b'}

# Register and download the installation archive at:
# http://software.broadinstitute.org/software/genomestrip/download-genome-strip
sources = ['svtoolkit_%(version)s.tar.gz']
checksums = ['4cde75a0525bc9a77b14ea48a034def32b4ec59bff6f2b70f9dde4abe0e3494e']

# picard, GATK and BWA dependencies are self-contained in Genome STRiP
dependencies = [
    ('Java', '1.8', '', True),
    ('zlib', '1.2.11'),
    ('R', '3.4.3', '-X11-20171023'),
    ('SAMtools', '1.6'),
    ('tabix', '0.2.6')
]

sanity_check_paths = {
    'files': ['bwa/bwa', 'installtest/discovery.sh', 'lib/SVToolkit.jar'],
    'dirs': ['conf', 'cookbook', 'doc', 'installtest', 'misc', 'qscript', 'R', 'scripts', 'wdl']
}

modextravars = {'SV_DIR': '%(installdir)s'}

moduleclass = 'bio'
