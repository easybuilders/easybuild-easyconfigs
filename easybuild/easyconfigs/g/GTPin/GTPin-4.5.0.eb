easyblock = 'Tarball'

name = 'GTPin'
version = '4.5.0'

homepage = 'https://www.intel.com/content/www/us/en/developer/articles/tool/gtpin.html'
description = 'GTPin is a dynamic binary instrumentation framework for GEN (IntelÂ® Graphics) Architecture.'

toolchain = SYSTEM

sources = ['external-release-gtpin-%(version)s-linux.tar.xz']
checksums = ['fd70374819eb15876c908dd9816ee2af9c5c9301614cd8e70d45c504a2ba6e98']

download_instructions = f"Accept and download from {homepage}"

sanity_check_paths = {
    'files': ['Bin/gtpin', 'Lib/intel64/libgtpin.so'],
    'dirs': [],
}

sanity_check_commands = ['gtpin -h']

# Note: there is no need to specify PATH as GTKPin expects users to use full paths based on $GTKPIN_KIT
# in all their examples
modextravars = {'GTKPIN_KIT': '%(installdir)s'}

moduleclass = 'tools'
