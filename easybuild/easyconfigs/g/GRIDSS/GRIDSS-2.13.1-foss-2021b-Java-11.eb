easyblock = 'Tarball'

name = 'GRIDSS'
version = '2.13.1'
versionsuffix = '-Java-%(javaver)s'

homepage = 'https://github.com/PapenfussLab/gridss'
description = """GRIDSS is a module software suite containing tools useful for the detection of genomic rearrangements.
GRIDSS includes a genome-wide break-end assembler, as well as a structural variation caller for Illumina sequencing
data. GRIDSS calls variants based on alignment-guided positional de Bruijn graph genome-wide break-end assembly, split
read, and read pair evidence."""

toolchain = {'name': 'foss', 'version': '2021b'}

github_account = 'PapenfussLab'
source_urls = ['https://github.com/%(github_account)s/%(namelower)s/releases/download/v%(version)s/']
sources = [SOURCELOWER_TAR_GZ]
checksums = ['f67ee7d2ebc823109edca047de67458c792f314a2a8c101abef5df19b7d03b2b']

modextrapaths = {'PATH': ''}

modextravars = {'GRIDSS_JAR': '%(installdir)s/gridss-2.13.1-gridss-jar-with-dependencies.jar'}

dependencies = [
    ('Java', '11', '', True),
    ('R', '4.1.2'),
    ('SAMtools', '1.14'),
    ('BWA', '0.7.17'),
]

sanity_check_commands = ['gridss; [[ $? = 64 ]]']

sanity_check_paths = {
    'files': ['gridss', 'gridss-2.13.1-gridss-jar-with-dependencies.jar', 'gridsstools', 'libgridss.R'],
    'dirs': [],
}

moduleclass = 'bio'
