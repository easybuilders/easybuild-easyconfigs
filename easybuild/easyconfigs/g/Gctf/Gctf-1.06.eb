easyblock = 'MakeCp'

name = 'Gctf'
version = '1.06'

homepage = 'https://www.mrc-lmb.cam.ac.uk/kzhang/'
description = """Gctf: real-time CTF determination and correction, Kai Zhang, 2016"""

toolchain = {'name': 'dummy', 'version': ''}
toolchainopts = {'openmp': True}

source_urls = ['http://www.mrc-lmb.cam.ac.uk/kzhang/Gctf/']
sources = [
    '%(name)s_v%(version)s_and_examples.tar.gz',
]
patches = [('Gctf-wrapper.sh', '.')]

skipsteps = ['build']

files_to_copy = [
    (['bin/Gctf-v1.06_sm_30_cu8.0_x86_64', 'Gctf-wrapper.sh'], 'bin'),
]

postinstallcmds = [
    'ln -s Gctf-wrapper.sh %(installdir)s/bin/Gctf',
]

sanity_check_paths = {
    'files': ['bin/Gctf-v1.06_sm_30_cu8.0_x86_64', 'bin/Gctf'],
    'dirs': []
}

moduleclass = 'bio'
