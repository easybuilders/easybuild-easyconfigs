easyblock = 'PackedBinary'

name = 'Gctf'
version = '1.06'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://www.mrc-lmb.cam.ac.uk/kzhang/'
description = """Gctf is a tool for real-time CTF determination and correction."""

toolchain = SYSTEM

source_urls = ['https://www2.mrc-lmb.cam.ac.uk/download/gctf_v1-06-and-examples/'
               '?wpdmdl=17948&refresh=65aa9ffe8c73a1705680894&ind=1588080936085&filename=']
sources = ['%(name)s_v%(version)s_and_examples.tar.gz']

checksums = ['bfb6305f36571f895402bb22a2e8c6c5c4f13e28d3354ff8fe101ec25b351d77']

builddependencies = [
    ('CUDA', '12.1.1', '', True),
]

local_bin_sm_20 = "bin/%(name)s-v%(version)s_sm_20_cu8.0_x86_64"
local_bin_sm_30 = "bin/%(name)s-v%(version)s_sm_30_cu8.0_x86_64"

sanity_check_paths = {
    'files': ['%s' % local_bin_sm_20,
              '%s' % local_bin_sm_30],
    'dirs': ['bin'],
}

moduleclass = 'bio'
