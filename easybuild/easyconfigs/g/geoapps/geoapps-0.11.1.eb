# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     María José Benitez <majo.benitez@hpcnow.com>; Jonney Huang <jonney.huang@hpcnow.com>
# License::     GPL-v3.0
# #

easyblock = 'CondaLock'

name = 'geoapps'
version = '0.11.1'

homepage = 'https://mirageoscience.com/'
description = """The geoapps project has been created by Mira Geoscience for the development 
and sharing of open-source applications in geoscience."""

source_urls = ['https://github.com/MiraGeoscience/geoapps/blob/main/']
sources = ['py-3.10.conda-lock.yml']
checksums = ['b66274b4474375166270b86d87703c33c7864509248a38317a26ff9ab25c3770']

toolchain = SYSTEM

channels = ['conda-forge']

builddependencies = [('Miniforge3', '24.1.2-0')]

environment_file = 'py-3.10.conda-lock.yml'

postinstallcmds = [
    "source $EBROOTMINIFORGE3/etc/profile.d/conda.sh  && "
    "conda activate %(installdir)s  && "
    "pip install --ignore-installed --no-deps --prefix=%(installdir)s %(name)s==%(version)s ",
]

moduleclass = 'geo'
