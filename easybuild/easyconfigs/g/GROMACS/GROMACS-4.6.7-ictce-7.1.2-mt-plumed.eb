name = 'GROMACS'
version = '4.6.7'
versionsuffix = '-mt-plumed'

homepage = 'http://www.gromacs.org'
description = """GROMACS is a versatile package to perform molecular dynamics,
 i.e. simulate the Newtonian equations of motion for systems with hundreds to millions of particles."""

toolchain = {'name': 'ictce', 'version': '7.1.2'}
toolchainopts = {'openmp': True, 'usempi': False}

# eg. ftp://ftp.gromacs.org/pub/gromacs/gromacs-4.6.tar.gz
source_urls = [
    'ftp://ftp.gromacs.org/pub/gromacs/',  # GROMACS sources
    'http://gerrit.gromacs.org/download/',  # regression tests sources
]
sources = [
    SOURCELOWER_TAR_GZ,
#    The regressiontests seem to have disappeared...
#    'regressiontests-%(version)s.tar.gz',
]

# this patch is not general, it was autogenerated by plumed.
# if you want to do this, install plumed but keep the build
# directory. Use the patching system in the plumed source
# to get a patched GROMACS sources, after that, generate a patch
# and use it here...
# This is very dirty. 
# In the ideal world, plumed would be build alongside GROMACS
# and the patching would be handled by a nice easyblock.
# This is for 'If I ever find the time...'
# by wpoely86@gmail.com
patches = ['GROMACS-%(version)s.patch']

builddependencies = [
    ('CMake', '2.8.12'),
    ('libxml2', '2.9.1')
]

dependencies = [
    ('Boost', '1.55.0', '-Python-2.7.8'),
    ('GSL', '1.16'),
    ('plumed', '2.0.4'),
]

moduleclass = 'bio'
