# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     Erica Bianco <erica.bianco@hpcnow.com>
# License::     GPL-v3.0
# #
easyblock = "BinariesTarball"

name = "Gautomatch"
version = "0.56"

cuda_ver = '10.1.243-GCC-8.3.0'
versionsuffix = '-CUDA-%s' % cuda_ver

homepage = "https://www.mrc-lmb.cam.ac.uk/kzhang/"
description = """Fully automatic accurate, convenient and extremely fast particle picking for EM"""

toolchain = {'name': 'GCC', 'version': '8.3.0'}

source_urls = [('http://scipion.cnb.csic.es/downloads/scipion/software/em')]
sources = ['%(namelower)s_v%(version)s.tgz']
checksums = ['f975fc2837222d88571851343663cf91acf83a7a04bec7f758a9aae910a6389f']

# https://www.mrc-lmb.cam.ac.uk/kzhang/Gautomatch/Gautomatch_v0.56/Gautomatch_v0.56_sm60_cu8.0
# http://scipion.cnb.csic.es/downloads/scipion/software/em/gautomatch_v0.56.tgz

dependencies = [
    ('CUDA', cuda_ver),
]

sanity_check_paths = {
    'files': ['%(installdir)s/bin/Gautomatch_v0.56_sm30-75_cu10.1'],
    'dirs': [],
}

tests = ['%(installdir)s/bin/Gautomatch_v0.56_sm30-75_cu10.1']

moduleclass = 'bio'
