easyblock = 'MesonNinja'

name = 'gtkmm4'
version = '4.20.0'  # note: even minor versions are stable

homepage = 'https://gtkmm.gnome.org'
description = 'gtkmm is the official C++ interface for the popular GUI library GTK.'

toolchain = {'name': 'GCCcore', 'version': '14.3.0'}

source_urls = ['https://download.gnome.org/sources/gtkmm/%(version_major_minor)s/']
sources = ['gtkmm-%(version)s.tar.xz']
checksums = ['daad9bf9b70f90975f91781fc7a656c923a91374261f576c883cd3aebd59c833']

builddependencies = [
    ('binutils', '2.44'),
    ('Meson', '1.8.2'),
    ('Ninja', '1.13.0'),
    ('mm-common', '1.0.7'),
]

dependencies = [
    ('GTK4', '4.20.2'),
    ('libsigc++', '3.8.0'),
    ('cairomm', '1.19.0'),
    ('pangomm', '2.56.1'),
]

configopts = ' '.join([
    '-Ddefault_library=both',
    '-Dbuild-tests=false',
    '-Dbuild-demos=false',
])

sanity_check_paths = {
    'files': [f'lib/libgtkmm-4.0.{SHLIB_EXT}', 'lib/libgtkmm-4.0.a'],
    'dirs': ['include'],
}

moduleclass = 'lib'
