easyblock = 'MakeCp'

name = '6S'
# Note that the 'V' in the version number stands for vector, not version.
version = 'V2.1'

homepage = 'http://6s.ltdri.org/'
description = """The 6S code is a basic RT code used for calculation of lookup
 tables in the MODIS atmospheric correction algorithm. It enables accurate
 simulations of satellite and plane observation, accounting for elevated targets,
 use of anisotropic and lambertian surfaces and calculation of gaseous
 absorption."""

toolchain = {'name': 'foss', 'version': '2015a'}
toolchainopts = {'optarch': True}

source_urls = ['http://6s.ltdri.org/files/update/']
sources = ['%(name)s%(version)s.tar'] 

# The developers have prepared 6S as a tarbomb. Put a prefix in front.
unpack_options = "--transform='s,^,%(name)s-%(version)s%(versionsuffix)s/,'"

files_to_copy = [(['sixs%(version)s', 'sixs%(version)s-lutaero'], 'bin')]

sanity_check_paths = {
    'files': ["bin/sixs%(version)s", "bin/sixs%(version)s-lutaero"],
    'dirs': [],
}

moduleclass = 'geo'
