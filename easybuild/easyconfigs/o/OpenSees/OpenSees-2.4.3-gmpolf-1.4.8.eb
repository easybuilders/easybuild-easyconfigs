##
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
#
#@author: Bart Verleye (the University of Auckland)
##

name = 'OpenSees'
version = '2.4.3'

homepage = 'http://opensees.berkeley.edu'
description = """OpenSees is a software framework for developing applications
to simulate the performance of structural and geotechnical systems subjected to earthquakes."""

toolchain = {'name': 'gmpolf', 'version': '1.4.8'}

#Download the source:
#svn co -r 5621 svn://opensees.berkeley.edu/usr/local/svn/OpenSees/trunk OpenSees
#tar cfvz OpenSees-2.4.3.tar.gz OpenSees
#
sources = [SOURCE_TAR_GZ]
dependencies = [
    ('Tcl', '8.5.12'),
    ('ParMETIS','3.2.0'),
    ('MUMPS','4.10.0','-parmetis'),
    ('SCOTCH','6.0.0_esmumps'),
    ('BLACS','1.1')
]


files_to_copy = ["bin"]

sanity_check_paths = {
    'files': ["bin/OpenSeesMP","bin/OpenSeesSP"],
    'dirs': [],
    }

# Installation uses Tcl which forks itself, parallel installation with EB does not work.
parallel = 1

moduleclass = 'tools'
