# easybuild

easyblock = 'MakeCp'

name = 'OpenLB'
version = '1.4-0'

homepage = 'http://www.openlb.net'
description = """The OpenLB project provides a C++ package for the implementation of lattice Boltzmann methods that is 
general enough to address a vast range of tansport problems, e.g. in computational fluid dynamics."""

# toolchain name should be 'TEMPLATE' if this is a template, so EasyBuild knows and is willing to use it as a template
toolchain = {'name': 'GCCcore', 'version': '10.3.0'}
#toolchainopts = {}  # toolchain options, e.g. opt, pic, usempi, optarch, ...

# For sources line to work correctly with --try-software-version, you MUST employ %s OR use a construct like SOURCE_TAR_GZ
source_urls = ['https://www.openlb.net/wp-content/uploads/2020/11/']
sources = ['olb-1.4r0.tgz']
patches = []
checksums = ['bf8be44e5e832a93d9d7bd18ba3a866e84c7dc213eff3d2cd68fd059e463675e']

dependencies = []

files_to_copy = ['build', 'doc', 'examples', 'src']

build_cmd = "make && make samples"

# The sanity test MUST be tuned before going production and submitting your contribution to upstream git repositories
sanity_check_paths = {
    'files': ['examples/laminar/cylinder2d/cylinder2d'],
    'dirs': ["."]
}


sanity_check_commands = [
    "./examples/laminar/cylinder2d/cylinder2d",
]
# You SHOULD change the following line; Kindly consult other easyconfigs for possible options
moduleclass = 'base'
