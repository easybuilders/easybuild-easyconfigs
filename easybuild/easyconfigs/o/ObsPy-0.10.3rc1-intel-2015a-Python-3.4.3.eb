# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Jordi Blasco <jordi.blasco@nesi.org.nz>
# New Zealand eScience Infrastructure (NeSI)
easyblock = "PythonPackage"

name = 'ObsPy'
version = '0.10.3rc1'

homepage = 'https://github.com/obspy/obspy/wiki'
description = """ObsPy is an open-source project dedicated to provide a Python framework for processing 
seismological data. It provides parsers for common file formats, clients to access data centers and
seismological signal processing routines which allow the manipulation of seismological time series."""

toolchain = {'name': 'intel', 'version': '2015a'}

sources = ['%(version)s.tar.gz']
source_urls = ['https://github.com/obspy/obspy/archive/']

python = "Python"
pythonversion = '3.4.3'
pyshortver = ".".join(pythonversion.split(".")[:-1])

versionsuffix = "-%s-%s" % (python, pythonversion)

dependencies = [
    (python, pythonversion),
    ('joblib', '0.8.4', '-Python-3.4.3'),
]

pyprefix = 'lib/python%s/site-packages' % pyshortver
eggname = 'obspy-%%(version)s-py%s.egg' % pyshortver
sanity_check_paths = {
    'files': ['bin/%s' % x for x in ['futurize', 'nosetests', 'nosetests-3.4', 'obspy-dataless2resp', 'obspy-dataless2xseed', 
              'obspy-flinn-engdahl', 'obspy-indexer', 'obspy-mopad', 'obspy-mseed-recordanalyzer', 'obspy-plot', 
              'obspy-print', 'obspy-reftek-rescue', 'obspy-runtests', 'obspy-scan', 'obspy-xseed2dataless', 'pasteurize']],
    'dirs': [],
}

moduleclass = 'geo'
