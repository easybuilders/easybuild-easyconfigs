easyblock = 'PythonBundle'

name = 'octave-kernel'
version = '0.36.0'

homepage = 'https://github.com/Calysto/octave_kernel'
description = """An Octave kernel for IPython."""

toolchain = {'name': 'foss', 'version': '2023a'}

dependencies = [
    ('Python', '3.11.3'),
    ('IPython', '8.14.0'),
    ('jupyter-server', '2.7.2'),
    ('metakernel', '0.30.4'),
    ('Octave', '10.1.0'),
]

exts_list = [
    (name, version, {
        'checksums': ['925882f8915c86ed75b6db8e1341deed980dba0be73bf07365d3ea08961a1ddb'],
    }),
]

modextrapaths = {
    'JUPYTER_PATH': 'share/jupyter',
    'JUPYTER_CONFIG_PATH': 'etc/jupyter',
}

sanity_check_commands = [
    # Check that jupyter can find the kernel for octave
    'jupyter kernelspec list 2>/dev/null | grep octave; echo $?'
]

moduleclass = 'tools'
