easyblock = 'PythonPackage'

name = 'cryolo'
version = '1.9.9'

homepage = 'https://cryolo.readthedocs.io/'

description = """an application for fast and accurate cryo-EM particle picking. 
Itâ€™s based on convolutional neural networks and utilizes the popular You Only Look Once (YOLO) object detection system."""

toolchain = {'name': 'foss', 'version': '2022a'}

# this is a bundle of Python packages
exts_defaultclass = 'PythonPackage'

dependencies = [
    ('Python', '3.8.10'),
    ('LibTIFF', '4.3.0'),
    ('GTK3', '3.24.33'),
]

multi_deps_load_default = False
installopts = '--no-index'
sources = ['requirements-%(version)s.txt']
patches = ['fix_cryolo_gui_no_attribute_version.patch']
checksums = [
    'c1d6b4161875fbe7553578c5d1eebc58db8a5977c9db488c0ef9e6fbc3b75f6a',
    'f3bc9feb225293d2608c40c9a33c8d1177c1243f610acb18f16ad1bc4e500382'
]


unpack_sources = False
use_pip = True
use_pip_for_deps = True
use_pip_requirement = True
fix_python_shebang_for = ['bin/*']
sanity_pip_check = True

moduleclass = 'lib'
