easyblock = 'PythonBundle'

name = 'CellRank'
version = '1.5.1'

homepage = 'https://cellrank.readthedocs.io/en/stable/'
description = """CellRank is a toolkit to uncover cellular dynamics based on
 Markov state modeling of single-cell data.  It contains two main modules:
kernels compute cell-cell transition probabilities and estimators generate
hypothesis based on these. """

toolchain = {'name': 'foss', 'version': '2021a'}

dependencies = [
    ('Python', '3.9.5'),
    ('PETSc', '3.15.1'),
    ('petsc4py', '3.15.0'),
    ('SLEPc', '3.15.1'),
    ('slepc4py', '3.15.1'),
    ('scikit-learn', '0.24.2'),
    ('scVelo', '0.2.4'),
    ('typing-extensions', '3.10.0.0'),
]

use_pip = True

exts_list = [
    ('docrep', '0.3.2', {
        'checksums': ['ed8a17e201abd829ef8da78a0b6f4d51fb99a4cbd0554adbed3309297f964314'],
    }),
    ('python-utils', '3.2.2', {
        'checksums': ['63a2ad8d36c6432978833a77cfa7d310af9bbfa9e837dcf828aac584d71f9ded'],
    }),
    ('progressbar2', '3.55.0', {
        'modulename': 'progressbar',
        'checksums': ['86835d1f1a9317ab41aeb1da5e4184975e2306586839d66daf63067c102f8f04'],
    }),
    ('pygam', '0.8.0', {
        'checksums': ['5cae01aea8b2fede72a6da0aba1490213af54b3476745666af26bbe700479166'],
    }),
    ('joblib', '1.1.0', {
        'checksums': ['4158fcecd13733f8be669be0683b96ebdbbd38d23559f54dca7205aea1bf1e35'],
    }),
    ('pygpcca', '1.0.3', {
        'checksums': ['af801d52d1653c1978a82cf98b2d8b208a295f7c461a4e58866da8d4ca94c80e'],
    }),
    ('wrapt', '1.14.1', {
        'checksums': ['380a85cf89e0e69b7cfbe2ea9f765f004ff419f34194018a6827ac0e3edfed4d'],
    }),
    (name, version, {
        'modulename': 'cellrank',
        'source_tmpl': '%(namelower)s-%(version)s.tar.gz',
        'use_pip_extras': 'krylov',
        'checksums': ['4f07d87726c621d4d600650b650df376a0aa948141b0c6d4e028f2e0c37c65dd'],
    }),
]

sanity_pip_check = True

sanity_check_commands = ["python -c 'import cellrank as cr'"]

moduleclass = 'bio'
