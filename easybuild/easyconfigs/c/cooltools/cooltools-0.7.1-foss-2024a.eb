easyblock = 'PythonBundle'

name = 'cooltools'
version = '0.7.1'

homepage = 'https://cooltools.readthedocs.io/en/latest/index.html'
description = """cooltools provides a suite of computational tools with a paired python API and
 command line access, which facilitates workflows either on high-performance
 computing clusters or via custom analysis notebooks. As part of the Open2C
 ecosystem, cooltools also provides detailed introductions to key concepts in
 Hi-C-data analysis with interactive notebook documentation."""

toolchain = {'name': 'foss', 'version': '2024a'}

builddependencies = [
    ('Cython', '3.0.10'),
]

dependencies = [
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('matplotlib', '3.9.2'),
    ('scikit-image', '0.25.0'),
    ('scikit-learn', '1.5.2'),
    ('numba', '0.60.0'),
    ('hatchling', '1.24.2'),
    ('h5py', '3.12.1'),
    ('multiprocess', '0.70.17'),
    ('pyfaidx', '0.8.1.3'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('asciitree', '0.3.3', {
        'checksums': ['4aa4b9b649f85e3fcb343363d97564aa1fb62e249677f2e18a96765145cc0f6e'],
    }),
    ('bioframe', '0.7.2', {
        'checksums': ['23fa150948fb1f9409a8d608c94f222fd2e144c8f1ac965879517d5e87d2c598'],
    }),
    ('cooler', '0.10.3', {
        'checksums': ['710319e894c80a81d4df89d2f52750ec0d68c0d91286bc06ffb9d61fc49e435a'],
    }),
    ('cytoolz', '1.0.1', {
        'checksums': ['89cc3161b89e1bb3ed7636f74ed2e55984fd35516904fc878cae216e42b2c7d6'],
    }),
    (name, version, {
        'checksums': ['1f12494add7b1271b71e418d10d060e1dac906a021fc2bd691e91f5599010051'],
    }),
]

sanity_check_paths = {
    'files': ['bin/cooler', 'bin/cooltools', ],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = [
    "cooltools --help",
]

moduleclass = 'bio'
