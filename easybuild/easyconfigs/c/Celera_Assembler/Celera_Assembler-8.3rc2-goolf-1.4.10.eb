# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# sciCORE - University of Basel
# Swiss Institute of Bioinformatics (SIB)

easyblock = 'MakeCp'

name = 'Celera_Assembler'
version = '8.3rc2'

homepage = 'http://wgs-assembler.sourceforge.net/'
description = """ Celera Assembler is a de novo whole-genome shotgun (WGS) DNA 
 sequence assembler. It reconstructs long sequences of genomic DNA from fragmentary 
 data produced by whole-genome shotgun sequencing. """

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = [('http://sourceforge.net/projects/wgs-assembler/files/wgs-assembler/wgs-%(version)s/', 'download')]
sources = ['wgs-%(version)s.tar.bz2']

parallel = 1

python = 'Python'
pyver = '2.7.5'
versionsuffix = "-%s-%s" % (python, pyver)

dependencies = [
    (python, pyver),
]

prebuildopts = 'cd kmer && make install && cd .. && '
prebuildopts += 'cd src && '

files_to_copy = ["*"]

sanity_check_paths = {
    'files': ["Linux-amd64/bin/runCA"],
    'dirs': [],
}

modextrapaths = {
    'PATH': 'Linux-amd64/bin',
    'LD_LIBRARY_PATH': 'Linux-amd64/lib'
}

moduleclass = 'bio'
