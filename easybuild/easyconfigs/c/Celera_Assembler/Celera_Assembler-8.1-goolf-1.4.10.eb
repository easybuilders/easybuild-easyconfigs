# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = 'Celera_Assembler'
version = '8.1'

homepage = 'http://wgs-assembler.sourceforge.net/'
description = """ Celera Assembler is a de novo whole-genome shotgun (WGS) DNA 
 sequence assembler. It reconstructs long sequences of genomic DNA from fragmentary 
 data produced by whole-genome shotgun sequencing. """

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = [('http://sourceforge.net/projects/wgs-assembler/files/wgs-assembler/wgs-%(version)s/', 'download')]
sources = ['wgs-%(version)s.tar.bz2']

dependencies = [('bzip2', '1.0.6')]

parallel = 1

premakeopts = 'cd kmer && make install && cd .. && '
premakeopts += 'cd samtools && make && cd .. && '
premakeopts += 'cd src && '

files_to_copy = ["Linux-amd64/*"]
        
sanity_check_paths = {
    'files': ["bin/%s" % x for x in ["bogus", "convert-fasta-to-v2.pl", "fastqAnalyze", "markUniqueUnique",
                                     "pacBioToCA", "uidclient"]],
    'dirs': ["lib"],
}

moduleclass = 'bio'

