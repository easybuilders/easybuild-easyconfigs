easyblock = 'CMakeMake'

name = 'cnpy'
version = '20180601'
local_commit = '4e8810b'

homepage = 'https://github.com/rogersce/cnpy'
description = "Library to read/write .npy and .npz files in C/C++"

toolchain = {'name': 'GCCcore', 'version': '12.3.0'}

source_urls = ['https://github.com/rogersce/cnpy/archive/']
sources = [{'download_filename': '%s.tar.gz' % local_commit, 'filename': SOURCE_TAR_GZ}]
checksums = ['5120abc54a564efa92c642cc0199cc4fd3f345901157de9fbbdcedbb34d28d8a']

builddependencies = [
    ('binutils', '2.40'),
    ('CMake', '3.26.3'),
]

dependencies = [
    ('zlib', '1.2.13'),
]

sanity_check_paths = {
    'files': [
        'bin/mat2npz', 'bin/npy2mat', 'bin/npz2mat',
        'lib/libcnpy.a', 'lib/libcnpy.so', 'include/cnpy.h',
    ],
    'dirs': [],
}

moduleclass = 'lib'
