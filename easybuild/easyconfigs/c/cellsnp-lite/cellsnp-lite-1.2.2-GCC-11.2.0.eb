easyblock = 'ConfigureMake'
name = 'cellsnp-lite'
version = '1.2.2'

homepage = 'https://github.com/single-cell-genetics/cellsnp-lite'
description = """cellsnp-lite aims to pileup the expressed alleles in single-cell or bulk RNA-seq data. cellsnp-lite is
the C version of cellSNP (https://github.com/single-cell-genetics/cellSNP)."""

toolchain = {'name': 'GCC', 'version': '11.2.0'}

github_account = 'single-cell-genetics'
source_urls = [GITHUB_SOURCE]
sources = ['v%(version)s.tar.gz']
checksums = ['65ea054b0ebf6e22b5b94ec940b7cd3ba800535009870439bc51fcc7d28a3359']

dependencies = [
    ('HTSlib', '1.14'),
    ('zlib','1.2.11')
]

# custom options to ConfigureMake
buildopts = 'htslibdir=$EBROOTHTSLIB '

# sanity checks
sanity_check_paths = {
    'files': ['bin/cellsnp-lite'],
    'dirs': ['bin'],
}

sanity_check_commands = [
    'cellsnp-lite -h 2>&1 | grep -e \'Usage:[ ]*cellsnp-lite\'',
]

moduleclass = 'bio'
