# Contribution from the Crick HPC team
# uploaded by J. Sassmannshausen

easyblock = 'MakeCp'

name = 'cytosim'
github_account = 'nedelec'
# version = 'v3.0'
version = 'master-20190117'

homepage = 'https://github.com/nedelec/cytosim'
description = """Cytosim is a cytoskeleton simulation engine written in 
C++ working on Mac OS, GNU/Linux and Windows (with Cygwin)."""

toolchain = {'name': 'foss', 'version': '2018b'}

source_urls = [GITHUB_SOURCE]
sources = ['3ecab25.tar.gz']

checksums = [
    'c5209ec9761902769299ad666d621dc3c169f8f73cce6799a99087be259fd246',  # 3ecab25.tar.gz
    '6c34fef5fe34274d4e7c40fc5acbaa1a0dd8bc6468ea1b6c42ab7d0e4c90ba5f',  # openblas-png.patch
]

# fix makefile.inc so it is using OpenBLAS and PNG
patches = ['openblas-png.patch']

dependencies = [
    ('freeglut', '3.0.0'),
    ('glew', '2.1.0'),
]

files_to_copy = ['bin', ]

sanity_check_paths = {
    'files': ['bin/play', 'bin/report', 'bin/sim', ],
    'dirs': ['', ]
}

moduleclass = 'bio'
