easyblock = 'PythonBundle'

name = 'cf-units'
version = '3.3.0'

homepage = 'https://cf-units.readthedocs.io'
description = "Units of measure as required by the Climate and Forecast (CF) Metadata Conventions"

toolchain = {'name': 'gfbf', 'version': '2024a'}

builddependencies = [
    ('Cython', '3.0.10'),
]

dependencies = [
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('UDUNITS', '2.2.28'),
]

# antlr4-python3-runtime version depends on cf-units, see
# https://github.com/SciTools/cf-units/blob/v3.3.0/cf_units/_udunits2_parser/_antlr4_runtime/_antlr4_version.txt
exts_list = [
    ('antlr4-python3-runtime', '4.11.1', {
        'modulename': 'antlr4',
        'checksums': ['a53de701312f9bdacc5258a6872cd6c62b90d3a90ae25e494026f76267333b60'],
    }),
    ('cftime', '1.6.4', {
        'checksums': ['e325406193758a7ed67308deb52e727782a19e384e183378e7ff62098be0aedc'],
    }),
    (name, version, {
        'preinstallopts': 'UDUNITS2_XML_PATH="$EBROOTUDUNITS/share/udunits/udunits2.xml"',
        'source_tmpl': 'cf_units-%(version)s.tar.gz',
        'checksums': ['2327da492f30cf018a3f1b5950192ce9bb3332e50b1c7ac53f7543de7fa61fdb'],
    }),
]

moduleclass = 'geo'
