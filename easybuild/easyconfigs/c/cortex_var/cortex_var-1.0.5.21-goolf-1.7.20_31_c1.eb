# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = 'cortex_var'
version = '1.0.5.21'

MAXK = '31'
NUM_COLS = '1'
versionsuffix = '_%s_c%s' % (MAXK, NUM_COLS)

homepage = 'http://cortexassembler.sourceforge.net/index_cortex_var.html'
description = """cortex_var is a tool for genome assembly and variation analysis from sequence data""" 

toolchain = {'name': 'goolf', 'version': '1.7.20'}

source_urls = ['https://sourceforge.net/projects/cortexassembler/files/cortex_var/latest/']
sources = ['CORTEX_release_v%(version)s.tgz']

dependencies = [
    ('zlib', '1.2.8'),
    ('GSL', '1.15'),
    ('VCFtools', '0.1.14', '-Perl-5.22.2'),
    ('Stampy', '1.0.23', '-Python-2.7.11'),
]

prebuildopts = 'bash install.sh && '

buildopts = ' MAXK=%s NUM_COLS=%s cortex_var' % (MAXK, NUM_COLS)

files_to_copy = ['bin',
		 'data',
		 'demo',
		 'doc',
		 'gpl.txt',
		 'include',
		 'latest_test_results',
		 'libs', 
		 'ReleaseNotes',
		 'scripts']

sanity_check_paths = {
    'files': ["bin/cortex_var%(versionsuffix)s"],
    'dirs': []
}

moduleclass = 'bio'
