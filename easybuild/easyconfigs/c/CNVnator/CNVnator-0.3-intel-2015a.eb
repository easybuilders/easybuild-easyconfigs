easyblock = 'MakeCp'

name = 'CNVnator'
version = '0.3'

homepage = 'http://sv.gersteinlab.org'
description = """Copy Number Variation discovery and genotyping from depth of read mapping."""

toolchain = {'name': 'intel', 'version': '2015a'}

sources = ['%(name)s_v%(version)s.zip']
source_urls = ['http://sv.gersteinlab.org/cnvnator/']

dependencies = [
    ('ROOT', '5.34.30'),
]

start_dir = 'src'

prebuildopts = "sed -i -e 's|(ROOTSYS)/[a-z]*|&/root|g' Makefile && (cd samtools && make lib) &&"

files_to_copy = [
    (['cnvnator', '../cnvnator2VCF.pl'], 'bin'), 
    '../license.rtf', '../CITATION'
]

sanity_check_paths = {
    'files': ['bin/cnvnator'],
    'dirs': [],
}

moduleclass = 'bio'
