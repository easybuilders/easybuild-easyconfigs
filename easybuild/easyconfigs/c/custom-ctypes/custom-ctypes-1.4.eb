easyblock = 'Tarball'

name = 'custom-ctypes'
version = '1.4'

homepage = 'https://github.com/ComputeCanada/custom_ctypes/'
description = """This repository is to try to fix discovery of libraries with Python's ctypes module. 
It changes the behavior of find_library to return absolute paths to shared objects rather than just the names."""

toolchain = SYSTEM

source_urls = ['https://github.com/ComputeCanada/custom_ctypes/archive/refs/tags/']
sources = ['%(version)s.tar.gz']
checksums = ['c6cf84c278643ff7260e078ed805b5424b53711c593a0eafaef8edb555186527']

sanity_check_paths = {
    'files': ['lib/python%s/site-packages/ctypes/util.py' % x for x in ['2.7', '3.6', '3.7', '3.8', '3.9', '3.10', '3.11', '3.12', '3.13']],
    'dirs': [],
}

modextrapaths = {'EBPYTHONPREFIXES_PRIORITY': ''}
moduleclass = 'lang'
