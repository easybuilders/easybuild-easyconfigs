# Contribution from the Crick HPC team
# uploaded by J. Sassmannshausen

easyblock = 'Tarball'

name = 'CellRanger-ATAC'
version = '1.1.0'

homepage = 'https://support.10xgenomics.com'
description = """The Chromium Single Cell ATAC (Assay for
Transposase Accessible Chromatin) Solution.
Note: 
=====
In order to use it you will need to source the sourceme.bash file:
. %(installdir)s/CellRanger-ATAC/1.1.0/sourceme.bash 
If you are using csh, you will need to source the sourceme.csh file:
. /PATH/TO/SOFTWARE/CellRanger-ATAC/1.1.0/sourceme.csh
"""

toolchain = {'name': 'dummy', 'version': ''}

# you need to register at this URL and download the software manually
# You also will need to remove this link as the source does not exist:
# cellranger-atac-1.1.0/miniconda-atac-cs/4.3.21-miniconda-atac-cs-c10/lib/libstdc++.so.6.0.21

source_urls = ['https://support.10xgenomics.com/single-cell-atac/software/downloads/latest']
sources = ['%(namelower)s-%(version)s.tar.gz']
checksums = ['e45d97364a8187019ec0d59e1e67343d63fe883787dd94951c0ca31ba724ff25']

sanity_check_paths = {
    'dirs': ['bwa', 'cellranger-atac-cs', 'cellranger-atac-tiny-fastq',
             'cellranger-atac-tiny-ref', 'lz4', 'martian-cs', 'miniconda-atac-cs'],
    'files': ['cellranger-atac-shell', 'sourceme.bash'],
}

modextrapaths = {'PATH': ''}

moduleclass = 'bio'
