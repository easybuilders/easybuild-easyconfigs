name = 'spparks'
version = '16Jan23'

homepage = 'https://spparks.github.io/'
description = """SPPARKS is a parallel Monte Carlo code for on-lattice and off-lattice models that
 includes algorithms for kinetic Monte Carlo (KMC), rejection kinetic Monte Carlo (rKMC),
 and Metropolis Monte Carlo (MMC)."""

toolchain = {'name': 'foss', 'version': '2022a'}
toolchainopts = {'pic': True, 'cstd': 'c++11', 'usempi': True}

github_account = 'spparks'
source_urls = [GITHUB_SOURCE]
sources = ['%(version)s.tar.gz']
checksums = ['87001cc5305a9d632d97d3a14559e1c7b4c1f5d0191d27ddb36f1eb9db1435fa']

test_cmd = 'mpirun -np 2 spk_mpi -echo screen < ../examples/potts/in.potts'
# test_cmd = './spk_serial -echo screen < ../examples/potts/in.potts'  # For serial builds

dependencies = [
    ('stitch', version),
    ('libjpeg-turbo', '2.1.3'),
    ('gzip', '1.12'),
]

sanity_check_paths = {
    'files': ['include/spparks.h', 'lib/libspparks.%s' % SHLIB_EXT, 'lib/libspparks.a', 'bin/spk'],
    'dirs': []
}

moduleclass = 'phys'
