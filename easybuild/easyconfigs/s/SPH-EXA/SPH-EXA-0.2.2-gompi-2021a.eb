easyblock = "CMakeMakeCp"

name = "SPH-EXA"
version = "0.2.2"

homepage = "https://github.com/unibas-dmi-hpc/SPH-EXA_mini-app"
description = """
The SPH-EXA mini-app is a C++ scientific research code; its goal is to scale
the Smoothed Particle Hydrodynamics (SPH) method to enable Tier-0 and Exascale
simulations. More infos here: https://hpc.dmi.unibas.ch/en/research/sph-exa/
"""

toolchain = {"name": "gompi", "version": "2021a"}

source_urls = [
    "https://github.com/unibas-dmi-hpc/SPH-EXA_mini-app/archive/refs/tags"]
sources = ["v%(version)s.tar.gz"]
checksums = [
    "65f0325b2c4df3e9ccf677f937c61e9536853e03ca45096738948babea7bfd8b"]

builddependencies = [
    ("CMake", "3.20.1"),
]

separate_build_dir = True

files_to_copy = [
    (["%(builddir)s/easybuild_obj/src/sedov/sedov"], "bin"),
    ("%(builddir)s/SPH-EXA_mini-app*/LICENSE"),
]

sanity_check_paths = {
    "files": [
        "bin/sedov",
    ],
    "dirs": ["bin"],
}

moduleclass = "phys"
