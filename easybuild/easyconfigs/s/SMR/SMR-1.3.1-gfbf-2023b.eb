easyblock = 'CMakeMakeCp'

name = 'SMR'
version = '1.3.1'

homepage = 'https://yanglab.westlake.edu.cn/software/smr/'
description = """
The SMR software tool was originally developed to implement the SMR & HEIDI methods to test for pleiotropic association between the expression level of a gene and a complex trait of interest using summary-level data from GWAS and expression quantitative trait loci (eQTL) studies (Zhu et al. 2016 Nature Genetics). The SMR & HEIDI methodology can be interpreted as an analysis to test if the effect size of a SNP on the phenotype is mediated by gene expression. This tool can therefore be used to prioritize genes underlying GWAS hits for follow-up functional studies. The methods are applicable to all kinds of molecular QTL (xQTL) data, including DNA methylation QTL (mQTL) and protein abundance QTL (pQTL).
"""

builddependencies = [
    ('CMake', '3.27.6'),
    ('Eigen', '3.4.0', '', ('GCCcore', '13.2.0')), 
    ('zlib', '1.2.13', '', ('GCCcore', '13.2.0')),
]

toolchain = {'name': 'gfbf', 'version': '2023b'}

source_urls = ['https://yanglab.westlake.edu.cn/software/smr/download/']
sources = ['%(namelower)s_v%(version)s_src.tar.gz']
checksums = ['a1f62ada9ff2bb237a7b0ffbd2bcd4b024f5e619191e708012b5e71b98fadfbc']

configopts = '-Deigen_path="$EBROOTEIGEN" '

files_to_copy = [(['smr'], 'bin')]

sanity_check_paths = {
    'files': ['bin/smr'],
    'dirs': [],
}

moduleclass = 'bio'
