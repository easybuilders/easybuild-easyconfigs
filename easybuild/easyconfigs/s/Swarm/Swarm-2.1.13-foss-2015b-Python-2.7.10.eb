easyblock = 'MakeCp'

name = "Swarm"
version = "2.1.13"
versionsuffix = '-Python-%(pyver)s'

homepage = 'https://github.com/torognes/swarm'
description = "A robust and fast clustering method for amplicon-based studies"

toolchain = {'name': 'foss', 'version': '2015b'}

source_urls = ['https://github.com/torognes/swarm/archive']
sources = ['v%(version)s.tar.gz']

dependencies = [
    ('Python', '2.7.10'),
]

prebuildopts = "cd src && "

files_to_copy = ["bin", "man", "scripts"]

postinstallcmds = ["chmod +x %(installdir)s/scripts/*"]

sanity_check_paths = {
    'files': ["bin/swarm"],
    'dirs': [],
}

sanity_check_commands = [
    ('swarm', ''),
    ('amplicon_contingency_table.py', ''),
    ('graph_plot.py', ''),
]

modextrapaths = {'PATH': 'scripts'}

moduleclass = 'bio'
