easyblock = 'Tarball'

name = 'SCReadCounts'
version = '1.3.2'

homepage = "https://github.com/HorvathLab/NGS/tree/master/SCReadCounts"
description = """SCReadCounts is a computational tool for a cell-level assessment of the read counts
 bearing a particular nucleotide at genomic positions of interest from single cell RNA sequencing
 (scRNA-seq) data.

 This package actually includes all the Horvath Lab NGS tools.
 The focus is on SCReadCounts, so the path only includes that, out of the box.
 The other files are available, they just need to be specified directly.
"""

github_account = 'HorvathLab'

toolchain = {'name': 'foss', 'version': '2021b'}

dependencies = [
    ('Python', '3.9.6'),
    ('SciPy-bundle', '2021.10'),
    ('Pysam', '0.18.0'),
    ('wxPython', '4.2.0'),
]

postinstallcmds = [
    'ln -s %(installdir)s/%(name)s/src %(installdir)s/bin',
]

source_urls = ['https://github.com/%(github_account)s/NGS/archive/refs/tags']
sources = ['%(name)s-%(version)s.tar.gz']
checksums = ['63f8212002e2dfc37c9c591ba78edbc557a26512dc0541dc3076e384a3ca2ee7']

sanity_check_paths = {
    # naming inconsistency is taken from upstream
    'files': ['bin/scReadCounts.py'],
    'dirs': ['%(name)s', 'common'],
}

sanity_check_commands = ['scReadCounts.py --version']

moduleclass = 'bio'
