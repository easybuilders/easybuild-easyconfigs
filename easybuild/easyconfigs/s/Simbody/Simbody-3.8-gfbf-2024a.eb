easyblock = 'CMakeMake'

name = 'Simbody'
version = '3.8'

homepage = 'https://simtk.org/home/simbody'
description = """Simbody is a high-performance, open-source toolkit for science- and
engineering-quality simulation of articulated mechanisms, including
biomechanical structures such as human and animal skeletons, mechanical systems
like robots, vehicles, and machines, and anything else that can be described as
a set of rigid bodies interconnected by joints, influenced by forces and
motions, and restricted by constraints. Simbody includes a multibody dynamics
library for modeling motion in generalized/internal coordinates in O(n) time.
This is sometimes called a Featherstone-style physics engine.
Simbody provides a C++ API that is used to build domain-specific applications;
it is not a standalone application itself. For example, it is used by
biomechanists in OpenSim, by roboticists in Gazebo, and for biomolecular
research in MacroMoleculeBuilder (MMB)."""

toolchain = {'name': 'gfbf', 'version': '2024a'}

github_account = 'simbody'
source_urls = [GITHUB_LOWER_SOURCE]
sources = [SOURCE_TAR_GZ]
checksums = ['ea71b0206f54a6b4d1714a20e145ba3f39a8298aed1718742b18b6d5ea0261dd']

builddependencies = [
    ('CMake', '3.29.3'),
    ('pkgconf', '2.2.0'),
    ('Doxygen', '1.11.0'),
]

dependencies = [
    ('freeglut', '3.6.0'),
]

sanity_check_paths = {
    'files': [f'lib/libSimTKsimbody.{SHLIB_EXT}', 'libexec/simbody/simbody-visualizer'],
    'dirs': ['include/simbody', 'lib/cmake', 'lib/pkgconfig'],
}

modextravars = {'SIMBODY_HOME': '%(installdir)s'}

moduleclass = 'vis'
