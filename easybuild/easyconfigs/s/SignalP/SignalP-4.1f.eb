# This file is an EasyBuild reciPY as per https://easybuilders.github.io/easybuild/
# Author: Pablo Escobar Lopez
# sciCORE - University of Basel
# SIB Swiss Institute of Bioinformatics 

easyblock = 'Tarball'

name = 'SignalP'
version = '4.1f'

homepage = 'http://www.cbs.dtu.dk/cgi-bin/nph-sw_request?signalp'
description = """SignalP predicts the presence  and  location of signal peptide  cleavage sites
in  amino acid  sequences  from  different organisms"""

toolchain = {'name': 'dummy', 'version': ''}

# no public download url
# http://www.cbs.dtu.dk/cgi-bin/nph-sw_request?signalp
sources = ['signalp-%(version)s.Linux.tar.gz']
checksums = ['413b0f6d8176dfa549ede35935154d418ff6198deb6d6ec8ac2e79ccb824644b']

modextrapaths = {
    'PATH': '',
    'MANPATH': '',
}

modextravars = {
    'SIGNALP': '%(installdir)s',
}

postinstallcmds = [
    "sed -i -e 's|/var/tmp|/scratch|' %(installdir)s/signalp",
    "sed -i -e 's|/usr/cbs/bio/src/signalp-4.1|%(installdir)s|' %(installdir)s/signalp",
    "mkdir -p %(installdir)s/man1 && mv %(installdir)s/signalp.1 %(installdir)s/man1/",
]

sanity_check_paths = {
    'files': ['signalp'],
    'dirs': [],
}

moduleclass = 'bio'
