# This easyconfig was created by the BEAR Software team at the University of Birmingham.
easyblock = 'Bundle'

name = 'Signac'
version = '1.2.1'
_seuratver = 'af2925c'
_rsuffix = '-R-%(rver)s'
versionsuffix = '%s-Seurat-%s' % (_rsuffix, _seuratver)

homepage = "https://cran.r-project.org/package=Signac"
description = """A framework for the analysis and exploration of single-cell chromatin data. The
 'Signac' package contains functions for quantifying single-cell chromatin data, computing per-cell
 quality control metrics, dimension reduction and normalization, visualization, and DNA sequence
 motif analysis."""

toolchain = {'name': 'foss', 'version': '2020b'}

dependencies = [
    ('R', '4.0.3'),
    ('R-bundle-Bioconductor', '3.12', _rsuffix),
    ('Seurat', _seuratver, _rsuffix)
]

exts_defaultclass = 'RPackage'
exts_filter = ("R -q --no-save", "library(%(ext_name)s)")
exts_default_options = {
    'source_urls': [
        'https://cran.r-project.org/src/contrib/Archive/%(name)s',  # package archive
        'https://cran.r-project.org/src/contrib/',  # current version of packages
        'https://cran.freestatistics.org/src/contrib',  # mirror alternative for current packages
    ],
    'source_tmpl': '%(name)s_%(version)s.tar.gz',
}


# Order is important!
exts_list = [
    ('ggseqlogo', '0.1', {
        'checksums': ['c14f145a982597f32264b37a5f2645206a0bee30dd2584a25cb8e3dc2f9b068f'],
    }),
    ('lsa', '0.73.2', {
        'checksums': ['cb0017bbda9b0eb1d05b451e0f557d02f789f65b2f8bf005606b63a3708e63a8'],
    }),
    ('sparsesvd', '0.2', {
        'checksums': ['1a1f54d6b0dca6ae83e3f729a1895c91c58bfe55427dacc50ddb0d2c5d32a9f6'],
    }),
    ('docopt', '0.7.1', {
        'checksums': ['9f473887e4607e9b21fd4ab02e802858d0ac2ca6dad9e357a9d884a47fe4b0ff'],
    }),
    ('qlcMatrix', '0.9.7', {
        'checksums': ['1ef5e0350cfbdb07fca761fc7251584d39d3da2958ea813498b467e4f7661347'],
    }),
    (name, version, {
        'checksums': ['626e976bef3f4647dbbb7adf2a0d4d650c4b24827f3e09f5f8a9e6fe0dda4bde'],
    }),
]

modextrapaths = {'R_LIBS': ''}

sanity_check_paths = {
    'files': ['Signac/R/Signac'],
    'dirs': [],
}

moduleclass = 'bio'
