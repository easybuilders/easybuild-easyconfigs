# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# 
# @file:   Salmon-1.10.1-GCC-12.2.0.eb
# @author: Hong Tao - Cloud Infrastructure Platform (CLIP)
# 30.07.2024


easyblock = 'CMakeMake'

name = 'Salmon'
version = '1.10.1'

homepage = 'https://github.com/COMBINE-lab/salmon'
description = """Salmon is a wicked-fast program to produce a highly-accurate,
 transcript-level quantification estimates from RNA-seq data. Salmon achieves
 its accuracy and speed via a number of different innovations, including the
 use of selective-alignment (accurate but fast-to-compute proxies for
 traditional read alignments), and massively-parallel stochastic collapsed
 variational inference. The result is a versatile tool that fits nicely into
 many different pipelines. For example, you can choose to make use of our
 selective-alignment algorithm by providing Salmon with raw sequencing reads,
 or, if it is more convenient, you can provide Salmon with regular alignments
 (e.g. an unsorted BAM file with alignments to the transcriptome produced with
 your favorite aligner), and it will use the same wicked-fast, state-of-the-art
 inference algorithm to estimate transcript-level abundances for your experiment."""

toolchain = {'name': 'GCC', 'version': '12.2.0'}
toolchainopts = {'pic': True}

github_account = 'COMBINE-lab'
source_urls = [GITHUB_LOWER_SOURCE]
sources = ['v%(version)s.tar.gz']
checksums = ['babd9ccc189cfea07566d8a11d047f25fad5b446b4b69257bc6ad8869f8b7707']

builddependencies = [
    ('CMake', '3.24.3'),
    ('pkgconf', '1.9.3'),
    ('jemalloc', '5.3.0'),
    ('Cereal', '1.3.2'),
]

dependencies = [
    ('Boost', '1.81.0'),
    ('tbb', '2021.10.0'),
    ('cURL', '7.86.0'),
    ('libiconv', '1.17'),
    ('bzip2', '1.0.8'),
    ('XZ', '5.2.7'),
    ('zlib', '1.2.12'),
]


runtest = 'test'

sanity_check_paths = {
    'files': ['bin/salmon'],
    'dirs': ['bin', 'lib', 'lib64'],
}

sanity_check_commands = ["salmon --help"]

moduleclass = 'bio'
