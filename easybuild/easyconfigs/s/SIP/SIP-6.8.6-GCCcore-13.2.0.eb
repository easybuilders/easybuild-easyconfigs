# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# update 6.8.3
easyblock = 'PythonPackage'

name = 'SIP'
version = '6.8.6'

homepage = 'http://www.riverbankcomputing.com/software/sip/'
description = """SIP is a tool that makes it very easy to create Python bindings for C and C++ libraries."""

toolchain = {'name': 'GCCcore', 'version': '13.2.0'}

sources = [SOURCELOWER_TAR_GZ]
checksums = ['7fc959e48e6ec5d5af8bd026f69f5e24d08b3cb8abb342176f5ab8030cc07d7a']

builddependencies = [
    ('binutils', '2.40'),
]
dependencies = [
    ('Python', '3.11.5'),
    ('Python-bundle-PyPI', '2023.10'),
    ('PLY', '3.11'),
]

download_dep_fail = True
use_pip = True

local_tools = ['build',  'distinfo',  'install',  'module', 'sdist', 'wheel']
sanity_check_paths = {
    'files': ['bin/sip-%s' % x for x in local_tools],
    'dirs': ['lib/python%(pyshortver)s/site-packages/sipbuild'],
}

sanity_pip_check = True

sanity_check_commands = ['sip-%s --help' % x for x in local_tools]

options = {'modulename': 'sipbuild'}

moduleclass = 'lang'
