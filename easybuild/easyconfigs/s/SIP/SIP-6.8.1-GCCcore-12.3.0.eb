# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# Author: Bart Verleye
# Center for eResearch, Auckland
# update 6.8.1: THEMBL
easyblock = 'PythonPackage'

name = 'SIP'
version = '6.8.1'

homepage = 'http://www.riverbankcomputing.com/software/sip/'
description = """SIP is a tool that makes it very easy to create Python bindings for C and C++ libraries."""

toolchain = {'name': 'GCCcore', 'version': '12.3.0'}

sources = [SOURCELOWER_TAR_GZ]
checksums = ['3002df415e168ac3ffe393942dbc7131cb82ade50000e1526f46a88ade26f598']

builddependencies = [
    ('binutils', '2.40'),
]
dependencies = [
    ('Python', '3.11.3'),
    ('Python-bundle-PyPI', '2023.06'),
    ('PLY', '3.11'),
]

download_dep_fail = True
use_pip = True

local_tools = ['build',  'distinfo',  'install',  'module', 'sdist', 'wheel']
sanity_check_paths = {
    'files': ['bin/sip-%s' % x for x in local_tools],
    'dirs': ['lib/python%(pyshortver)s/site-packages/sipbuild'],
}

sanity_pip_check = True

sanity_check_commands = ['sip-%s --help' % x for x in local_tools]

options = {'modulename': 'sipbuild'}

moduleclass = 'lang'
