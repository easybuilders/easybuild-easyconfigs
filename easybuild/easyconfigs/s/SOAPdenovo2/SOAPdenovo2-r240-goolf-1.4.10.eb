name = 'SOAPdenovo2'
version = 'r240'

homepage = 'http://soap.genomics.org.cn/index.html'
description = """
SOAPdenovo is a novel short-read assembly method that can build a de novo draft assembly for human-sized genomes. The
 program is specially designed to assemble Illumina short reads. It creates new opportunities for building reference
 sequences and carrying out accurate analyses of unexplored genomes in a cost effective way. SOAPdenovo2 is the
 successor of SOAPdenovo.
"""

toolchain = {'name': 'goolf', 'version': '1.4.10'}
toolchainopts = {'optarch': True, 'pic': True}

sourcename = '%s-src-%s' % (name, version)
sources = [sourcename + '.tgz']
source_urls = [SOURCEFORGE_SOURCE]

# only a make step, no configure and install, so build in install dir
buildininstalldir = True
skipsteps = ['configure', 'install']
patches = ['SOAPdenovo2_inistd.patch']
# parallel make seems to fail
parallel = 1

modextrapaths = {'PATH': 'sourcename'}
sanity_check_paths = {
    'files': [sourcename + '/SOAPdenovo-127mer', sourcename + '/SOAPdenovo-63mer'],
    'dirs': [],
}

moduleclass = 'bio'
