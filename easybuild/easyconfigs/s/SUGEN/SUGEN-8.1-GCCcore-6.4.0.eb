easyblock = 'MakeCp'

name = 'SUGEN'
version = '8.1'

homepage = 'https://github.com/dragontaoran/SUGEN'
description = """SUGEN is a command-line software program written in C++ to implement the weighted and
 unweighted approaches described by Lin et al. (2014) for various types of association analysis under
 complex survey sampling. The current version of the program can accommodate continuous, binary, and
 right-censored time-to-event traits. It can perform single-variant and gene-based association analysis.
 In single-variant analysis, it can perform standard association analysis, conditional analysis, and
 gene-environment interaction analysis using Wald statistics. In standard association analysis, we
 include the SNP of interest and other covariates (if any) as predictors in the regression model.
 In conditional analysis, we include the SNP of interest, the SNPs that are conditioned on, and other
 covariates (if any) as predictors in the regression model. In gene-environment interaction analysis,
 we include the SNP of interest, the environment variables, the interactions between the SNP and
 environment variables, and other covariates (if any) as predictors in the regression model. In
 gene-based analysis, it generates the score statistics and covariance matrix for variants in each
 gene. These summary statistics can be loaded into the software program MASS to perform all commonly
 used gene-based association tests."""


toolchain = {'name': 'GCCcore', 'version': '6.4.0'}

builddependencies = [('binutils', '2.28')]

# There are also bundled versions of CodeBase and Eigen, not yet handled according to EB standards
dependencies = [('libStatGen', '20190330')]

github_account = 'dragontaoran'
source_urls = [GITHUB_SOURCE]
sources = ['v%(version)s.tar.gz']
patches = ['%(name)s-use-EB-libStatGen.patch']
checksums = [
    '278b5006c8d2ff91569f207a5e97b6331354a32f53e9d5fca387b2b9fa299963',  # v8.1.tar.gz
    '08c8235b0322d99994c328a2ce31370e6f8f5fc5c3c0e7abdb66f74f85c4f629',  # SUGEN-use-EB-libStatGen.patch
]

files_to_copy = [(['SUGEN'], 'bin'), 'README.md', 'manual']

sanity_check_paths = {
    'files': ['bin/SUGEN'],
    'dirs': ['manual']
}

moduleclass = 'bio'
