easyblock = 'PythonBundle'

name = 'MLflow'
version = '2.22.4'

homepage = 'https://mlflow.org'
description = """MLflow is a platform to streamline machine learning development, including tracking experiments,
packaging code into reproducible runs, and sharing and deploying models."""

toolchain = {'name': 'gfbf', 'version': '2024a'}

dependencies = [
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('Arrow', '17.0.0'),
    ('Deprecated', '1.2.18'),
    ('Flask', '3.0.3'),
    ('GitPython', '3.1.43'),
    ('googleapis-python', '2025.03'),
    ('Markdown', '3.7'),
    ('matplotlib', '3.9.2'),
    ('protobuf-python', '5.28.0'),
    ('pydantic', '2.9.1'),
    ('PyYAML', '6.0.2'),
    ('scikit-learn', '1.5.2'),
    ('SQLAlchemy', '2.0.36'),
]

exts_default_options = {
    'source_tmpl': SOURCE_PY3_WHL,
}

exts_list = [
    ('cachetools', '5.5.0', {
        'checksums': ['02134e8439cdc2ffb62023ce1debca2944c3f289d66bb17ead3ab3dede74b292'],
    }),
    ('docker', '7.1.0', {
        'checksums': ['c96b93b7f0a746f9e77d325bcfb87422a3d8bd4f03136ae8a85b37f1898d5fc0'],
    }),
    ('sniffio', '1.3.1', {
        'checksums': ['2f6da418d1f1e0fddd844478f41680e794e6051915791a034ff65e5f100525a2'],
    }),
    ('anyio', '4.9.0', {
        'checksums': ['9f76d541cad6e36af7beb62e978876f3b41e3e04f2c1fbf0884604c0a9c4d93c'],
    }),
    ('starlette', '0.50.0', {
        'checksums': ['9e5391843ec9b6e472eed1365a78c8098cfceb7a74bfd4d6b1c0c0095efb3bca'],
    }),
    ('annotated_doc', '0.0.4', {
        'checksums': ['571ac1dc6991c450b25a9c2d84a3705e2ae7a53467b5d111c24fa8baabbed320'],
    }),
    ('fastapi', '0.126.0', {
        'checksums': ['c9330b9731e3bd2caae0a00e76353f86adbf592c5a25649a1682f3a92aeaff41'],
    }),
    ('graphql_relay', '3.2.0', {
        'checksums': ['c9b22bd28b170ba1fe674c74384a8ff30a76c8e26f88ac3aa1584dd3179953e5'],
    }),
    ('graphql_core', '3.2.7', {
        'modulename': 'graphql',
        'checksums': ['17fc8f3ca4a42913d8e24d9ac9f08deddf0a0b2483076575757f6c412ead2ec0'],
    }),
    ('graphene', '3.4.3', {
        'source_tmpl': SOURCE_WHL,
        'checksums': ['820db6289754c181007a150db1f7fff544b94142b556d12e3ebc777a7bf36c71'],
    }),
    ('gunicorn', '23.0.0', {
        'checksums': ['ec400d38950de4dfd418cff8328b2c8faed0edb0d517d3394e457c317908ca4d'],
    }),
    ('opentelemetry_semantic_conventions', '0.57b0', {
        'modulename': False,
        'checksums': ['757f7e76293294f124c827e514c2a3144f191ef175b069ce8d1211e1e38e9e78'],
    }),
    ('opentelemetry_sdk', '1.36.0', {
        'modulename': 'opentelemetry.sdk',
        'checksums': ['19fe048b42e98c5c1ffe85b569b7073576ad4ce0bcb6e9b4c6a39e890a6c45fb'],
    }),
    ('opentelemetry_api', '1.36.0', {
        'modulename': 'opentelemetry',
        'checksums': ['02f20bcacf666e1333b6b1f04e647dc1d5111f86b8e510238fcc56d7762cda8c'],
    }),
    ('databricks_sdk', '0.72.0', {
        'modulename': 'databricks.sdk',
        'checksums': ['86f6a6c8ad5cc84a66d394f2151bfd326a207e11d83eb943cb8a447c762b905c'],
    }),
    ('sqlparse', '0.5.5', {
        'checksums': ['12a08b3bf3eec877c519589833aed092e2444e68240a3577e8e26148acc7b1ba'],
    }),
    ('h11', '0.16.0', {
        'checksums': ['63cf8bbe7522de3bf65932fda1d9c2772064ffb3dae62d55932da54b31cb6c86'],
    }),
    ('uvicorn', '0.38.0', {
        'checksums': ['48c0afd214ceb59340075b4a052ea1ee91c16fbc2a9b1469cca0e54566977b02'],
    }),
    ('mlflow_skinny', version, {
        'modulename': 'mlflow',
        'checksums': ['3622115f53806d99fc42b0c2e45f225b16948584feeec7f233e484f08fe6c7f2'],
    }),
    ('mlflow', version, {
        'checksums': ['c37b312060737cc9197c4a956c730fa6c292580787fe464efe736c339e87649a'],
    }),
]

sanity_check_paths = {
    'files': ['bin/fastapi', 'bin/gunicorn', 'bin/mlflow', 'bin/sqlformat', 'bin/uvicorn'],
    'dirs': ['lib/python%(pyshortver)s/site-packages/mlflow'],
}

sanity_check_commands = ['mlflow --help']

moduleclass = 'tools'
