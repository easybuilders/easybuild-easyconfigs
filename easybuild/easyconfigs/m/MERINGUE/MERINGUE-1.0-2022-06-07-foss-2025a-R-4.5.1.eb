easyblock = 'RPackage'

name = 'MERINGUE'
local_commit = 'ca9e2cc'
local_commit_date = '2022-06-07'
version = f'1.0-{local_commit_date}'
versionsuffix = '-R-%(rver)s'

homepage = 'https://github.com/JEFworks-Lab/MERINGUE'
description = """
R package to characterizing spatial gene expression heterogeneity in
spatially resolved single-cell transcriptomics data with nonuniform cellular densities.
"""

toolchain = {'name': 'foss', 'version': '2025a'}

github_account = "JEFworks-Lab"
source_urls = [GITHUB_SOURCE]
sources = [{'download_filename': f'{local_commit}.tar.gz', 'filename': f'%(name)s-%(version)s-{local_commit}.tar.gz'}]
checksums = ['40a271db66e4061de47894fc1a6db968fbb6908aa5d417d694d6c8941cfc3e7f']

dependencies = [
    ('R', '4.5.1'),
    ('R-bundle-CRAN', '2025.10'),
]

# delete precompiled files to avoid link step error
preinstallopts = "rm -f src/*.o src/*.so src/*.dll src/*.dylib && "

sanity_check_paths = {
    'files': [],
    'dirs': [name],
}

moduleclass = 'bio'
