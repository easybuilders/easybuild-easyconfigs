name = 'MPICH'
version = '3.2'

homepage = 'http://www.mpich.org/'
description = """MPICH v3.x is an open source high-performance MPI 3.0 implementation.
It does not support InfiniBand (use MVAPICH2 with InfiniBand devices)."""

toolchain = {'name': 'GCC', 'version': '5.2.0'}


dependencies = [('hwloc','1.11.3')]

configopts = '--enable-fast --enable-fortran=all -enable-cxx'  # support for Fortran support, C++ binding
configopts += '--enable-debuginfo'  # support for debuggers
configopts += '--enable-threads=multiple' # MPICH Thread support
configopts += '--enable-shared --with-pic'# build shared library with Position Independent Code 
configopts += '--with-hwloc=$EBROOTHWLOC '  # hwloc support
configopts += 'CFLAGS=-O3 FFLAGS=-O3 CXXFLAGS=-O3' # MPICH library built with -O3 and will be included in mpicc


sources = [SOURCELOWER_TAR_GZ]
source_urls = ['http://www.mpich.org/static/tarballs/%(version)s']

# Let's store the checksum in order to be sure it doesn't suddenly change
checksums = ['f414cfa77099cd1fa1a5ae4e22db508a']

moduleclass = 'mpi'
