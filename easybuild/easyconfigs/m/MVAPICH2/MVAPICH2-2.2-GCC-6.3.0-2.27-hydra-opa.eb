name = 'MVAPICH2'
version = '2.2'
versionsuffix = '-hydra-opa'

homepage = 'http://mvapich.cse.ohio-state.edu/overview/mvapich2/'
description = "This is an MPI 3.0 implementation.  It is based on MPICH2 and MVICH."

toolchain = {'name': 'GCC', 'version': '6.3.0-2.27'}

source_urls = ['http://mvapich.cse.ohio-state.edu/download/mvapich/mv2/']
sources = [SOURCELOWER_TAR_GZ]

# Let's store the checksum in order to be sure it doesn't suddenly change
checksums = ['939b65ebe5b89a5bc822cdab0f31f96e']

builddependencies = [('Bison', '3.0.4')]

rdma_type = ''

sanity_check_paths = {
    'files': ["bin/mpiexec.hydra"],
     'dirs' :[]
}

# Configure options
configopts = '--enable-static --with-device=ch3:psm --without-ib'
configopts += '--without-infiniband --with-pm=hydra:gforker'
configopts += '--with-pmi=simple --enable-romio'
configopts += '--with-file-system=lustre+nfs+gpfs'


moduleclass = 'mpi'

