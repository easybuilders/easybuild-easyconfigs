# This is for the custom build of Malt 
# Malt is downloaded from here:
# http://ab.inf.uni-tuebingen.de/data/software/malt/download/welcome.html
# The MALT_unix_0_4_1.sh is executed and the binaries are installed in
# malt/bin
# The malt directory is bundled into a tarball which will be installed
# This is a bit of a hack!
# The homepage is here:
# http://ab.inf.uni-tuebingen.de/software/malt/
# Contribution from the Crick HPC team
# uploaded by J. Sassmannshausen

easyblock = 'PackedBinary'

name = 'malt'
version = '0.4.1'

homepage = 'http://ab.inf.uni-tuebingen.de/software/malt/'
description = """MALT (MEGAN alignment tool) is an extension of MEGAN (metagenome analyzer).

MALT performs alignment of metagenomic reads against a database of reference sequences 
(such as NR, GenBank or Silva) and produces a MEGAN RMA file as output. The software is 
currently under development. """

toolchain = {'name': 'dummy', 'version': ''}

sources = ['malt-%(version)s.tar.gz']
checksums = ['68ac3c1b0a862a595eaa13ae72a49974292bcea486cf5fff531113993afd6b61']

# specify dependency on Java/1.8 "wrapper", rather than a specific Java version
dependencies = [('Java', '1.8', '', True)]

# modloadmsg = "To execute %(name)s run: ImageJ-linux64"

sanity_check_paths = {
    'files': ['malt-build', 'malt-run'],
    'dirs': ['class', 'jars', 'bin'],
}

moduleclass = 'bio'
