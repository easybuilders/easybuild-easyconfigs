# This file is an EasyBuild reciPY as per https://github.com/easybuilders/easybuild
# Adam Huffman
# The Francis Crick Institute
# Elements derived from work by Pablo Escobar
# sciCORE - University of Basel
# SIB Swiss Institute of Bioinformatics 

easyblock = 'Bundle'

name = 'MultiQC'
version = '1.4'
versionsuffix = '-Python-%(pyver)s'

homepage = 'http://multiqc.info'
description = """Aggregate results from bioinformatics analyses across many samples into a single 
 report.

 MultiQC searches a given directory for analysis logs and compiles a HTML report. It's a general
 use tool, perfect for summarising the output from numerous bioinformatics tools."""

toolchain = {'name': 'goolf', 'version': '1.7.20'}

dependencies = [
    ('Python', '2.7.11'),
    ('matplotlib', '2.1.2', '-Python-%(pyver)s'),
    ('numpy', '1.10.1', '-Python-%(pyver)s'),
]

exts_defaultclass = 'PythonPackage'

exts_list = [
    ('MarkupSafe', '1.0', {
        'source_urls': ['https://pypi.python.org/packages/source/m/markupsafe'],
        'checksums': [
            'a6be69091dac236ea9c6bc7d012beab42010fa914c459791d627dad4910eb665',  # MarkupSafe-1.0.tar.gz
        ],
    }),
    ('click', '6.7', {
        'source_urls': ['https://pypi.python.org/packages/source/c/click/'],
        'checksums': [
            'f15516df478d5a56180fbf80e68f206010e6d160fc39fa508b65e035fd75130b',  # click-6.7.tar.gz
        ],
    }),
    ('PyYAML', '3.12', {
        'source_urls': ['https://pypi.python.org/packages/source/p/pyyaml'],
        'modulename': 'yaml',
        'checksums': [
            '592766c6303207a20efc445587778322d7f73b161bd994f227adaa341ba212ab',
        ],
    }),
    ('simplejson', '3.13.2', {
        'source_urls': ['https://pypi.python.org/packages/source/s/simplejson/'],
        'checksums': [
            '4c4ecf20e054716cc1e5a81cadc44d3f4027108d8dd0861d8b1e3bd7a32d4f0a',
        ],
    }),
    ('Jinja2', '2.10', {
        'source_urls': ['https://pypi.python.org/packages/source/J/Jinja2/'],
        'checksums': [
            'f84be1bb0040caca4cea721fcbbbbd61f9be9464ca236387158b0feea01914a4',
        ],
    }),
    ('networkx', '2.1', {
        'source_urls': ['https://pypi.python.org/packages/source/n/networkx/'],
        'source_tmpl': 'networkx-%(version)s.zip',
        'checksums': [
            '64272ca418972b70a196cb15d9c85a5a6041f09a2f32e0d30c0255f25d458bb1',
        ],
    }),
    ('colormath', '3.0.0', {
        'source_urls': ['https://pypi.python.org/packages/source/c/colormath/'],
        'checksums': [
            '3d4605af344527da0e4f9f504fad7ddbebda35322c566a6c72e28edb1ff31217',
        ],
    }),
    ('spectra', '0.0.11', {
        'source_urls': ['https://pypi.python.org/packages/source/s/spectra/'],
        'checksums': [
            '8eb362a5187cb63cee13cd01186799c0c791a3ad3bec57b279132e12521762b8',
        ],
    }),
    ('certifi', '2018.1.18', {
        'source_urls': ['https://pypi.python.org/packages/source/c/certifi/'],
        'checksums': [
            'edbc3f203427eef571f79a7692bb160a2b0f7ccaa31953e99bd17e307cf63f7d',
        ],
    }),
    ('urllib3', '1.22', {
        'source_urls': ['https://pypi.python.org/packages/source/u/urllib3/'],
        'checksums': [
            'cc44da8e1145637334317feebd728bd869a35285b93cbb4cca2577da7e62db4f',  # urllib3-1.22.tar.gz
        ],
    }),
    ('chardet', '3.0.4', {
        'source_urls': ['https://pypi.python.org/packages/source/c/chardet/'],
        'checksums': [
            '84ab92ed1c4d4f16916e05906b6b75a6c0fb5db821cc65e70cbd64a3e2a5eaae',  # chardet-3.0.4.tar.gz
        ],
    }),
    ('requests', '2.18.4', {
        'source_urls': ['https://pypi.python.org/packages/source/r/requests/'],
        'checksums': [
            '9c443e7324ba5b85070c4a818ade28bfabedf16ea10206da1132edaa6dda237e',  # requests-2.18.4.tar.gz
        ],
    }),
    ('Markdown', '2.6.9', {
        'source_urls': ['https://pypi.python.org/packages/source/M/Markdown/'],
        'checksums': [
            '73af797238b95768b3a9b6fe6270e250e5c09d988b8e5b223fd5efa4e06faf81',  # Markdown-2.6.9.tar.gz
        ],
    }),
    ('future', '0.16.0', {
        'source_urls': ['https://pypi.python.org/packages/source/f/future/'],
        'checksums': [
            'e39ced1ab767b5936646cedba8bcce582398233d6a627067d4c6a454c90cfedb',  # future-0.16.0.tar.gz
        ],
    }),
    ('lzstring', '1.0.3', {
        'source_urls': ['https://pypi.python.org/packages/source/l/lzstring/'],
        'checksums': [
            'd54dd5a5f86837ccfc1343cc9f1cb0674d2d6ebd4b49f6408c35104f0a996cb4',  # lzstring-1.0.3.tar.gz
        ],
    }),
    ('multiqc', version, {
        'source_urls': ['https://pypi.python.org/packages/source/m/multiqc/'],
        'checksums': [
            'a83ea64c9a92137a63fc3c6ea37b13af241f9cd9b800eb17d9f03a5d7f261d46',
        ],
    }),
]

full_sanity_check = True

sanity_check_paths = {
    'files': ['bin/multiqc'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}
sanity_check_commands = ["multiqc --help"]

modextrapaths = {'PYTHONPATH': ['lib/python%(pyshortver)s/site-packages']}

moduleclass = 'bio'
