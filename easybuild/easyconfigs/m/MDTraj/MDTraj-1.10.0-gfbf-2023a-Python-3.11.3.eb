# Updated: Helena Vela (HPCNow!)

easyblock = 'PythonBundle'

name = 'MDTraj'
version = '1.10.0'

versionsuffix = "-Python-3.11.3"

homepage = 'https://mdtraj.org'
description = "Read, write and analyze MD trajectories with only a few lines of Python code."

toolchain = {'name': 'gfbf', 'version': '2023a'}
toolchainopts = {'openmp': True}

dependencies = [
    ('Python', '3.11.3'),
    ('SciPy-bundle', '2023.07'),
    ('zlib', '1.2.11'),
]

use_pip = True
exts_list = [
    ('astor', '0.8.1', {
        'checksums': ['6a6effda93f4e1ce9f618779b2dd1d9d84f1e32812c23a29b3fff6fd7f63fa5e'],
    }),
    ('pymbar', '3.1', {
        # pymbar 3.1 is not available via PyPI, see https://github.com/choderalab/pymbar/issues/475
        'source_urls': ['https://github.com/choderalab/pymbar/archive/'],
        'sources': ['%(version)s.tar.gz'],
        'checksums': ['7a996e5d3fd8143378f9e18662483446a4a2fe7e57917511e96beb6b07fd6232'],
    }),
    ('astunparse', '1.6.3', {
        'checksums': ['5ad93a8456f0d084c3456d059fd9a92cce667963232cbf763eac3bc5b7940872'],
    }),
    ('mdtraj', version, {
        'checksums': ['7d518b5a53b498f52686567e0191e9ee41a725b3296a8dbcac24fe824ed4af8f'],
    }),
]

# The unit tests of MDTraj are a pain to get to work: they require
# a massive number of extra dependencies. See
# https://github.com/mdtraj/mdtraj/blob/master/devtools/conda-recipe/meta.yaml

sanity_pip_check = True

moduleclass = 'chem'
