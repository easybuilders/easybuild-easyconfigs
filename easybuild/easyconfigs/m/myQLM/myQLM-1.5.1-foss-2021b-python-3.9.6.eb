# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     Aurelio Rodr√≠guez <aurelio.rodriguez@hpcnow.com>
# License::     GPL-v3.0
# #
easyblock = 'PythonBundle'

name = 'myQLM'
version = '1.5.1'
versionsuffix = '-python-%(pyver)s'

homepage = 'https://atos.net/en/lp/myqlm'
description = """
myQLM is a quantum software stack for writing, simulating, optimizing, and executing quantum programs. 
Through a Python interface, it provides:
- powerful semantics for manipulating quantum circuits, with support for universal as well as custom gate sets, 
abstract parameters, advanced linking options, etc.;
- a versatile execution stack for running quantum jobs, including an easy handling of observables, special plugins 
for carrying out NISQ-oriented variational methods (such as VQE, QAOA), and easy API for writing customized plugins 
(e.g for compilation or error mitigation), as well as for connecting to any Quantum Processing Unit (QPU);
- a seamless interface to available quantum processors and major quantum programming frameworks.

"""

toolchain = {'name': 'foss', 'version': '2021b'}

builddependencies = [
    ('CMake', '3.22.1'),
]


dependencies = [
    ('Python', '3.9.6'),
    ('dill', '0.3.4'),
    ('SciPy-bundle', '2021.10'),
    ('matplotlib', '3.4.3'),
    ('networkx', '2.6.3'),
]

use_pip = True
sanity_pip_check = True

exts_list = [
    ('prompt-toolkit', '3.0.29', {
        'source_tmpl': 'prompt_toolkit-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['62291dad495e665fca0bda814e342c69952086afb0f4094d0893d357e5c78752'],
    }),
    ('thrift', '0.13.0', {
        'checksums': ['9af1c86bf73433afc6010ed376a6c6aca2b54099cc0d61895f640870a9ae7d89'],
    }),
    ('svgwrite', '1.4.2', {
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['ca63d76396d1f6f099a2b2d8cf1419e1c1de8deece9a2b7f4da0632067d71d43'],
    }),
    ('Wand', '0.6.7', {
        'checksums': ['ebc01bccc25dba68414ab55b482341f9ad2b197d7f49d5e724f339bbf63fb6db'],
    }),
    ('qat_comm', '1.3.4', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['785a7f25de2b4f47e634d1fecf3114a3b15ee37511f95ecf5ce477b501512d86'],
    }),
    ('qat_core', version, {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['4a9a325122e029ef19288295284729dd298f78b418ef82f2b51858e8c9f47b7a'],
    }),
    ('qat_lang', '2.1.3', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['dc516920078bbcf896fe5e0c15e6e34b512cf8c1c9f6b75e4c61364596808197'],
    }),
    ('pyDOE', '0.3.8', {
        'modulename': 'pyDOE',
        'source_tmpl': '%(name)s-%(version)s.zip',
        'checksums': ['cbd6f14ae26d3c9f736013205f53ea1191add4567033c3ee77b7dd356566c4b6'],
    }),
    ('qat_variational', '1.3.3', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['ebac9ed385b3d94bf291de4008028fffff99f0df6280fcee421f4619309604f5'],
    }),
    ('myqlm_simulators', version, {
        'modulename': False,
        'source_tmpl': 'myqlm_simulators-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['2e38950d57de120676684d881b6eb30a74f363b96325cddb27c2167c5acd311a'],
    }),
    ('myqlm_interop', version, {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['baa6c6dc4b6af74dc0bdd50cc3d5288bbcfe1193793b556a17356ebb194826c2'],
    }),
    ('qat_devices', '0.1.5', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['1c7660fa4a788a2e015029397a1a2f14572b50d90593c5c2a0bc6da23321e0e6'],
    }),
    ('prettytable', '3.0.0', {
        'checksums': ['69fe75d78ac8651e16dd61265b9e19626df5d630ae294fc31687aa6037b97a58'],
    }),
    ('pyOpenSSL', '21.0.0', {
        'modulename': 'OpenSSL',
        'checksums': ['5e2d8c5e46d0d865ae933bef5230090bdaf5506281e9eec60fa250ee80600cb3'],
    }),
    ('qdldl', '0.1.5.post0', {
        'checksums': ['c392c7427651d8b226423c7aba4a0f2338a1f38a4bbdabac6bc4afd8bc934f06'],
    }),
    ('ecos', '2.0.10', {
        'checksums': ['9391a73fd25b2fc56b163a2a70c78973458bb194fe475b6c27672c0d980a47cf'],
    }),
    ('osqp', '0.6.2.post5', {
        'checksums': ['b2fa17aae42a7ed498ec261b33f262bb4b3605e7e8464062159d9fae817f0d61'],
    }),
    ('scs', '3.0.1', {
        'checksums': ['22a8f319b989a5c4048e6313ccacf7d0dc4687af87ac1916c5750651b38f0623'],
    }),
    ('cvxpy', '1.1.18', {
        'checksums': ['5baefe1f2ed6937749b293586c6ce4f42ed30e7890223f7661ccb2bb7df70bef'],
    }),
    ('qutip', '4.6.2', {
        'checksums': ['9614e8e8270dd28728150c00f74ec750b9a2a23fb3b4fe629006f86dd02011df'],
    }),
    ('qat_hardware', '1.2.3', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['40e74c13ca7e0cca706c3936b2af9ac4634a0bf27bae1d533c430b860a716bf6'],
    }),
    ('qat_quops', '1.2.1', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['c49e2a398e81020e4a063802b61f65e787e6c7b1c47d6339c3c9830e1f148b36'],
    }),
    ('qlmaas', '1.4.1', {
        'modulename': False,
        'source_tmpl': '%(name)s-%(version)s-cp39-cp39-manylinux1_x86_64.whl',
        'unpack_sources': False,
        'checksums': ['b07b4686b42940b32fbce27eac0fea73bc3cf788372719a70bb263d15b8542ad'],
    }),
    ('myqlm', version, {
        'modulename': 'qat',
        'source_tmpl': 'myqlm-%(version)s-py3-none-any.whl',
        'unpack_sources': False,
        'checksums': ['0605ef01cce7e0ac6051575684c9b302cddc09b4259037e8bdef881bb256df26'],
    }),
]

sanity_check_paths = {
    'files': [],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

moduleclass = 'quantum'

docurls = ['https://myqlm.github.io/']
