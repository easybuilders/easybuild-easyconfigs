easyblock = 'ConfigureMake'

name = 'monitor'
version = '1.1.2'

homepage = 'https://github.com/gjbex/monitor'
description = "monitor logs cpu and memory usage of a running application"

toolchain = SYSTEM

source_urls = ['https://github.com/gjbex/monitor/archive/refs/tags/']
sources = ['%(version)s.tar.gz']
checksums = ['0e034526c8b6fd3880df5d65a6b2599b5e9fd88ea4506aa29bd6c7f016fb9753']

osdependencies = ['perl']

exts_defaultclass = 'PerlModule'

exts_list = [
    ('Data::Dumper', '2.183', {
        'source_tmpl': 'Data-Dumper-%(version)s.tar.gz',
        'source_urls': ['https://cpan.metacpan.org/authors/id/N/NW/NWCLARK'],
        'checksums': ['e42736890b7dae1b37818d9c5efa1f1fdc52dec04f446a33a4819bf1d4ab5ad3'],
    }),
    ('Getopt::Long', '2.52', {
        'source_tmpl': 'Getopt-Long-%(version)s.tar.gz',
        'source_urls': ['https://cpan.metacpan.org/authors/id/J/JV/JV'],
        'checksums': ['9dc7a7c373353d5c05efae548e7b123aa8a31d1f506eb8dbbec8f0dca77705fa'],
    }),
    ('IO', '1.48', {
        'source_tmpl': 'IO-%(version)s.tar.gz',
        'source_urls': ['https://cpan.metacpan.org/authors/id/T/TO/TODDR'],
        'checksums': ['c271b518e28ba9bc95bc0824b689db8e35006219eb2c03f1ec395bd089253658'],
    }),
    ('List::Util', '1.60', {
        'source_tmpl': 'Scalar-List-Utils-%(version)s.tar.gz',
        'source_urls': ['https://cpan.metacpan.org/authors/id/P/PE/PEVANS'],
        'checksums': ['c685bad8021f008f321288b7c3182ec724ab198a77610e877c86f3fad4b85f07'],
    }),
    ('Set::Scalar', '1.29', {
        'source_tmpl': 'Set-Scalar-%(version)s.tar.gz',
        'source_urls': ['https://cpan.metacpan.org/authors/id/D/DA/DAVIDO'],
        'checksums': ['a3dc1526f3dde72d3c64ea00007b86ce608cdcd93567cf6e6e42dc10fdc4511d'],
    }),
]

modextrapaths = {
    'PERL5LIB': ['share/perl5', 'lib64/perl5'],
}

sanity_check_paths = {
    'files': ['bin/monitor'],
    'dirs': [],
}

sanity_check_commands = ["monitor -h"]

moduleclass = 'tools'
