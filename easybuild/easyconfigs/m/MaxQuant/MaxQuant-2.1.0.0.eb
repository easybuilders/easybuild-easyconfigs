easyblock = 'Tarball'

name = 'MaxQuant'
version = '2.1.0.0'

homepage = 'https://maxquant.org/maxquant'
description = """MaxQuant is a quantitative proteomics software package designed for analyzing large
 mass-spectrometric data sets. It is specifically aimed at high-resolution MS data. Several labeling
 techniques as well as label-free quantification are supported."""

toolchain = SYSTEM

# requires registration at https://www.maxquant.org/download_asset/maxquant/latest
sources = ['%(name)s_%(version)s.zip']
checksums = ['dc1fead4ce57282d389d2850bb783e456c638cfa65b18610c9bb987566acc5d5']

dependencies = [('dotNET-SDK', '3.1.300', '-linux-x64')]

sanity_check_paths = {
    'files': ['%(name)s.exe', 'bin/%(name)sCmd.exe', 'bin/%(name)sGui.exe'],
    'dirs': [],
}

sanity_check_commands = [
    ("dotnet $EBROOTMAXQUANT/bin/%(name)sCmd.exe --version 2>&1 | grep -q 2.0.3.1", ''),  # reports wrong version
    ("dotnet $EBROOTMAXQUANT/bin/%(name)sCmd.exe --help 2>&1 | grep -q USAGE", '')]

modaliases = {
    'maxquantcmd': 'dotnet $EBROOTMAXQUANT/bin/%(name)sCmd.exe',
    'maxquantgui': 'dotnet $EBROOTMAXQUANT/bin/%(name)sGui.exe',
}

modloadmsg = """
To run MaxQuant in command-line mode:  maxquantcmd <options>
                in GUI mode:           maxquantgui
"""

moduleclass = 'bio'
