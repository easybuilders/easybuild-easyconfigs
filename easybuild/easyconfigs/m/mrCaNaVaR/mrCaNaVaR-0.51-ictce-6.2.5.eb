# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics
# Biozentrum - University of Basel

easyblock = 'MakeCp'

name = 'mrCaNaVaR'
version = '0.51'

homepage = 'http://mrcanavar.sourceforge.net/'
description = """ mrCaNaVaR (mɪstər ʤʌnʌvʌr) is a copy number caller that analyzes the 
 whole-genome next-generation sequence mapping read depth to discover large segmental 
 duplications and deletions. It also has the capability of predicting absolute copy 
 numbers of genomic intervals. """

toolchain = {'name': 'ictce', 'version': '6.2.5'}
# when compiling with intel icc you will get this compiler warnings but compilation finishes.
# Not sure how serious this is
#
# callcnv.c(280): warning #192: unrecognized character escape sequence
#     fprintf(txtDepth, "#%s\t%s\t%s\t%s\t%s\n\n", "CHROM", "START", "END", "GC\%", "COPYNUMBER");
#                                                                                  ^

source_urls = [SOURCEFORGE_SOURCE]
sources = [SOURCELOWER_TAR_GZ]

parallel = 1

makeopts = ' CC=$CC'

files_to_copy = [
        (['mrcanavar'], 'bin'), 
        "TODO", 
        "LICENSE",
        "Changelog"
]

sanity_check_paths = {
    'files': ["bin/mrcanavar"],
    'dirs': [""],
}

moduleclass = 'bio'
