# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     Jordi Blasco <jordi.blasco@hpcnow.com>; Guillermo AR Piccoli <guillermo.piccoli@hpcnow.com>
# License::     GPL-v3.0
# #

easyblock = 'PythonPackage'

name = 'MAGeCK-VISPR'
version = '0.5.6'

homepage = 'https://bitbucket.org/liulab/mageck-vispr/'
description = """MAGeCK-VISPR is a comprehensive quality control, analysis and visualization workflow for CRISPR/Cas9
  screens The workflow combines the MAGeCK algorithm to identify essential genes from CRISPR/Cas9 screens considering
  multiple conditions with VISPR to interactively explore results and quality control in a web-based frontend."""

toolchain = {'name': 'foss', 'version': '2023a'}

source_urls = ['https://bitbucket.org/liulab/%(namelower)s/get']
sources = ['v%(version)s.tar.gz']
checksums = ['b6bdd59d34f9bbb548c88de8948e2aacf7e461a62a74c1b8ef8a73b9b64b2e92']

dependencies = [
    ('Python', '3.11.3'),
    ('Meson', '1.2.3', '', ('GCCcore', '13.2.0'))
]

download_dep_fail = True
use_pip = True
sanity_pip_check = True

options = {'modulename': 'mageck_vispr'}

exts_defaultclass = 'PythonPackage'

exts_default_options = {
    'download_dep_fail': True,
    'sanity_pip_check': True,
    'source_urls': [PYPI_SOURCE],
    'use_pip': True,
}

exts_list = [
    ('setuptools', '69.2.0', {
        'checksums': ['0ff4183f8f42cd8fa3acea16c45205521a4ef28f73c6391d8a25e92893134f2e'],
    }),
    ('MarkupSafe', '2.1.5', {
        'checksums': ['d283d37a890ba4c1ae73ffadf8046435c76e7bc2247bbb63c00bd1a709c6544b'],
    }),
    ('Jinja2', '3.1.3', {
        'checksums': ['ac8bd6544d4bb2c9792bf3a159e80bba8fda7f07e81bc3aed565432d5925ba90'],
    }),
    ('PyYAML', '6.0.1', {
        'modulename': 'yaml',
        'checksums': ['bfdf460b1736c775f2ba9f6a92bca30bc2095067b8a9d77876d1fad6cc3b4a43'],
    }),
    ('packaging', '24.0', {
        'checksums': ['eb82c5e3e56209074766e6885bb04b8c38a0c015d0a30036ebe7ece34c9989e9'],
    }),
    ('pyproject-metadata', '0.7.1', {
        'checksums': ['0a94f18b108b9b21f3a26a3d541f056c34edcb17dc872a144a15618fed7aef67'],
    }),
    ('meson-python', '0.15.0', {
        'modulename': 'mesonpy',
        'source_tmpl': 'meson_python-%(version)s.tar.gz',
        'checksums': ['fddb73eecd49e89c1c41c87937cd89c2d0b65a1c63ba28238681d4bd9484d26f'],
    }),
    ('versioneer', '0.29', {
        'checksums': ['5ab283b9857211d61b53318b7c792cf68e798e765ee17c27ade9f6c924235731'],
    }),
    ('Cython', '3.0.9', {
        'checksums': ['a2d354f059d1f055d34cfaa62c5b68bc78ac2ceab6407148d47fb508cf3ba4f3'],
    }),
    ('setuptools-scm', '8.0.4', {
        'modulename': 'setuptools_scm',
        'checksums': ['b5f43ff6800669595193fd09891564ee9d1d7dcb196cab4b2506d53a2e1c95c7'],
    }),
    ('pytest', '8.1.1', {
        'checksums': ['ac978141a75948948817d360297b7aae0fcb9d6ff6bc9ec6d514b85d5a65c044'],
    }),
    ('pluggy', '1.4.0', {
        'checksums': ['8c85c2876142a764e5b7548e7d9a0e0ddb46f5185161049a79b7e974454223be'],
    }),
    ('pathspec', '0.12.1', {
        'checksums': ['a482d51503a1ab33b1c67a6c3813a26953dbdc71c31dacaef9a838c4e29f5712'],
    }),
    ('calver', '2022.6.26', {
        'checksums': ['e05493a3b17517ef1748fbe610da11f10485faa7c416b9d33fd4a52d74894f8b'],
    }),
    ('trove_classifiers', '2024.3.3', {
        'source_tmpl': 'trove-classifiers-%(version)s.tar.gz',
        'checksums': ['df7edff9c67ff86b733628998330b180e81d125b1e096536d83ac0fd79673fdc'],
    }),
    ('hatchling', '1.22.4', {
        'checksums': ['8a2dcec96d7fb848382ef5848e5ac43fdae641f35a08a3fab5116bd495f3416e'],
    }),
    ('hatch-vcs', '0.4.0', {
        'source_tmpl': 'hatch_vcs-%(version)s.tar.gz',
        'checksums': ['093810748fe01db0d451fabcf2c1ac2688caefd232d4ede967090b1c1b07d9f7'],
    }),
    ('iniconfig', '2.0.0', {
        'checksums': ['2d91e135bf72d31a410b17c16da610a82cb55f6b0477d1a902134b24a455b8b3'],
    }),
    ('hypothesis', '6.99.13', {
        'checksums': ['e425e8a3f1912e44f62ff3e2768dca19c79f46d43ec70fa56e96e2d7194ccd2d'],
    }),
    ('hatch-fancy-pypi-readme', '24.1.0', {
        'source_tmpl': 'hatch_fancy_pypi_readme-%(version)s.tar.gz',
        'checksums': ['44dd239f1a779b9dcf8ebc9401a611fd7f7e3e14578dcf22c265dfaf7c1514b8'],
    }),
    ('attrs', '23.2.0', {
        'checksums': ['935dc3b529c262f6cf76e50877d35a4bd3c1de194fd41f47a2b7ae8f19971f30'],
    }),
    ('sortedcontainers', '2.4.0', {
        'checksums': ['25caa5a06cc30b6b83d11423433f65d1f9d76c4c6a0c90e3379eaa43b9bfdb88'],
    }),
    ('numpy', '1.26.4', {
        'checksums': ['2a02aba9ed12e4ac4eb3ea9421c420301a0c6460d9830d74a9df87efa4912010'],
    }),
    ('pluggy', '1.4.0', {
        'checksums': ['8c85c2876142a764e5b7548e7d9a0e0ddb46f5185161049a79b7e974454223be'],
    }),
    ('python-dateutil', '2.9.0.post0', {
        'modulename': 'dateutil',
        'checksums': ['37dd54208da7e1cd875388217d5e00ebd4179249f90fb72437e91a35459a0ad3'],
    }),
    ('pytz', '2024.1', {
        'checksums': ['2a29735ea9c18baf14b448846bde5a48030ed267578472d8955cd0e7443a9812'],
    }),
    ('typing-extensions', '4.10.0', {
        'source_tmpl': 'typing_extensions-%(version)s.tar.gz',
        'checksums': ['b0abd7c89e8fb96f98db18d86106ff1d90ab692004eb746cf6eda2682f91b3cb'],
    }),
    ('tzdata', '2024.1', {
        'checksums': ['2674120f8d891909751c38abcdfd386ac0a5a1127954fbc332af6b5ceae07efd'],
    }),
    ('six', '1.16.0', {
        'checksums': ['1e61c37477a1626458e36f7b1d82aa5c9b094fa4802892072e49de9c60c4c926'],
    }),
    ('pandas', '2.2.1', {
        'checksums': ['0ab90f87093c13f3e8fa45b48ba9f39181046e8f3317d3aadb2fffbb1b978572'],
    }),
]

sanity_check_commands = ['mageck-vispr --version']

sanity_check_paths = {
    'files': ['bin/mageck-vispr'],
    'dirs': ['bin'],
}

moduleclass = 'bio'
