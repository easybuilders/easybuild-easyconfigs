# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     Jordi Blasco <jordi.blasco@hpcnow.com>; Guillermo AR Piccoli <guillermo.piccoli@hpcnow.com>
# License::     GPL-v3.0
# #

easyblock = 'PythonBundle'

name = 'MAGeCK-VISPR'
version = '0.5.6'

homepage = 'https://bitbucket.org/liulab/mageck-vispr/'
description = """MAGeCK-VISPR is a comprehensive quality control, analysis and visualization workflow for CRISPR/Cas9
  screens The workflow combines the MAGeCK algorithm to identify essential genes from CRISPR/Cas9 screens considering
  multiple conditions with VISPR to interactively explore results and quality control in a web-based frontend."""

toolchain = {'name': 'foss', 'version': '2023a'}

dependencies = [
    ('SciPy-bundle', '2023.07'),
    ('Meson', '1.4.0')
]

download_dep_fail = True
use_pip = True
sanity_pip_check = True

exts_list = [
    ('PyYAML', '5.4.1', {
        'modulename': 'yaml',
        'checksums': ['607774cbba28732bfa802b54baa7484215f530991055bb562efbed5b2f20a45e'],
    }),
    ('pyproject-metadata', '0.7.1', {
        'checksums': ['0a94f18b108b9b21f3a26a3d541f056c34edcb17dc872a144a15618fed7aef67'],
    }),
    ('setuptools-scm', '8.0.4', {
        'modulename': 'setuptools_scm',
        'checksums': ['b5f43ff6800669595193fd09891564ee9d1d7dcb196cab4b2506d53a2e1c95c7'],
    }),
    ('calver', '2022.6.26', {
        'checksums': ['e05493a3b17517ef1748fbe610da11f10485faa7c416b9d33fd4a52d74894f8b'],
    }),
    ('trove_classifiers', '2024.3.3', {
        'source_tmpl': 'trove-classifiers-%(version)s.tar.gz',
        'checksums': ['df7edff9c67ff86b733628998330b180e81d125b1e096536d83ac0fd79673fdc'],
    }),
    ('hatchling', '1.22.4', {
        'checksums': ['8a2dcec96d7fb848382ef5848e5ac43fdae641f35a08a3fab5116bd495f3416e'],
    }),
    ('hatch-vcs', '0.4.0', {
        'source_tmpl': 'hatch_vcs-%(version)s.tar.gz',
        'checksums': ['093810748fe01db0d451fabcf2c1ac2688caefd232d4ede967090b1c1b07d9f7'],
    }),
    ('hatch-fancy-pypi-readme', '24.1.0', {
        'source_tmpl': 'hatch_fancy_pypi_readme-%(version)s.tar.gz',
        'checksums': ['44dd239f1a779b9dcf8ebc9401a611fd7f7e3e14578dcf22c265dfaf7c1514b8'],
    }),
    (name, version, {
        'source_tmpl': 'v%(version)s.tar.gz',
        'modulename': 'mageck_vispr',
        'source_urls': 'https://bitbucket.org/liulab/%(namelower)s/get',
        'checksums': ['b6bdd59d34f9bbb548c88de8948e2aacf7e461a62a74c1b8ef8a73b9b64b2e92']
    })
]

sanity_check_commands = ['mageck-vispr --version']

sanity_check_paths = {
    'files': ['bin/mageck-vispr'],
    'dirs': ['bin'],
}

moduleclass = 'bio'
