# #
# This is a contribution from HPCNow! (http://hpcnow.com)
# Copyright::   HPCNow!
# Authors::     Jordi Blasco <jordi.blasco@hpcnow.com>; Guillermo AR Piccoli <guillermo.piccoli@hpcnow.com>
# License::     GPL-v3.0
# #

easyblock = 'PythonPackage'

name = 'MAGeCK-VISPR'
version = '0.5.6'

homepage = 'https://bitbucket.org/liulab/mageck-vispr/'
description = """MAGeCK-VISPR is a comprehensive quality control, analysis and visualization workflow for CRISPR/Cas9
  screens The workflow combines the MAGeCK algorithm to identify essential genes from CRISPR/Cas9 screens considering
  multiple conditions with VISPR to interactively explore results and quality control in a web-based frontend."""

toolchain = {'name': 'foss', 'version': '2023a'}

builddependencies = [
    ('meson-python', '0.13.2'),
    ('hatchling', '1.18.0'),
]

dependencies = [
    ('SciPy-bundle', '2023.07'),
    ('PyYAML', '6.0'),
]

download_dep_fail = True
use_pip = True
sanity_pip_check = True

sources = ['v%(version)s.tar.gz']
source_urls = ['https://bitbucket.org/liulab/%(namelower)s/get']
checksums = ['b6bdd59d34f9bbb548c88de8948e2aacf7e461a62a74c1b8ef8a73b9b64b2e92']

sanity_check_commands = ['mageck-vispr --version']

sanity_check_paths = {
    'files': ['bin/mageck-vispr'],
    'dirs': ['bin'],
}

moduleclass = 'bio'
