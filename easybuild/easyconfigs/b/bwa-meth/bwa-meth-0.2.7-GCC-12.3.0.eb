# Author: Pavel Grochal (INUITS)
# License: GPLv2

easyblock = 'PythonBundle'

name = 'bwa-meth'
version = '0.2.7'

homepage = 'https://github.com/brentp/bwa-meth'
description = """Fast and accurante alignment of BS-Seq reads."""

toolchain = {'name': 'GCC', 'version': '12.3.0'}

dependencies = [
    ('Python', '3.11.3'),
    ('SAMtools', '1.18'),
    ('BWA', '0.7.18'),
]

exts_list = [
    ('toolshed', '0.4.6', {
        'checksums': ['23a31c177bf84244b30a9f12c7a8a17a66a2d63043ead0460c31b9ff42f9fb93'],
    }),
    (name, version, {
        'source_urls': ['https://github.com/brentp/bwa-meth/archive'],
        'source_tmpl': 'v%(version)s.tar.gz',
        'checksums': ['322a20786fc1987da9f91da311a39dd906935bd0f1734f106b984b78b8557d0a'],
        'modulename': 'bwameth',
    }),
]

fix_python_shebang_for = ['bin/bwameth.py', 'bin/toolshed']

sanity_check_paths = {
    'files': ['bin/bwameth.py', 'bin/toolshed'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = [
    "toolshed --help",
    "bwameth.py --help",
]

moduleclass = 'bio'
