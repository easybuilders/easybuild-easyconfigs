easyblock = 'MakeCp'

name = 'BBMap'
version = '39.01'

homepage = 'https://sourceforge.net/projects/bbmap/'
description = "BBMap short read aligner, and other bioinformatic tools."

toolchain = {'name': 'GCC', 'version': '12.3.0'}

source_urls = [SOURCEFORGE_SOURCE]
sources = ['%(name)s_%(version)s.tar.gz']
checksums = ['98608da50130c47f3abd095b889cc87f60beeb8b96169b664bc9d849abe093e6']

dependencies = [
    ('Java', '23.0.1', '', SYSTEM),
]

prebuildopts = "cd jni && "
buildopts = "-f makefile.linux"

modloadmsg = "For improved speed, add 'usejni=t' to the command line of %(name)s tools which support the use "
modloadmsg += "of the compiled jni C code."
files_to_copy = ['*']

sanity_check_paths = {
    'files': ['%(namelower)s.sh', 'jni/libbbtoolsjni.so'],
    'dirs': [],
}

modextrapaths = {'PATH': ''}

moduleclass = 'bio'
