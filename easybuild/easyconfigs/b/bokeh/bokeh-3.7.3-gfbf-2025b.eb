easyblock = 'PythonBundle'

name = 'bokeh'
version = '3.7.3'

homepage = 'https://github.com/bokeh/bokeh'
description = "Statistical and novel interactive HTML plots for Python"

toolchain = {'name': 'gfbf', 'version': '2025b'}

builddependencies = [
    ('meson-python', '0.18.0'),
    ('hatchling', '1.27.0'),
    ('pybind11', '3.0.0'),
]

dependencies = [
    ('Python', '3.13.5'),
    ('Python-bundle-PyPI', '2025.07'),
    ('SciPy-bundle', '2025.07'),
    ('matplotlib', '3.10.5'),
    ('PyYAML', '6.0.2'),
    ('Pillow', '11.3.0'),
    ('tornado', '6.5.1'),
]

exts_list = [
    ('xyzservices', '2025.4.0', {
        'checksums': ['6fe764713648fac53450fbc61a3c366cb6ae5335a1b2ae0c3796b495de3709d8'],
    }),
    ('narwhals', '2.0.1', {
        'checksums': ['235e61ca807bc21110ca36a4d53888ecc22c42dcdf50a7c886e10dde3fd7f38c'],
    }),
    (name, version, {
        'preinstallopts': """sed -i 's/setup(/setup(version="%(version)s",/g' setup.py && """,
        'checksums': ['70a89a9f797b103d5ee6ad15fb7944adda115cf0da996ed0b75cfba61cb12f2b'],
    }),
]

sanity_check_paths = {
    'files': ['bin/bokeh'],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

sanity_check_commands = ["bokeh --help"]

moduleclass = 'tools'
