name = 'Bazel'
version = '0.26.1'

homepage = 'https://bazel.io/'
description = """Bazel is a build tool that builds code quickly and reliably.
It is used to build the majority of Google's software."""

toolchain = {'name': 'GCCcore', 'version': '8.3.0'}

source_urls = ['https://github.com/bazelbuild/bazel/releases/download/%(version)s']
sources = ['%(namelower)s-%(version)s-dist.zip']
patches = ['rename-gettid-functions.patch']
checksums = [
    'c0e94f8f818759f3f67af798c38683520c540f469cb41aea8f5e5a0e43f11600',  # bazel-0.26.1-dist.zip
    'da61e710e0e29eefa04f25b530875fda7bc52165a5b60027f17112173dd2330b',  # rename-gettid-functions.patch
]

builddependencies = [
    ('binutils', '2.32'),
    ('Python', '3.7.4'),
]
dependencies = [('Java', '11', '', True)]

prebuildopts = 'export EXTRA_BAZEL_ARGS="--host_javabase=@local_jdk//:jdk" && '

moduleclass = 'devel'
