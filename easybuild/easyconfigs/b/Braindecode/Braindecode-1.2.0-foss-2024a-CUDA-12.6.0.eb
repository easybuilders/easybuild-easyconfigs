easyblock = 'PythonBundle'

name = 'Braindecode'
version = '1.2.0'
versionsuffix = '-CUDA-%(cudaver)s'

homepage = 'https://braindecode.org/'
description = """Braindecode is an open-source Python toolbox for decoding raw
electrophysiological brain data with deep learning models. It includes dataset
fetchers, data preprocessing and visualization tools, as well as
implementations of several deep learning architectures and data augmentations
for analysis of EEG, ECoG and MEG."""

toolchain = {'name': 'foss', 'version': '2024a'}

builddependencies = [
    ('hatchling', '1.24.2'),
]

dependencies = [
    ('CUDA', '12.6.0', '', SYSTEM),
    ('Python', '3.12.3'),
    ('SciPy-bundle', '2024.05'),
    ('PyTorch', '2.6.0', versionsuffix),
    ('einops', '0.8.1'),
    ('h5py', '3.12.1'),
    ('matplotlib', '3.9.2'),
    ('MNE-Python', '1.10.2'),
    ('MOABB', '1.2.0'),
    ('skorch', '1.3.0', versionsuffix),
    ('torchaudio', '2.6.0', versionsuffix),
    ('aiohttp', '3.10.10'),  # for wfdb
]

exts_list = [
    ('hyper-connections', '0.2.1', {
        'checksums': ['e97850a0ec6d52d649b8852a5790e5e2f1810054f5dc490dad1530ce5aac2e20'],
    }),
    ('colt5-attention', '0.11.1', {
        'checksums': ['7a8082efa20a86f6257ba3c76b9e4cd8a978ddc073483189accf9a7ef4cce61b'],
    }),
    ('soundfile', '0.13.1', {
        'checksums': ['b2c68dab1e30297317080a5b43df57e302584c49e2942defdde0acccc53f0e5b'],
    }),
    ('wfdb', '4.3.0', {
        'preinstallopts': """sed -i -e 's/"pandas .*"/"pandas"/' -e 's/"aiohttp .*"/"aiohttp"/' pyproject.toml && """,
        'checksums': ['60df86bc5c9186a91930d1118218d9301d40a730ff730ec1c8571d1141d92bb9'],
    }),
    ('docstring-inheritance', '2.3.0', {
        'modulename': 'docstring_inheritance',
        'source_tmpl': 'docstring_inheritance-%(version)s-py3-none-any.whl',
        'checksums': ['c89519e9deb0877d79a4540effc89a7d59335e2cbcd340ba107d50b76d1bf22e'],
    }),
    ('axial-positional-embedding', '0.3.12', {
        'checksums': ['10d98f342f8fa0d4d3d20b36ed27fb0fc63f1d398202b9165e07bc9d6130bc17'],
    }),
    ('linformer', '0.2.3', {
        'checksums': ['747a4dc025a557d164b61170f140ec4aa37cfca3ce088318f3d5f39194cfcaba'],
    }),
    ('local-attention', '1.11.2', {
        'checksums': ['94e48fec748e96fa81ac6c3e27a357950eaab22cd8f69a10c50b23d6eec8f09c'],
    }),
    ('product-key-memory', '0.3.0', {
        'checksums': ['e4961ee71da62a25e6740bfca693feef20f4503e1049233c8684c27def065a2a'],
    }),
    ('linear-attention-transformer', '0.19.1', {
        'modulename': 'linear_attention_transformer',
        'source_tmpl': 'linear_attention_transformer-%(version)s-py3-none-any.whl',
        'checksums': ['4d0ea2d7953210c7d5516c52028c2a07efc76cd799944476e1d5171f65c5efe8'],
    }),
    ('torchinfo', '1.8.0', {
        'checksums': ['72e94b0e9a3e64dc583a8e5b7940b8938a1ac0f033f795457f27e6f4e7afa2e9'],
    }),
    ('braindecode', version, {
        'use_pip_extras': 'moabb',
        'checksums': ['b25161d41f04125dc0ce06a8d9bafe85ec1a25284730ed2a27d39b74bb2af84a'],
    }),
]

moduleclass = 'ai'
